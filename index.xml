<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>codedumpçš„ç½‘ç»œæ—¥å¿— on codedumpçš„ç½‘ç»œæ—¥å¿—</title>
    <link>https://www.codedump.info/</link>
    <description>Recent content in codedumpçš„ç½‘ç»œæ—¥å¿— on codedumpçš„ç½‘ç»œæ—¥å¿—</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sun, 10 Apr 2022 11:38:16 +0800</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>åšå®¢ç³»åˆ—æ–‡ç« ç´¢å¼•</title>
      <link>https://www.codedump.info/post/20200122-series-pages/</link>
      <pubDate>Wed, 22 Jan 2020 14:36:00 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20200122-series-pages/</guid>
      <description>

&lt;p&gt;åœ¨åšå®¢å·²ç»å†™äº†å¾ˆå¤šæ–‡ç« äº†ï¼Œæœ‰ä¸€äº›æ–‡ç« ç‹¬ç«‹æˆä½“ï¼Œæœ‰ä¸€äº›åˆ™æ˜¯ç³»åˆ—æ–‡ç« æ¥è®²è¿°ä¸€ä¸ªä¸»é¢˜ï¼Œåœ¨è¿™é‡Œå°†è¿™äº›ç³»åˆ—æ–‡ç« æ•´ç†ä¸‹æ¥ï¼Œæœ¬é¡µé¢å°†ä¸å®šæœŸæ›´æ–°ã€‚&lt;/p&gt;

&lt;h1 id=&#34;linuxç³»ç»Ÿç›¸å…³&#34;&gt;Linuxç³»ç»Ÿç›¸å…³&lt;/h1&gt;

&lt;h2 id=&#34;é¢å‘åº”ç”¨å¼€å‘è€…çš„ç³»ç»ŸæŒ‡å—&#34;&gt;é¢å‘åº”ç”¨å¼€å‘è€…çš„ç³»ç»ŸæŒ‡å—&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200501-system-guide-for-application-programmer/&#34;&gt;ã€Šé¢å‘åº”ç”¨å¼€å‘è€…çš„ç³»ç»ŸæŒ‡å—ã€‹å¯¼è®º&amp;amp;ç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;åŸºç¡€ç¯‡&#34;&gt;åŸºç¡€ç¯‡&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200128-systemtap-by-example/&#34;&gt;é€šè¿‡å®ä¾‹å¿«é€Ÿå…¥é—¨Systemtap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200218-linux-traceevent/&#34;&gt;Systemtapä¸­å†…æ ¸traceäº‹ä»¶çš„å®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;cpuç¯‡&#34;&gt;CPUç¯‡&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200502-sgfap-process/&#34;&gt;è¿›ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200503-sgfap-process-schedule/&#34;&gt;è¿›ç¨‹è°ƒåº¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200503-sgfap-process-systemtap/&#34;&gt;ä½¿ç”¨systemtapåˆ†æè¿›ç¨‹çš„è¡Œä¸º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200516-sgfap-syscall/&#34;&gt;ç³»ç»Ÿè°ƒç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200522-sgfap-softirq/&#34;&gt;è½¯ä¸­æ–­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;åˆ†å¸ƒå¼ç›¸å…³&#34;&gt;åˆ†å¸ƒå¼ç›¸å…³&lt;/h1&gt;

&lt;h2 id=&#34;etcdåŠraftåŸç†&#34;&gt;etcdåŠRaftåŸç†&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20180921-raft/&#34;&gt;Raftç®—æ³•åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20180922-etcd-raft/&#34;&gt;etcd Raftåº“è§£æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20181125-etcd-server/&#34;&gt;Etcdå­˜å‚¨çš„å®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20210515-raft/&#34;&gt;Etcd Raftåº“çš„å·¥ç¨‹åŒ–å®ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20210628-etcd-wal/&#34;&gt;Etcd Raftåº“çš„æ—¥å¿—å­˜å‚¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211011-raft-propose-prev-term/&#34;&gt;ä¸ºä»€ä¹ˆRaftåè®®ä¸èƒ½æäº¤ä¹‹å‰ä»»æœŸçš„æ—¥å¿—ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220101-etcd3.5-joint-consensus/&#34;&gt;etcd 3.5ç‰ˆæœ¬çš„joint consensuså®ç°è§£æ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å­˜å‚¨å¼•æ“&#34;&gt;å­˜å‚¨å¼•æ“&lt;/h1&gt;

&lt;h2 id=&#34;ç†è®ºåŸºç¡€&#34;&gt;ç†è®ºåŸºç¡€&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200609-btree-1/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸Šï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200615-btree-2/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸‹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;sqlite&#34;&gt;sqlite&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-0/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆé›¶ï¼‰- èµ·æ­¥åŠæ¦‚è¿° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-1-pagecache/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸€ï¼‰- ç®¡ç†é¡µé¢ç¼“å­˜ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211218-sqlite-btree-2-concurrency-control/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäºŒï¼‰- å¹¶å‘æ§åˆ¶æ¡†æ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211222-sqlite-btree-3-journal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸‰ï¼‰- journalæ–‡ä»¶å¤‡ä»½æœºåˆ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;leveldb&#34;&gt;leveldb&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190215-leveldb/&#34;&gt;Leveldbä»£ç é˜…è¯»ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;boltdb&#34;&gt;boltdb&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200625-boltdb-1/&#34;&gt;boltdb 1.3.0å®ç°åˆ†æï¼ˆä¸€ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200711-boltdb-2/&#34;&gt;boltdb 1.3.0å®ç°åˆ†æï¼ˆäºŒï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200725-boltdb-3/&#34;&gt;boltdb 1.3.0å®ç°åˆ†æï¼ˆä¸‰ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200726-boltdb-4/&#34;&gt;boltdb 1.3.0å®ç°åˆ†æï¼ˆå››ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç¼“å­˜æœåŠ¡&#34;&gt;ç¼“å­˜æœåŠ¡&lt;/h1&gt;

&lt;h2 id=&#34;memcached&#34;&gt;memcached&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20210701-memcached/&#34;&gt;Memcachedçš„å­˜å‚¨åŸç†è§£æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20210812-memcached/&#34;&gt;Memcachedçš„å­˜å‚¨åŸç†è§£æï¼ˆç»­ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç³»ç»Ÿè®¾è®¡ç›¸å…³&#34;&gt;ç³»ç»Ÿè®¾è®¡ç›¸å…³&lt;/h1&gt;

&lt;h2 id=&#34;imæœåŠ¡å™¨è®¾è®¡&#34;&gt;IMæœåŠ¡å™¨è®¾è®¡&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190608-im-design-base/&#34;&gt;IMæœåŠ¡å™¨è®¾è®¡-åŸºç¡€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190608-im-msg-storage/&#34;&gt;IMæœåŠ¡å™¨è®¾è®¡-æ¶ˆæ¯å­˜å‚¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190818-im-msg-gate/&#34;&gt;IMæœåŠ¡å™¨è®¾è®¡-ç½‘å…³æ¥å…¥å±‚ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20191013-im-msg-out-of-order/&#34;&gt;IMæœåŠ¡å™¨è®¾è®¡-å¦‚ä½•è§£å†³æ¶ˆæ¯çš„ä¹±åº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æœåŠ¡è°ƒç”¨&#34;&gt;æœåŠ¡è°ƒç”¨&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190629-service-history/&#34;&gt;æœåŠ¡è°ƒç”¨çš„æ¼”è¿›å†å²&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å¤šæ ¸ç¼–ç¨‹&#34;&gt;å¤šæ ¸ç¼–ç¨‹&lt;/h1&gt;

&lt;h2 id=&#34;å†…å­˜æ¨¡å‹&#34;&gt;å†…å­˜æ¨¡å‹&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20191214-cxx11-memory-model-1/&#34;&gt;C++11ä¸­çš„å†…å­˜æ¨¡å‹ä¸Šç¯‡ - å†…å­˜æ¨¡å‹åŸºç¡€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20191214-cxx11-memory-model-2/&#34;&gt;C++11ä¸­çš„å†…å­˜æ¨¡å‹ä¸‹ç¯‡ - C++11æ”¯æŒçš„å‡ ç§å†…å­˜æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æºç è§£æç±»&#34;&gt;æºç è§£æç±»&lt;/h1&gt;

&lt;h2 id=&#34;etcd&#34;&gt;Etcd&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20180922-etcd-raft/&#34;&gt;etcd Raftåº“è§£æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20181125-etcd-server/&#34;&gt;Etcdå­˜å‚¨çš„å®ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;nginx-openresty&#34;&gt;Nginx &amp;amp;&amp;amp; OpenResty&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190103-nginx-config-parse/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-é…ç½®è§£ææµç¨‹ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190131-nginx-master-worker/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-Master Wokerè¿›ç¨‹æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190131-nginx-event/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-äº‹ä»¶å¤„ç†æ¨¡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190131-nginx-read-http-request/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-æ¥æ”¶HTTPè¯·æ±‚æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190212-nginx-http-config/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-æŸ¥è¯¢HTTPé…ç½®æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190213-nginx-process-http-request/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-å¤„ç†HTTPè¯·æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190214-nginx-memory-pool/&#34;&gt;Nginxæºç é˜…è¯»ç¬”è®°-å†…å­˜æ± çš„è®¾è®¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190501-lua-stream/&#34;&gt;OpenResty Lua Streamå®ç°åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;zeromq&#34;&gt;Zeromq&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190209-zeromq-lockfree-queue/&#34;&gt;zeromqæ‰€è°“çš„â€œæ— é”æ¶ˆæ¯é˜Ÿåˆ—â€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;redis&#34;&gt;Redis&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190409-redis-sentinel/&#34;&gt;redisé«˜å¯ç”¨åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;glog&#34;&gt;Glog&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190729-glog/&#34;&gt;glog C++ç‰ˆæœ¬ä»£ç åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;libuv&#34;&gt;Libuv&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190123-libuv/&#34;&gt;Libuvä»£ç ç®€å•åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;è¯»ä¹¦ç¬”è®°&#34;&gt;è¯»ä¹¦ç¬”è®°&lt;/h1&gt;

&lt;h2 id=&#34;æ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20181118-ddia-chapter05-replication/&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ç¬¬äº”ç« æ•°æ®å¤åˆ¶ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20181124-ddia-chapter06-partitioning/&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ç¬¬å…­ç« æ•°æ®åˆ†åŒºç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190403-ddia-chapter07-transaction/&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ç¬¬ä¸ƒç« ã€Šäº‹åŠ¡ã€‹ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190405-ddia-chapter08-the-trouble-with-distributed-system/&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ç¬¬å…«ç« ã€Šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æŒ‘æˆ˜ã€‹ç¬”è®°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190406-ddia-chapter09-consistency-and-consensus/&#34;&gt;ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹ç¬¬ä¹ç« ã€Šä¸€è‡´æ€§ä¸å…±è¯†ã€‹ç¬”è®° &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æ‚&#34;&gt;æ‚&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20190324-how-to-read-code/&#34;&gt;å¦‚ä½•é˜…è¯»ä¸€ä»½æºä»£ç ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200605-how-to-read-code-v2020/&#34;&gt;å¦‚ä½•é˜…è¯»ä¸€ä»½æºä»£ç ï¼Ÿï¼ˆ2020å¹´ç‰ˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬12æœŸï¼‰ï¼šPage orientedç±»å­˜å‚¨å¼•æ“é‡Œå¯èƒ½åŒæ—¶å­˜åœ¨å¤šç§æ ‘å½¢ç»“æ„</title>
      <link>https://www.codedump.info/post/20220410-weekly-12/</link>
      <pubDate>Sun, 10 Apr 2022 11:38:16 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220410-weekly-12/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šæœ¬æœŸèŠä¸€èŠPage orientedç±»å­˜å‚¨å¼•æ“å†…çš„æ•°æ®ç»“æ„ç»„ç»‡ã€‚åœ¨æ»¡è¶³â€œå‘ç£ç›˜è¯»å†™çš„åŸºæœ¬å•ä½æ˜¯ç‰©ç†é¡µé¢â€è¿™ä¸ªå¤§å‰æä¸‹ï¼Œè¿™ç±»å­˜å‚¨å¼•æ“çš„æ ‘å½¢ç»“æ„å°±å¯èƒ½æœ‰å¤šç§ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;page-orientedç±»å­˜å‚¨å¼•æ“é‡Œå¯èƒ½åŒæ—¶å­˜åœ¨å¤šç§æ ‘å½¢ç»“æ„&#34;&gt;page orientedç±»å­˜å‚¨å¼•æ“é‡Œå¯èƒ½åŒæ—¶å­˜åœ¨å¤šç§æ ‘å½¢ç»“æ„&lt;/h1&gt;

&lt;h2 id=&#34;å­˜å‚¨å¼•æ“çš„åˆ†ç±»&#34;&gt;å­˜å‚¨å¼•æ“çš„åˆ†ç±»&lt;/h2&gt;

&lt;p&gt;ç›®å‰æ¥è§¦åˆ°çš„å­˜å‚¨å¼•æ“ï¼Œä»¥å‘ç£ç›˜è¯»å†™æ–¹å¼æ¥åˆ†ç±»çš„è¯ï¼Œå¤§ä½“å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;LSM-Treeç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;Page orientedç±»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;LSM-Treeæ˜¯â€œLog-Structured Merge-Treeâ€çš„ç®€ç§°ï¼Œè¿™ç±»å­˜å‚¨å¼•æ“å†™å…¥ä¸€æ¡æ•°æ®çš„æµç¨‹å¤§ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‘å†…å­˜ä»¥åŠWALæ—¥å¿—ä¸­å†™å…¥å®Œæˆï¼Œå³å¯è®¤ä¸ºå†™å…¥æˆåŠŸã€‚&lt;/li&gt;
&lt;li&gt;å†…å­˜ä¸­çš„æ•°æ®å†™æ»¡ä¹‹åï¼Œå°†è½ç›˜åˆ°æ‰€è°“çš„sstableä¸­ã€‚&lt;/li&gt;
&lt;li&gt;sstableåˆ†ä¸ºå¤šå±‚ï¼Œéšç€å†™å…¥è¿›è¡Œï¼Œä¸åŒå±‚æ¬¡çš„sstableæ•°æ®å°†è¿›è¡Œåˆå¹¶ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220410-weekly-12/LSM.jpeg&#34; alt=&#34;LSM&#34; title=&#34;LSM&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå›¾ç‰‡å¼•ç”¨è‡ª&lt;a href=&#34;https://zhuanlan.zhihu.com/p/181498475&#34;&gt;LSMæ ‘è¯¦è§£ - çŸ¥ä¹&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢ç®€å•çš„å†™å…¥LSMçš„æµç¨‹å¯ä»¥çœ‹åˆ°ï¼šæ— è®ºæ˜¯å†™å…¥å†…å­˜è¿˜æ˜¯ç£ç›˜ï¼Œè¿™ç±»å­˜å‚¨å¼•æ“åœ¨å†™å…¥æ–°æ•°æ®æ—¶ï¼ˆä¸æ˜¯åˆå¹¶sstableæµç¨‹ï¼‰ï¼Œç£ç›˜æ“ä½œçš„å•ä½æ˜¯ä¸€æ¡è®°å½•ã€‚è€Œä¸€æ¡è®°å½•çš„é•¿åº¦ï¼Œæ˜¯ä¸å®šé•¿çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä¸LSM-Treeç±»çš„ç»“æ„ä¸åŒçš„æ˜¯ï¼ŒPage orientedç±»çš„å­˜å‚¨å¼•æ“ï¼Œå‘ç£ç›˜å‘èµ·è¯»å†™æ“ä½œçš„åŸºæœ¬å•ä½æ˜¯é¡µé¢ï¼ˆpageï¼‰ï¼Œä¸€ä¸ªé¡µé¢é€šå¸¸çš„å¤§å°æ˜¯2çš„æ¬¡æ–¹ï¼Œæœ€å°ä¸€èˆ¬æ˜¯1024å­—èŠ‚ï¼Œæ¯”å¦‚sqliteçš„å­˜å‚¨ï¼Œå…¶é¡µé¢å¤§å°ä¸º4Kï¼ˆå¯ä»¥ä¿®æ”¹ç¼–è¯‘é€‰é¡¹é…ç½®é¡µé¢å¤§å°ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸€ä¸ªç‰©ç†é¡µé¢ä¸ºè¯»å†™ç£ç›˜çš„åŸºæœ¬å•ä½ï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸€ç±»å­˜å‚¨å¼•æ“ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€Page orientedç±»å­˜å‚¨å¼•æ“â€œçš„åŸå› ã€‚æœ¬æ–‡é‡ç‚¹æ˜¯ä»‹ç»Page orientedç±»å­˜å‚¨å¼•æ“çš„ç»“æ„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;page-orientedå­˜å‚¨å¼•æ“çš„ç»“æ„&#34;&gt;Page orientedå­˜å‚¨å¼•æ“çš„ç»“æ„&lt;/h2&gt;

&lt;p&gt;è¿˜æ˜¯ä»¥ä¹‹å‰ä»‹ç»è¿‡çš„sqliteçš„æ¶æ„å›¾æ¥å¼€å¤´ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20211217-sqlite-btree-0/btree-arch.png&#34; alt=&#34;btreeæ¶æ„&#34; title=&#34;btreeæ¶æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ¶æ„ç”±ä¸‹å¾€ä¸Šä¾æ¬¡æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿå±‚ï¼šæä¾›ä¸åŒç³»ç»Ÿçº§APIçš„å°è£…ï¼Œæ¯”å¦‚æ–‡ä»¶è¯»å†™ã€åŠ è§£é”æ“ä½œç­‰ã€‚&lt;/li&gt;
&lt;li&gt;ç‰©ç†é¡µé¢ç®¡ç†å±‚ï¼šæä¾›ç‰©ç†é¡µé¢è¯»å†™ã€ç¼“å­˜ç­‰åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;æ ‘å½¢ç»“æ„çš„å®ç°ï¼šæ ¹æ®å…·ä½“çš„æ ‘å½¢ç®—æ³•ï¼Œç»„ç»‡ç‰©ç†é¡µé¢ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼ˆæ¯”å¦‚çˆ¶å­é¡µé¢ã€å…„å¼Ÿé¡µé¢ï¼‰ï¼Œä»¥åŠå•ä¸ªç‰©ç†é¡µé¢ä¹‹å†…çš„æ•°æ®çš„ç»„ç»‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™é‡Œçš„é‡ç‚¹æ˜¯é¡µé¢ç®¡ç†å±‚å’Œæ ‘å½¢ç»“æ„çš„å®ç°è¿™ä¸¤éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰©ç†é¡µé¢ç®¡ç†ç›¸å½“äºæ˜¯ç£ç›˜æ–‡ä»¶çš„â€åŸææ–™ä¾›åº”å•†â€œï¼Œè´Ÿè´£å¯¹å®ƒçš„å®¢æˆ·ä¹Ÿå°±æ˜¯å„ç§ä¸åŒç»“æ„çš„å®ç°æä¾›ç‰©ç†é¡µé¢è¿™ä¸€â€åŸææ–™â€œçš„è¯»å†™ã€ç¼“å­˜ç®¡ç†ï¼Œè€Œå®ƒå¯¹è¿™äº›ææ–™è¢«å®¢æˆ·æ‹¿å»åšæˆäº†ä»€ä¹ˆï¼Œä¸€æ— æ‰€çŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;æ ‘å½¢ç»“æ„çš„å®ç°ï¼Œä»é¡µé¢ç®¡ç†å™¨æ‹¿åˆ°äº†â€ç‰©ç†é¡µé¢â€œè¿™ä¸ªåŸææ–™ä¹‹åï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ä»»æ„å¡‘é€ æˆä»»ä½•åˆç†çš„ç»“æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/database-file.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒPage orientedå­˜å‚¨å¼•æ“ï¼Œåœ¨æ»¡è¶³â€œå‘ç£ç›˜è¯»å†™çš„åŸºæœ¬å•ä½æ˜¯ç‰©ç†é¡µé¢â€è¿™ä¸ªå¤§å‰æä¸‹ï¼Œè¿™ç±»å­˜å‚¨å¼•æ“çš„æ ‘å½¢ç»“æ„å°±å¯èƒ½æœ‰å¤šç§ï¼šå¯èƒ½æ˜¯B-Treeï¼Œä¹Ÿå¯èƒ½æ˜¯B+Treeã€‚è¿˜æœ‰å¦ä¸€ç§æƒ…å†µæ˜¯ï¼šæ˜¯ä¸€ä¸ªè¿™ç±»å­˜å‚¨å¼•æ“å†…éƒ¨åŒæ—¶å­˜åœ¨å¤šç§æ ‘å½¢ç»“æ„ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥sqliteä¸ºä¾‹ï¼Œå†…éƒ¨å…¶å®å°±å­˜åœ¨ä¸¤ç§æ ‘å½¢ç»“æ„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å­˜å‚¨ç´¢å¼•çš„index treeï¼šç»“æ„ä¸ºB-Treeï¼Œé”®ä¸ºè¡¨ç´¢å¼•ï¼Œå€¼ä¸ºè¿™ä¸€è¡Œæ•°æ®çš„&lt;code&gt;rowid&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;rowid&lt;/code&gt;ä¸ºéšè—åˆ—ï¼Œåˆ›å»ºæ•°æ®è¡¨æ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œè¿™ä¸€åˆ—æ˜¯è‡ªå¢æ•´æ•°ã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨æ•°æ®çš„table treeï¼šç»“æ„ä¸ºB+Treeï¼Œé”®ä¸º&lt;code&gt;rowid&lt;/code&gt;ï¼Œå€¼ä¸ºä¸€è¡Œæ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸¤ç±»å­˜å‚¨å¼•æ“ï¼Œç”±äºåŒå±äºâ€œPage orientedç±»å­˜å‚¨å¼•æ“â€ï¼Œå› æ­¤å¯ä»¥å…±ç”¨åŒä¸€ä¸ªç‰©ç†é¡µé¢ç®¡ç†å™¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/btree-rowid.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸‹é¢ï¼Œä»¥sqliteä¸­çš„ä¸€ä¸ªè¡¨ä¸ºä¾‹æ¥è§£é‡Šä¸Šé¢è¿™ä¸ªæµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªè¡¨ä»¥åŠç´¢å¼•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;// åˆ›å»ºæ•°æ®åº“COMPANY
CREATE TABLE COMPANY(
   ID             INT      NOT NULL,
   NAME           TEXT    NOT NULL,
   AGE            INT     NOT NULL,
);
// åˆ›å»ºç´¢å¼•
CREATE INDEX id_index ON COMPANY (id);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸Šé¢è¿™ä¸ªå»ºè¡¨ä»¥åŠåˆ›å»ºç´¢å¼•ä¹‹åï¼Œå¯¹åº”çš„åœ¨è¿™ä¸ªæ•°æ®æ–‡ä»¶ä¸­å°±æœ‰äº†ä¸¤ä¸ªæ ‘å½¢ç»“æ„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å­˜å‚¨&lt;code&gt;COMPANY&lt;/code&gt;è¡¨æ•°æ®çš„table-treeã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨ç´¢å¼•&lt;code&gt;id&lt;/code&gt;åˆ°&lt;code&gt;rowid&lt;/code&gt;å…³ç³»çš„index-treeã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœå‘è¿™ä¸ªè¡¨æ’å…¥æ•°æ®ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;INSERT INTO COMPANY (ID,NAME,AGE) VALUES (1, &#39;Paul&#39;, 32 );
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‚£ä¹ˆï¼Œè¿™ä¸ªæ’å…¥æ“ä½œèƒŒåå®é™…å¯¹åº”äº†å‘è¿™ä¸¤æ£µæ ‘çš„æ’å…¥æ“ä½œï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œå°†è¿™ä¸€è¡Œæ•°æ®æ’å…¥åˆ°table-treeä¸­ï¼ŒåŒæ—¶å¾—åˆ°&lt;code&gt;rowid&lt;/code&gt;ä»¥åŠæ’å…¥æ—¶å€™çš„&lt;code&gt;id&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å†å°†ç¬¬ä¸€æ­¥å¾—åˆ°çš„&lt;code&gt;rowid&lt;/code&gt;ä»¥åŠ&lt;code&gt;id&lt;/code&gt;æ’å…¥åˆ°index-treeä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœä½¿ç”¨&lt;code&gt;id_index&lt;/code&gt;ç´¢å¼•æ¥æŸ¥è¯¢&lt;code&gt;COMPANY&lt;/code&gt;è¡¨ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * from COMPANY where id = 1;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªæŸ¥è¯¢æ“ä½œä¹Ÿå®é™…ä¸Šç»è¿‡äº†ä¸Šé¢è¿™ä¸¤ä¸ªè¡¨ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œé€šè¿‡å­˜å‚¨&lt;code&gt;id_index&lt;/code&gt;åˆ°&lt;code&gt;rowid&lt;/code&gt;å…³ç³»çš„index-treeï¼Œæ‰¾åˆ°&lt;code&gt;id=1&lt;/code&gt;å¯¹åº”çš„&lt;code&gt;rowid&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œå†æ ¹æ®ç¬¬ä¸€æ­¥å¾—åˆ°çš„&lt;code&gt;rowid&lt;/code&gt;åˆ°table-treeä¸­æŸ¥è¯¢åˆ°è¿™ä¸€è¡Œæ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;å­˜å‚¨å¼•æ“ï¼ŒæŒ‰ç…§å¯¹ç£ç›˜è¯»å†™æ–¹å¼çš„ä¸åŒï¼Œå¤§ä½“å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š

&lt;ul&gt;
&lt;li&gt;LSM-Treeï¼šå†™ç£ç›˜çš„åŸºæœ¬å•ä½æ˜¯ä¸€æ¡è®°å½•ï¼Œè€Œä¸€æ¡è®°å½•å¤§å°æ˜¯ä¸å®šé•¿çš„ã€‚&lt;/li&gt;
&lt;li&gt;Page orientedï¼šè¯»å†™ç£ç›˜çš„åŸºæœ¬å•ä½æ˜¯é¡µé¢ï¼Œé¡µé¢å¤§å°ä¸º2çš„æ¬¡æ–¹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;â€œPage orientedâ€ç±»å­˜å‚¨å¼•æ“çš„æ ¸å¿ƒæ¨¡å—æ˜¯é¡µé¢ç®¡ç†å™¨å’Œæ ‘å½¢ç»“æ„çš„å®ç°ï¼Œå‰è€…æä¾›ç‰©ç†é¡µé¢è¿™ä¸€â€œåŸææ–™â€çš„è¯»å†™æ“ä½œï¼Œå¯¹é¡µé¢å†…éƒ¨çš„ç»“æ„ä¸€æ— æ‰€çŸ¥ï¼›åè€…ç»„ç»‡ç®¡ç†ç‰©ç†é¡µé¢é—´çš„é€»è¾‘å…³ç³»ï¼Œä»¥åŠç‰©ç†é¡µé¢å†…éƒ¨çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ»¡è¶³â€œè¯»å†™ç£ç›˜çš„åŸºæœ¬å•ä½æ˜¯é¡µé¢â€çš„å¤§å‰æä¸‹ï¼Œâ€œPage orientedâ€ç±»å­˜å‚¨å¼•æ“å¯ä»¥ä½¿ç”¨å„ç§æ ‘å½¢ç»“æ„ï¼Œè¿˜å¯èƒ½åœ¨åŒä¸€ä¸ªå­˜å‚¨å¼•æ“ä¸­åŒæ—¶å­˜åœ¨å¤šç§æ ‘å½¢ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;sqliteçš„å®ç°ï¼Œå†…éƒ¨å­˜åœ¨ä¸¤ç§ä¸åŒçš„æ ‘å½¢ç»“æ„ï¼šä½¿ç”¨B-Treeæ¥ç®¡ç†ç´¢å¼•æ•°æ®ï¼Œä»¥B+Treeæ¥ç®¡ç†è¡¨æ•°æ®ã€‚è¿™æ˜¯å› ä¸ºï¼š

&lt;ul&gt;
&lt;li&gt;ç´¢å¼•æ•°æ®çš„å€¼åªæœ‰&lt;code&gt;rowid&lt;/code&gt;è¿™æ ·çš„æ•´å‹æ•°æ®ï¼Œæ‰€ä»¥å•ä¸ªç‰©ç†é¡µé¢å†…èƒ½å­˜å‚¨æ›´å¤šçš„ç´¢å¼•æ•°æ®ï¼Œé€‚åˆä½¿ç”¨B-Treeè¿™æ ·â€œé«˜è€Œç˜¦â€çš„ç»“æ„æ¥ç®¡ç†è¿™ç±»å•æ¡æ•°æ®å¾ˆå°çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;è€ŒB+Treeçš„æ ‘å½¢ç»“æ„æ˜¯â€œçŸ®è€Œèƒ–â€çš„ç»“æ„ï¼Œæ›´é€‚åˆå­˜å‚¨ç®¡ç†å¤šç§ä¸å®šé•¿çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;gitçš„ç¬¬ä¸€ç‰ˆ&#34;&gt;Gitçš„ç¬¬ä¸€ç‰ˆ&lt;/h2&gt;

&lt;p&gt;2005å¹´4æœˆ6æ—¥ï¼ŒGitå‘å¸ƒäº†ç¬¬ä¸€ç‰ˆã€‚Gitæ— ç–‘æ˜¯æœ€ä¼Ÿå¤§çš„å¼€æºè½¯ä»¶ä¹‹ä¸€ï¼Œå®ƒçš„å‡ºç°æå¤§æ”¹å˜äº†å¼€æºè½¯ä»¶çš„åä½œã€å¼€å‘æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;æ ¹æ®è¿™é‡Œçš„â€œå²æ–™â€ï¼ˆ &lt;a href=&#34;https://www.ithome.com.tw/news/95088&#34;&gt;Gitåæ­²äº†ï¼Gitä¹‹çˆ¶Linus Torvaldsèªªå¤ï¼Œå¤§è«‡Gité–‹ç™¼ç§˜è¾› | iThome&lt;/a&gt; ï¼‰è®°è½½ï¼šLinusæœ€åˆåªèŠ±äº†10å¤©å°±å†™å‡ºäº†ç¬¬ä¸€ç‰ˆå¯ä»¥è·‘çš„Gitäº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ç”¨rustç¼–å†™grpcæœåŠ¡çš„åˆå­¦è€…æŒ‡å—&#34;&gt;ä½¿ç”¨Rustç¼–å†™gRPCæœåŠ¡çš„åˆå­¦è€…æŒ‡å—&lt;/h2&gt;

&lt;p&gt;æœ€è¿‘åœ¨ä½¿ç”¨Rustç¼–å†™gRPCæœåŠ¡ï¼Œè¿™ç¯‡æ•™ç¨‹è®²è§£äº†è¿™éƒ¨åˆ†å†…å®¹ï¼ŒåŒ…æ‹¬ä¸€åº”ä¸€ç­”æ¨¡å¼ã€å•å‘streamæ¨¡å¼ã€åŒå‘streamæ¨¡å¼éƒ½æœ‰å¯¹åº”çš„ä»£ç ä¾‹å­ï¼Œè§ï¼š&lt;a href=&#34;https://dev.to/anshulgoyal15/a-beginners-guide-to-grpc-with-rust-3c7o&#34;&gt;Rust gRPC: A beginners guide to gRPC with Rust&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åœ¨å¤§å…¬å¸å·¥ä½œçš„åæ§½&#34;&gt;åœ¨å¤§å…¬å¸å·¥ä½œçš„åæ§½&lt;/h2&gt;

&lt;p&gt;ä¸€ä½åœ¨ç¾å›½å·¥ä½œçš„å·¥ç¨‹å¸ˆå†™çš„å›½å¤–å¤§å…¬å¸ï¼ˆæ–‡ä¸­æ˜¯äºšé©¬é€Šï¼‰æ™‹å‡çš„ä¸€äº›æ§½ç‚¹ï¼Œçœ‹èµ·æ¥å’Œå›½å†…å¤§å…¬å¸ä¹Ÿå·®ä¸å¤šï¼Œè§ï¼š&lt;a href=&#34;https://yorotoo.medium.com/%E5%85%B3%E4%BA%8E%E5%8D%87%E8%81%8C-55dbe62ebaf&#34;&gt;å…³äºå‡èŒ - Yang Letu - Medium&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¦å¤–æ–‡ä¸­è¿˜æ¨èäº†ä¸€ä¸ªæ¨ç‰¹ä¸Šçš„åæ§½ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://twitter.com/kantrn/status/1511791378497384454&#34;&gt;Noah Kantrowitz on Twitter: &amp;ldquo;FAANG promo committees are killing Kubernetes: A Short Thread ğŸ§µ&amp;rdquo; / Twitter&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;å…³äºå¨å°”å²å¯†æ–¯æ‰“äºº-ä¸€ä½å°æ¹¾è€å¸ˆçš„ç¤¾ä¼šè¯¾å¼•å¯¼æ€è€ƒ&#34;&gt;ã€Šå…³äºå¨å°”å²å¯†æ–¯æ‰“äººï¼Œä¸€ä½å°æ¹¾è€å¸ˆçš„ç¤¾ä¼šè¯¾å¼•å¯¼æ€è€ƒã€‹&lt;/h2&gt;

&lt;p&gt;å…³äºå¨å°”å²å¯†æ–¯æ‰“äººï¼Œä¸€ä½å°æ¹¾è€å¸ˆçš„ç¤¾ä¼šè¯¾å¼•å¯¼æ€è€ƒï¼Œè§ï¼š&lt;a href=&#34;https://www.facebook.com/hhsleo/posts/5543635368999794&#34;&gt;https://www.facebook.com/hhsleo/posts/5543635368999794&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆä¸Šé¢çš„æ–‡ç« å¯èƒ½éœ€è¦FBæƒé™æ‰èƒ½æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥çœ‹è¿™ç¯‡å¾®ä¿¡å…¬ä¼—å·çš„è½¬å‘ï¼š&lt;a href=&#34;https://mp.weixin.qq.com/s/lGJpnq89gxTPxj_KUA2ZCg&#34;&gt;å…³äºå¨å°”å²å¯†æ–¯æ‰“äººï¼Œä¸€ä½å°æ¹¾è€å¸ˆçš„ç¤¾ä¼šè¯¾å¼•å¯¼æ€è€ƒ&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;â€œæˆ‘å‘Šè¨´å­¸ç”Ÿï¼Œæˆ‘ä»Šå¤©æ‰®æ¼”çš„è§’è‰²ï¼Œå°±åƒæ˜¯æ”¿æ²»äººç‰©æˆ–åª’é«”ï¼Œæˆ‘è“„æ„é¤µé¤Šä½ ç‰‡é¢çš„ã€æˆ‘æƒ³è¦ä½ çŸ¥é“çš„è³‡è¨Šï¼Œè€Œæœ‰è¶…é7æˆçš„äººï¼Œåœ¨é€™å€‹éç¨‹ä¸­ï¼Œè¢«æˆ‘æ“å¼„äº†ï¼Œä½ å› ç‚ºæˆ‘æ¯æ¬¡é¤µé¤Šçš„è³‡è¨Šä¸åŒï¼Œè€Œç”¢ç”Ÿç«‹å ´åè¦†çš„ç‹€æ³ï¼æ˜æ˜æ”¿æ²»äººç‰©æ‡‰è©²è€ƒæ…®çš„æ˜¯å…¬ç›Šï¼Œåª’é«”æ‡‰è©²å ±å°çš„æ˜¯çœŸç›¸ï¼Œä½†æˆ‘è‹¥æ•…æ„è¦æ“å¼„è¼¿è«–ï¼Œæˆ‘åªè¦çµ¦ä½ æˆ‘è¦ä½ çŸ¥é“çš„è¨Šæ¯å°±å¥½ï¼Œå°æˆ‘ä¸åˆ©çš„ï¼Œæˆ‘ä¸€æ¦‚ä¸æã€‚æ…¢æ…¢çš„ï¼Œæˆ‘å°±å¯ä»¥é€éé€™ç¨®æ„šå¼„çš„æ‰‹æ³•ï¼Œè®“æ°‘çœ¾è®Šæˆå°æˆ‘æ­»å¿ è€Œæ·±ä¿¡ä¸ç–‘çš„ç¦è‡ è€Œä¸è‡ªçŸ¥ï¼Œæˆ‘è¦ä½ è†œæ‹œä½ å°±è†œæ‹œï¼Œæˆ‘è¦ä½ æ‰“ç ¸æ®ºä½ å°±æ‰“ç ¸æ®ºï¼Œæˆ‘è¦ä½ å‰·é™¤ç•°å·±ä½ å°±å‰·é™¤ç•°å·±ï¼Œæˆ‘è¦ä½ ä¸Šåˆ€å±±ä¸‹æ²¹é‹ï¼Œä½ é‚„æœƒçˆ­å…ˆæå¾Œæƒ³è¦èº«å…ˆå£«å’ã€‚è€Œé€™æ¨£çš„ç¾è±¡ï¼Œæ­£åœ¨ä¸–ç•Œå„åœ°ä¸Šæ¼”â€&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬11æœŸï¼‰ï¼šmmapé€‚ç”¨äºå­˜å‚¨å¼•æ“å—ï¼Ÿ</title>
      <link>https://www.codedump.info/post/20220327-weekly-11/</link>
      <pubDate>Sun, 27 Mar 2022 15:06:38 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220327-weekly-11/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šæœ¬æœŸèŠä¸€èŠmmapæŠ€æœ¯åœ¨å­˜å‚¨å¼•æ“ä¸­çš„åº”ç”¨ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;mmapé€‚ç”¨äºå­˜å‚¨å¼•æ“å—&#34;&gt;mmapé€‚ç”¨äºå­˜å‚¨å¼•æ“å—ï¼Ÿ&lt;/h1&gt;

&lt;p&gt;æƒ³å†™è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦æºäºä¸¤ç¯‡æ–‡ç« ï¼ˆè®ºæ–‡ï¼‰ä¸­çš„å¯¹mmapåœ¨å­˜å‚¨å¼•æ“ä¸­ä½¿ç”¨çš„ä¸¤ç§æˆªç„¶ä¸åŒçš„è§‚ç‚¹è®¨è®ºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åæ–¹ï¼ˆmmapä¸åº”è¯¥ç”¨äºå­˜å‚¨å¼•æ“ï¼‰ï¼š&lt;a href=&#34;https://db.cs.cmu.edu/mmap-cidr2022/&#34;&gt;Are You Sure You Want to Use MMAP in Your Database Management System? (CIDR 2022)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ­£æ–¹ï¼ˆmmapå¯ä»¥ç”¨äºå­˜å‚¨å¼•æ“ï¼‰ï¼š&lt;a href=&#34;https://ayende.com/blog/196161-C/re-are-you-sure-you-want-to-use-mmap-in-your-database-management-system&#34;&gt;re: Are You Sure You Want to Use MMAP in Your Database Management System? - Ayende @ Rahien&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç”±äºåˆšå¥½çœ‹è¿‡è¿™ä¸¤ç§æ–¹å¼çš„btreeå­˜å‚¨å¼•æ“ï¼šsqliteçš„btreeå®ç°ä»¥åŠboltdbï¼Œæ‰€ä»¥å¯ä»¥ç»“åˆæˆ‘çš„è®¤çŸ¥æ¥èŠä¸€èŠè¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸¤ä¸ªå­˜å‚¨å¼•æ“çš„å®ç°éƒ½å·²ç»æ•´ç†æˆäº†ç³»åˆ—åšå®¢ï¼Œè¿™ä¸¤ä¸ªç³»åˆ—çš„ç¬¬ä¸€ç¯‡åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-0/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆé›¶ï¼‰- èµ·æ­¥åŠæ¦‚è¿° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200625-boltdb-1/&#34;&gt;boltdb 1.3.0å®ç°åˆ†æï¼ˆä¸€ï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…ˆæ¥çœ‹çœ‹ä¸€ä¸ªå­˜å‚¨å¼•æ“å®ç°æ—¶çš„å¤§ä½“åˆ†å±‚ï¼Œä»¥sqliteä¸ºä¾‹åˆ†ä¸ºä¸‰å±‚ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20211217-sqlite-btree-0/btree-arch.png&#34; alt=&#34;btreeæ¶æ„&#34; title=&#34;btreeæ¶æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;è‡ªä¸‹è€Œä¸Šï¼Œè¿™ä¸‰ä¸ªå±‚æ¬¡åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;oså±‚ï¼šå°è£…ç³»ç»Ÿçº§APIå®ç°æ–‡ä»¶çš„è¯»å†™ç­‰æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢ç®¡ç†å±‚ï¼šæä¾›ä»¥é¡µé¢ä¸ºå•ä½çš„è¯»ã€å†™ã€åŠ è½½ã€ç¼“å­˜ç­‰æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;btreeå®ç°ï¼šbtreeä»¥ç‰©ç†é¡µé¢ä¸ºå•ä½å‘ä¸‹ä¸€å±‚çš„é¡µé¢ç®¡ç†å±‚æ¥è¯»å†™é¡µé¢ï¼Œè€Œç‰©ç†é¡µé¢å†…éƒ¨çš„é€»è¾‘ç»„ç»‡ï¼ˆæ¯”å¦‚çˆ¶å­å…³ç³»ï¼‰ï¼Œä»¥åŠé¡µé¢å†…çš„æ•°æ®ç»„ç»‡ï¼ˆæ¯”å¦‚ä¸€ä¸ªé¡µé¢ä¸­ç®¡ç†çš„æ•°æ®ï¼‰ç”±è¿™ä¸€å±‚è´Ÿè´£ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥è¿™æ ·æ¥ç®€å•åŒºåˆ«ç†è§£â€œé¡µé¢ç®¡ç†â€æ¨¡å—å’Œbtreeæ¨¡å—çš„åŠŸèƒ½ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é¡µé¢ç®¡ç†ï¼šé¡¾åæ€ä¹‰ï¼Œé¡µé¢ç®¡ç†æ¨¡å—çš„æœ€åŸºæœ¬å•ä½æ˜¯â€é¡µé¢â€œï¼Œé¡µé¢çš„è¯»ã€å†™ã€ç¼“å­˜ã€è½ç›˜ã€æ¢å¤ã€å›æ»šç­‰ï¼Œéƒ½ç”±é¡µé¢æ¨¡å—è´Ÿè´£ã€‚ä¸Šä¸€å±‚ä¾èµ–é¡µé¢ç®¡ç†æ¨¡å—çš„btreeæ¨¡å—ï¼Œä¸éœ€è¦å…³å¿ƒä¸€ä¸ªé¡µé¢ä½•æ—¶ç¼“å­˜ã€ä½•æ—¶è½ç›˜ç­‰ç»†èŠ‚ã€‚å³ï¼š&lt;strong&gt;é¡µé¢æ¨¡å—è´Ÿè´£é¡µé¢çš„ç‰©ç†çº§åˆ«çš„æ“ä½œ&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;btreeï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è´Ÿè´£æŒ‰ç…§btreeç®—æ³•ï¼Œæ¥ç»„ç»‡é¡µé¢ï¼Œå³è´Ÿè´£çš„æ˜¯é¡µé¢ä¹‹é—´é€»è¾‘å…³ç³»ç»´æŠ¤ã€‚&lt;/li&gt;
&lt;li&gt;é™¤æ­¤ä»¥å¤–ï¼Œä¸€ä¸ªé¡µé¢å†…éƒ¨çš„æ•°æ®çš„ç‰©ç†ã€é€»è¾‘ç»„ç»‡ï¼Œä¹Ÿæ˜¯btreeæ¨¡å—æ¥è´Ÿè´£çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å³ï¼š&lt;strong&gt;btreeè´Ÿè´£ç»´æŠ¤é¡µé¢é—´çš„é€»è¾‘å…³ç³»ï¼Œä»¥åŠä¸€ä¸ªé¡µé¢å†…æ•°æ®çš„ç»„ç»‡ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20211217-sqlite-btree-0/page-module.png&#34; alt=&#34;ä»¥é¡µé¢ç‰©ç†ã€é€»è¾‘å…³ç³»çš„ç»´æŠ¤çœ‹æ¨¡å—åˆ’åˆ†&#34; title=&#34;ä»¥é¡µé¢ç‰©ç†ã€é€»è¾‘å…³ç³»çš„ç»´æŠ¤çœ‹æ¨¡å—åˆ’åˆ†&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œé€šå¸¸æŒ‰ç…§é¡µé¢ä¸ºå•ä½æ¥åˆ’åˆ†æ–‡ä»¶ï¼Œæ¯”å¦‚sqliteä¸€èˆ¬æ˜¯4KBå¤§å°ä¸ºä¸€ä¸ªç‰©ç†é¡µé¢ï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªå¤§çš„â€œç‰©ç†é¡µé¢æ•°ç»„â€ï¼Œè¿™æ ·çš„è¯æ¯ä¸ªç‰©ç†é¡µé¢éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç¼–å·ï¼ˆä»1å¼€å§‹ï¼‰ï¼Œè¿™ä¸ªç¼–å·é€šå¸¸ç®€ç§°ä¸ºPIDï¼ˆpage idï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„åŠŸèƒ½åˆ’åˆ†å¯ä»¥çœ‹åˆ°ï¼Œâ€œé¡µé¢ç®¡ç†å™¨ï¼ˆä¹Ÿè¢«ç§°ä¸ºâ€œbuffer poolï¼‰â€çš„åŠŸèƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªæœ€å…³é”®çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è¯»é¡µé¢ï¼šä¸Šå±‚çš„btreeè¦è¯»ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ä¸­çš„é¡µé¢æ—¶ï¼Œé€šå¸¸ä¼ å…¥ä¸€ä¸ªPIDï¼Œç”±é¡µé¢ç®¡ç†å™¨å»åŠ è½½è¿™ä¸ªé¡µé¢çš„æ•°æ®ã€‚è€Œé¡µé¢æ•°æ®å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šåˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ä¸€æ¬¡ç£ç›˜IOè¯»å‡ºæ¥ï¼Œä¹Ÿå¾ˆå¯èƒ½åœ¨å†…å­˜ä¸­ï¼Œæ­¤æ—¶å°±ä¸éœ€è¦è¯»ç£ç›˜æ“ä½œäº†ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å†™é¡µé¢ï¼šå½“ä¸€ä¸ªé¡µé¢è¢«ä¿®æ”¹åï¼Œå°±è¢«ç§°ä¸ºâ€œè„é¡µé¢ï¼ˆdirty pageï¼‰â€ï¼Œéœ€è¦è½ç›˜ï¼›ä½†å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡ä¿®æ”¹äº†ä¸€ä¸ªé¡µé¢çš„å†…å®¹ä¹‹åå°±é©¬ä¸Šè½ç›˜ï¼Œå…¶åŸå› åœ¨äºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¡å†™äº‹åŠ¡å¯èƒ½ä¿®æ”¹äº†ä¸æ­¢ä¸€ä¸ªé¡µé¢ï¼Œéœ€è¦ä»¥äº‹åŠ¡ä¸ºå•ä½å»è½ç›˜è„é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;å³ä¾¿æ˜¯è½ç›˜è„é¡µé¢ï¼Œç”±äºæ¶‰åŠåˆ°å†™ç£ç›˜æ“ä½œï¼Œæ‰€ä»¥è¿˜ä¼šç”¨å…¶ä»–æ–¹å¼å‡å°‘å†™ç£ç›˜çš„æ¬¡æ•°ã€‚æ¯”å¦‚sqliteçš„walå¤‡ä»½æ–‡ä»¶æœºåˆ¶ä¸­ï¼Œè„é¡µé¢çš„å†…å®¹æ˜¯é¦–å…ˆå†™å…¥walæ–‡ä»¶çš„ï¼Œç”±äºå†™walæ–‡ä»¶æ˜¯ä¸€æ¬¡appendæ“ä½œè€Œä¸æ˜¯éšæœºå†™ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šæ›´é«˜ï¼Œå¦‚æœä¸€ä¸ªè„é¡µé¢çš„å†…å®¹è¢«å†™å…¥walæ–‡ä»¶çš„è¯ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†é¡µé¢å†…å®¹æ˜¯ä¸æ€¥äºé©¬ä¸Šå†™å…¥æ•°æ®åº“æ–‡ä»¶çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç¼“å­˜é¡µé¢ï¼šç”±äºé¡µé¢ç¼“å­˜çš„åŠŸèƒ½ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªé¡µé¢ç¼“å­˜ç®¡ç†çš„åŠŸèƒ½ï¼Œä¸»è¦è´Ÿè´£ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ç¼“å­˜æ§åˆ¶ç®—æ³•ï¼ˆsqliteä¸­æ˜¯LRUï¼‰å°†ç»å¸¸è¯»åˆ°çš„é¡µé¢ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·ä¸å¿…æ¯æ¬¡éƒ½è¯»ç£ç›˜åŠ è½½æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç¼“å­˜å¤§å°ä¸å¤Ÿæ—¶ï¼Œå°†è„é¡µé¢è½ç›˜ï¼Œç©ºå‡ºæ¥ç©ºé—´åŠ è½½è¦è¯»çš„é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;çœ‹äº†ä¸Šé¢å¯¹é¡µé¢ç®¡ç†å™¨è¿™ä¸ªæ¨¡å—åŠŸèƒ½çš„æè¿°ï¼Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç”±äºæœ‰é¡µé¢ç¼“å­˜çš„ä½œç”¨ï¼Œæ‰€ä»¥èƒ½å¤Ÿç²¾å‡†çš„æ§åˆ¶é¡µé¢ç¼“å­˜çš„å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;å°†â€œè„é¡µé¢è½ç›˜â€è¿™ä¸ªæ“ä½œï¼Œæ˜¯ä¸å…·ä½“çš„äº‹åŠ¡æœ‰å…³ï¼Œå¹¶ä¸æ˜¯ä¿®æ”¹å®Œæ¯•å°±èƒ½ç›´æ¥è½ç›˜ï¼Œå¦åˆ™çš„è¯å¯èƒ½ä¼šæ¶‰åŠåˆ°è„å†™ç­‰é—®é¢˜ã€‚æ¯”å¦‚ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†1ã€2ã€3ä¸‰ä¸ªPIDçš„é¡µé¢ï¼Œä¿®æ”¹é¡µé¢1ä¹‹åå¹¶ä¸èƒ½é©¬ä¸Šè½ç›˜è¿™ä¸ªä¿®æ”¹ï¼Œéœ€è¦ç­‰åˆ°ä¸‰ä¸ªé¡µé¢éƒ½æ”¹å®Œäº†æ‰è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚æœä½¿ç”¨mmapæŠ€æœ¯æ¥ä»£æ›¿ä¸Šé¢çš„â€œé¡µé¢ç®¡ç†å™¨â€ä¼šé¢å¯¹ä»€ä¹ˆé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œæ— æ³•åšåˆ°å¯¹å†…å­˜å®¹é‡çš„ç²¾å‡†æ§åˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;å…¶æ¬¡ï¼Œå†™äº‹åŠ¡å¦‚ä½•å¤„ç†ï¼Œå› ä¸ºå½“ä½¿ç”¨mmapæŠ€æœ¯ä¿®æ”¹äº†ä¸€ä¸ªé¡µé¢æ—¶ï¼Œå®é™…ä¸Šè¿™ä¸ªè¢«ä¿®æ”¹çš„é¡µé¢å†…å®¹ä½•æ—¶è¢«OSå†…æ ¸è½åˆ°ç¡¬ç›˜ï¼Œå·²ç»ä¸ç”±ä½¿ç”¨è€…æ¥æ§åˆ¶äº†ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³ä¸Šé¢æåˆ°çš„ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†å¤šä¸ªé¡µé¢éœ€è¦åŒæ—¶è½ç›˜çš„é—®é¢˜ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä»¥boltdbä¸ºä¾‹ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ç±»ä¼¼COWçš„æœºåˆ¶æ¥è§£å†³ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220327-weekly-11/boltdb-write.png&#34; alt=&#34;boltdbå®ç°å†™äº‹åŠ¡&#34; title=&#34;boltdbå®ç°å†™äº‹åŠ¡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;boltdbçš„æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œå‰é¢ä¸‰ä¸ªé¡µé¢ä¾æ¬¡æ˜¯ï¼šmeta1é¡µé¢ã€meta2é¡µé¢ã€freelisté¡µé¢ï¼Œå‰ä¸¤è€…æ˜¯å­˜å‚¨æ•°æ®åº“å…ƒä¿¡æ¯çš„é¡µé¢ï¼Œfreelisté¡µé¢å¯ä»¥è®¤ä¸ºæ˜¯å­˜å‚¨å½“å‰ç©ºé—²é¡µé¢æ•°æ®ã€‚ä¹‹æ‰€ä»¥éœ€è¦ä¸¤ä¸ªmetaé¡µé¢ï¼Œæ˜¯ä¸ºäº†ä¿å­˜å†™ä¿¡æ¯ï¼šå³ä¾¿ä¸€æ¬¡å†™æ“ä½œå¤±è´¥ï¼Œå› ä¸ºè¿˜æœ‰å¦ä¸€ä¸ªmetaé¡µé¢ï¼Œè¿™æ ·å°±è¿˜èƒ½æ¢å¤å›æ¥ã€‚æ¯ä¸ªmetaé¡µé¢éƒ½æœ‰ä¸€ä¸ªå•è°ƒé€’å¢çš„äº‹åŠ¡idï¼Œäº‹åŠ¡idè¶Šå¤§è¯´æ˜æ˜¯è¶Šè¿‘çš„å†™æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å›¾ä¸­ç´§è·Ÿç€å‰é¢ä¸‰ä¸ªå…ƒé¡µé¢çš„æ˜¯é¡µé¢1ã€2ã€3ï¼Œå‡è®¾è¿™é‡Œçš„å†™äº‹åŠ¡å°±ä¿®æ”¹äº†è¿™ä¸‰ä¸ªé¡µé¢ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åœ¨è¿›è¡Œä¿®æ”¹æ—¶ï¼Œé¦–å…ˆæ‹¿åˆ°å½“å‰ä¿å­˜è¾ƒå¤§äº‹åŠ¡idçš„metaé¡µé¢ï¼Œè¿™é‡Œå‡è®¾æ˜¯meta1é¡µé¢ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç„¶åè¿›è¡Œå†™äº‹åŠ¡çš„é¡µé¢ä¿®æ”¹ï¼Œæ­¤æ—¶çš„ä¿®æ”¹è¿˜åªæ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å†™äº‹åŠ¡å®Œæˆä¹‹åï¼Œéœ€è¦å°†ä¿®æ”¹è½ç›˜ï¼Œå°†æŒ‰ç…§å¦‚ä¸‹çš„é¡ºåºæ¥è¿›è¡Œï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œæ•°æ®åº“æ–‡ä»¶ä¸­æ–°å¢ä¸‰ä¸ªé¡µé¢ä¿å­˜ä¿®æ”¹åçš„å†…å®¹ï¼Œè€ŒåŸæ¥çš„ä¸‰ä¸ªé¡µé¢å†…å®¹ä¸åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œå°†åŸå…ˆçš„ä¸‰ä¸ªé¡µé¢åŠ å…¥freelistç©ºé—²é¡µé¢é“¾è¡¨ä¸­ï¼Œè¿™æ ·ä¸‹ä¸€æ¬¡å°±å¯ä»¥å›æ”¶åˆ©ç”¨äº†ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œå°†meta1é¡µé¢çš„ä¿®æ”¹è½åœ°ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸ªä¿®æ”¹çš„é¡ºåºå¿…é¡»ä¸¥æ ¼éµå®ˆï¼Œå¦åˆ™ä¸­é—´ä¸€ä¸ªè¿‡ç¨‹å¤±è´¥æ•´ä¸ªæ•°æ®åº“æ–‡ä»¶å°±æŸåäº†ã€‚åªæœ‰å½“å®Œæˆmetaé¡µé¢çš„ä¿®æ”¹ï¼Œæ‰è®¤ä¸ºè¿™æ¬¡ä¿®æ”¹å®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;è¿™å°±æ˜¯boltdbè¿™ä¸ªä½¿ç”¨äº†mmapæ¥åšé¡µé¢ç®¡ç†çš„å­˜å‚¨å¼•æ“ï¼Œåº”å¯¹å†™äº‹åŠ¡æ“ä½œçš„æ‰‹æ®µï¼Œæœ¬è´¨ä¸Šç®—ä¸€ä¸ªCOWçš„åšæ³•ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â€œé¡µé¢ç®¡ç†å™¨â€åœ¨æ•´ä¸ªå­˜å‚¨å¼•æ“çš„æ¶æ„é‡Œï¼Œå¤„äºæ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼šå¯¹ä¸Šæä¾›ç‰©ç†é¡µé¢çº§åˆ«çš„è¯»ã€å†™ã€ç¼“å­˜æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œå¯¹ä¸‹ä½¿ç”¨OSç³»ç»ŸAPIæ¥å®ç°æ–‡ä»¶è¯»å†™æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;å…¶ç¼“å­˜åŠŸèƒ½ï¼Œèƒ½å¤Ÿè¾¾åˆ°ç²¾å‡†æ§åˆ¶é¡µé¢ç¼“å­˜è¿™éƒ¨åˆ†å†…å®¹å®¹é‡çš„ä½œç”¨ï¼›å¦å¤–ï¼Œç”±äºä¸€æ¬¡å†™äº‹åŠ¡é€šå¸¸ä¸æ­¢ä¿®æ”¹äº†ä¸€ä¸ªé¡µé¢ï¼Œæ‰€ä»¥è¿˜éœ€è¦ç²¾å‡†æ§åˆ¶è„é¡µé¢çš„è½ç›˜çš„æ—¶æœºï¼Œå¦åˆ™ä¼šå‡ºç°å†™åæ•°æ®åº“çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨mmapæ¥æ›¿ä»£è‡ªå®ç°çš„é¡µé¢ç®¡ç†å™¨æœ€å¤§çš„å°±æ˜¯è¿™ä¸¤ä¸ªé—®é¢˜ï¼š

&lt;ul&gt;
&lt;li&gt;æ— æ³•åšåˆ°ç²¾å‡†æ§åˆ¶é¡µé¢ç¼“å­˜å®¹é‡ã€‚&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨ç±»COWçš„åšæ³•æ¥è§£å†³å†™äº‹åŠ¡é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä¸Šé¢çš„ç¬¬äºŒä¸ªé—®é¢˜æœ‰è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯é—®é¢˜ä¸€è²Œä¼¼æ²¡æœ‰ã€‚æ‰€ä»¥ä¸€ä¸ªå­˜å‚¨å¼•æ“å¦‚æœä½¿ç”¨mmapæ¥å®ç°é¡µé¢ç®¡ç†ï¼Œå¯ä»¥è¯´è¿™ä¸ªå­˜å‚¨å¼•æ“å¯èƒ½åªé€‚ç”¨äºâ€œå†…å­˜ä¸æ•æ„Ÿâ€çš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;ç±»notepad-çš„ç¼–è¾‘å™¨&#34;&gt;ç±»notepad++çš„ç¼–è¾‘å™¨&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/dail8859/NotepadNext&#34;&gt;dail8859/NotepadNext: A cross-platform, reimplementation of Notepad++&lt;/a&gt;æ˜¯ä¸€æ¬¾åŸºäºqtç¼–å†™çš„ç¼–è¾‘å™¨ï¼Œä»…çœ‹ä½œè€…æä¾›çš„è½¯ä»¶æˆªå›¾å¯ä»¥è¯´å¾ˆåƒnotepad++äº†ï¼Œä½†æ˜¯ç›®å‰ä¸ºæ­¢å¥½åƒè¿˜åªæœ‰Linuxã€Winç‰ˆæœ¬ï¼Œå¸Œæœ›ä»¥åèƒ½æœ‰Macç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;h2 id=&#34;etcdä¸­çš„çº¢é»‘æ ‘å®ç°&#34;&gt;etcdä¸­çš„çº¢é»‘æ ‘å®ç°&lt;/h2&gt;

&lt;p&gt;æœ€è¿‘åœ¨çœ‹etcdçš„watcheræœºåˆ¶çš„å®ç°ï¼Œçœ‹ç€çœ‹ç€ï¼Œå‘ç°etcdè¿˜è‡ªå¸¦äº†ä¸€ä¸ªå«adtçš„åŒ…ï¼Œé‡Œé¢æ‰‹å†™äº†ä¸€ä¸ªçº¢é»‘æ ‘çš„å®ç°ï¼š&lt;a href=&#34;https://github.com/etcd-io/etcd/tree/main/pkg/adt&#34;&gt;etcd/pkg/adt&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ä¸€æ¡è±†ç“£åŠ¨æ€å¼•å‘çš„-ç–«æƒ…æ–‡å­¦-å¤å…´&#34;&gt;ä¸€æ¡è±†ç“£åŠ¨æ€å¼•å‘çš„â€œç–«æƒ…æ–‡å­¦â€å¤å…´&lt;/h2&gt;

&lt;p&gt;ç–«æƒ…æ—¶æœŸçš„è±†ç“£ç½‘ç»œæ–‡å­¦å¤§èµ›ï¼Œç”±ä¸€æ¡è±†ç“£å¼•å‘çš„ç½‘å‹è¯„è®ºå›å¤ï¼š&lt;a href=&#34;https://www.douban.com/note/827837123/?_dtcc=1&amp;amp;_i=7741611DTua3Gc,8390080DTua3Gc&#34;&gt;ä¸€æ¡è±†ç“£åŠ¨æ€å¼•å‘çš„â€œç–«æƒ…æ–‡å­¦â€å¤å…´&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ä½ æœ€å¥½çš„ä¸€æ¡èŒä¸šå»ºè®®æ˜¯ä»€ä¹ˆ&#34;&gt;ä½ æœ€å¥½çš„ä¸€æ¡èŒä¸šå»ºè®®æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;

&lt;p&gt;Twitterä¸Šæœ‰äººå‘äº†ä¸€ä¸ªæ¨ï¼Œè¯´ä»–ä¹‹å‰é—®è¿‡ä¸€ä¸ªé—®é¢˜ï¼šâ€œä½ æœ€å¥½çš„ä¸€æ¡èŒä¸šå»ºè®®æ˜¯ä»€ä¹ˆï¼Ÿâ€ï¼Œä»–å¾—åˆ°äº†1300å¤šä¸ªç­”æ¡ˆï¼Œæœ€åä»–æ•´ç†äº†12æ¡æœ€å¥½çš„å»ºè®®ã€‚è¿™äº›å»ºè®®ï¼Œä¹Ÿè¢«äººæ•´ç†æˆäº†ä¸­æ–‡å‘åˆ°äº†å¾®åšï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è‹±æ–‡ç‰ˆï¼š&lt;a href=&#34;https://twitter.com/chrishlad/status/1502650707274608644&#34;&gt;Chris Hladczuk on Twitter: &amp;ldquo;So I asked &amp;ldquo;What&amp;rsquo;s your single best piece of career advice&amp;rdquo;? I got 1,300+ answers. Here are the 12 best you wish you knew yesterdayğŸ‘‡&amp;rdquo; / Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¸­æ–‡ç‰ˆï¼š&lt;a href=&#34;https://weibo.com/1727858283/Ljvv75q62&#34;&gt;å®ç‰xpçš„å¾®åš - å¾®åš&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬10æœŸï¼‰ï¼šâ€œå¿˜è®°ç›®æ ‡ï¼Œä¸“æ³¨äºä½“ç³»â€</title>
      <link>https://www.codedump.info/post/20220319-weekly-10/</link>
      <pubDate>Sat, 19 Mar 2022 13:50:46 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220319-weekly-10/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šæœ¬æœŸèŠä¸€èŠã€ŠæŒæ§ä¹ æƒ¯ã€‹è¿™æœ¬ä¹¦é‡Œæåˆ°çš„å…»æˆä¹ æƒ¯çš„æ–¹æ³•è®ºã€‚æˆ‘è¯»ä¸‹æ¥ä¸€ä¸ªæœ€æ·±çš„æ„Ÿå—æ˜¯ï¼šè¶Šä¸éœ€è¦â€œåšæŒâ€å°±èƒ½åšä¸‹å»çš„äº‹æƒ…ï¼Œæ‰è¶Šèƒ½é•¿ä¹…åšä¸‹å»ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;å¿˜è®°ç›®æ ‡-ä¸“æ³¨äºä½“ç³»&#34;&gt;â€œå¿˜è®°ç›®æ ‡ï¼Œä¸“æ³¨äºä½“ç³»â€&lt;/h1&gt;

&lt;p&gt;â€œå¿˜è®°ç›®æ ‡ï¼Œä¸“æ³¨äºä½“ç³»ï¼ˆForget About Setting Goals, Focus on the system Insteadï¼‰â€æ˜¯å‡ºè‡ªã€Š&lt;a href=&#34;https://jamesclear.com/atomic-habits&#34;&gt;Atomic Habits&lt;/a&gt;ã€‹ï¼ˆä¸­æ–‡å&lt;a href=&#34;https://book.douban.com/subject/34326931//&#34;&gt;ã€ŠæŒæ§ä¹ æƒ¯ ã€‹&lt;/a&gt;ï¼‰ä¸€ä¹¦çš„ä¸€å¥è¯ï¼Œä¸ªäººè®¤ä¸ºè¿™æ˜¯æœ¬ä¹¦æœ€é‡è¦çš„ä¸€ä¸ªè§‚ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;è¦åšæˆä¸€ä»¶äº‹æƒ…ï¼Œåªæ˜¯ä¾é ç®€å•çš„è®¾å®šç›®æ ‡ï¼Œæ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæ›´é‡è¦çš„æ˜¯å»ºç«‹ä¸€å¥—ä½“ç³»ï¼Œä¿ƒè¿›äº‹æƒ…çš„è‰¯æ€§å¾ªç¯ï¼Œæœ€ç»ˆè®©äº‹æƒ…å‘ç”Ÿï¼›åä¹‹ï¼Œå¦‚æœä¸€ä»¶ä¸å¥½çš„äº‹æƒ…ï¼Œç»å¸¸é‡è¹ˆè¦†è¾™ï¼Œå…¶æ ¹æœ¬åŸå› ä¹Ÿæ˜¯ä»æœªæ”¹å˜å¯¼è‡´è¿™ç§çŠ¶å†µä¸€å†å‘ç”Ÿçš„ä½“ç³»ã€‚å¦‚æœæ²¡æœ‰å»ºç«‹ä¸€å¥—ä½“ç³»ï¼Œæ‰€åšçš„ä¸€åˆ‡åªæ˜¯æ²»æ ‡ä¸æ²»æœ¬ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œè¯´çš„â€œä½“ç³»â€ï¼Œåœ¨ä½œè€…çš„è¯è¯­ä¸­å°±æ˜¯â€œä¹ æƒ¯â€ï¼Œä½œè€…åˆ—å‡ºäº†åŸ¹å…»è‰¯å¥½ä¹ æƒ¯çš„å››ä¸ªæ­¥éª¤ï¼ˆæç¤ºã€æ¸´æ±‚ã€ååº”å’Œå¥–åŠ±ï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;1ã€æç¤ºï¼šè®©å®ƒæ˜¾è€Œæ˜“è§ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;2ã€æ¸´æ±‚ï¼šè®©å®ƒæœ‰å¸å¼•åŠ›ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;3ã€ååº”ï¼šè®©å®ƒç®€ä¾¿æ˜“è¡Œã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;4ã€å¥–åŠ±ï¼šè®©å®ƒä»¤äººæ„‰æ‚¦ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½œè€…å°†è¿™å››ä¸ªæ­¥éª¤ï¼Œæ€»ç»“åœ¨&lt;code&gt;ä¹ æƒ¯å¾ªç¯ï¼ˆhabit-loopï¼‰&lt;/code&gt;é‡Œï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;div align=&#34;center&#34;&gt;
 &lt;img src=&#34;https://www.codedump.info/media/imgs/20220319-weekly-10/habit-cycle.png&#34; width=&#34;400&#34; height=&#34;200&#34; alt=&#34;ä¹ æƒ¯å¾ªç¯&#34; align=center /&gt;
&lt;/div&gt;

&lt;p&gt;è¿™å››ä¸ªæ­¥éª¤ç¼ºä¸€ä¸å¯ï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚åšçš„ä¸å¤Ÿçš„è¯ï¼Œå°±éš¾ä»¥å½¢æˆä¹ æƒ¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¶ˆé™¤æç¤ºï¼Œä¹ æƒ¯å½¢æˆå¾ªç¯æ°¸è¿œä¹Ÿä¸ä¼šå¼€å§‹ã€‚&lt;/li&gt;
&lt;li&gt;é™ä½æ¸´æ±‚ï¼Œå°±ä¸ä¼šæœ‰è¶³å¤Ÿçš„åŠ¨åŠ›å»è¡ŒåŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;è®©è¡ŒåŠ¨å˜å¾—å›°éš¾ï¼Œå°†æ— æ³•ä»˜è¯¸å®æ–½ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå¥–åŠ±ä¸èƒ½æ»¡è¶³æ¬²æœ›ï¼Œé‚£ä¹ˆæœªæ¥å°±æ²¡æœ‰ç†ç”±å†è¿™æ ·åšäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ²¡æœ‰å‰ä¸‰æ­¥ï¼Œå°±ä¸ä¼šæœ‰ä»»ä½•è¡Œä¸ºå‘ç”Ÿã€‚æ²¡æœ‰è¿™å››ä¸ªæ­¥éª¤ï¼Œä»»ä½•ä¸€ç§è¡Œä¸ºéƒ½ä¸ä¼šå¾—ä»¥é‡å¤ã€‚&lt;/p&gt;

&lt;h2 id=&#34;1-æç¤º-è®©å®ƒæ˜¾è€Œæ˜“è§&#34;&gt;1ã€æç¤ºï¼šè®©å®ƒæ˜¾è€Œæ˜“è§&lt;/h2&gt;

&lt;p&gt;åœ¨æ—¥å¸¸è¡Œä¸ºä¸­ï¼Œâ€œåŸåŠ¨åŠ›ç»å¸¸è¢«é«˜ä¼°ï¼Œè€Œç¯å¢ƒçš„ä½œç”¨å¾€å¾€è¢«ä½ä¼°â€ï¼Œæ¯”å¦‚ç»å¸¸ä¼šè®¤ä¸ºæ ‘ç«‹ä¸€ä¸ªè¿œå¤§çš„ç›®æ ‡ï¼ŒåšæŒåšä¸‹å»å°±å¥½ï¼›è€Œç°å®çš„æƒ…å†µæ˜¯ï¼Œè¡Œä¸ºæ˜¯ç¯å¢ƒä¸­äººçš„å‡½æ•°ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Bï¼ˆè¡Œä¸ºï¼‰=fï¼ˆå‡½æ•°ï¼‰[Pï¼ˆäººï¼‰ï¼ŒEï¼ˆç¯å¢ƒï¼‰]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å³æœ‰æ€æ ·çš„è¡Œä¸ºï¼Œé™¤äº†å’Œäººæœ‰å…³ç³»ä¹‹å¤–ï¼Œè¿˜å’Œç¯å¢ƒæœ‰é‡è¦çš„å…³ç³»ã€‚&lt;/p&gt;

&lt;p&gt;ç¯å¢ƒå‡½æ•°ä¸­ï¼Œå¸¸è§çš„ä¸¤ä¸ªæç¤ºæ˜¯æ—¶é—´å’Œåœ°ç‚¹ã€‚æ¯”å¦‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åŒæ ·æ‘†æ”¾åœ¨è¶…å¸‚çš„ä¸œè¥¿ï¼Œæ›´å®¹æ˜“è¢«æ¥è§¦åˆ°ã€æ›´æ˜¾çœ¼çš„å•†å“ï¼Œè¢«è´­ä¹°çš„æ¦‚ç‡ä¼šæ›´é«˜ã€‚&lt;/li&gt;
&lt;li&gt;æ®ä¹¦ä¸­åˆ—ä¸¾çš„è¶Šæˆ˜å£«å…µçš„ç»Ÿè®¡æ˜¾ç¤ºï¼Œåœ¨ç¦»å¼€è¶Šå—æˆ˜åœºä¹‹åï¼Œæ¯’ç˜¾æˆ’é™¤ç‡å¤§å¤§æé«˜ï¼Œå› ä¸ºç”Ÿæ´»ç¯å¢ƒå‘ç”Ÿäº†å½»åº•çš„æ”¹å˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸€å®šç†ç»™çš„æç¤ºæ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡å¦‚ä¸éœ€è¦ç»å¸¸è‡ªæˆ‘å…‹åˆ¶çš„è¯ï¼Œåšèµ·æ¥å°±ä¼šæ›´å®¹æ˜“ã€‚æ‰€ä»¥ï¼Œæ²¡é”™ï¼Œæ¯…åŠ›ã€å‹‡æ°”å’Œæ„å¿—åŠ›æ˜¯å–å¾—æˆåŠŸçš„è¦ç´ ï¼Œä½†æ˜¯å¢å¼ºè¿™äº›å“è´¨çš„é€”å¾„ä¸æ˜¯æœŸæœ›ä½ è‡ªå·±æˆä¸ºä¸€ä¸ªè‡ªå¾‹çš„äººï¼Œè€Œæ˜¯åˆ›é€ ä¸€ä¸ªæœ‰çºªå¾‹çš„ç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;æ¶ˆé™¤åä¹ æƒ¯çš„æœ€å®ç”¨çš„æ–¹æ³•ä¹‹ä¸€æ˜¯é¿å…æ¥è§¦å¼•èµ·å®ƒçš„æç¤ºï¼Œæ¯”å¦‚è¦å°‘ç©æ‰‹æœºå°±æƒ³åŠæ³•è¿œç¦»æ‰‹æœºï¼›åè¿‡æ¥ï¼Œæƒ³å…»æˆå¥½ä¹ æƒ¯æ¯”å¦‚å¤šå–æ°´ï¼Œå°±æŠŠæ°´æ¯æ”¾åœ¨æ˜“æ¥è§¦çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;2-æ¸´æ±‚-è®©å®ƒæœ‰å¸å¼•åŠ›&#34;&gt;2ã€æ¸´æ±‚ï¼šè®©å®ƒæœ‰å¸å¼•åŠ›&lt;/h2&gt;

&lt;p&gt;ä¹ æƒ¯æ˜¯å¤šå·´èƒºé©±åŠ¨çš„åé¦ˆå›è·¯ã€‚æ¯ä¸€ç§æå¯èƒ½å½¢æˆä¹ æƒ¯çš„è¡Œä¸ºâ€”â€”åƒåƒåœ¾é£Ÿå“ã€ç©ç”µå­æ¸¸æˆã€æµè§ˆç¤¾äº¤åª’ä½“â€”â€”éƒ½ä¸è¾ƒé«˜æµ“åº¦çš„å¤šå·´èƒºæœ‰å…³ã€‚æ¯å½“ä½ é¢„æµ‹ä¸€ä¸ªæœºä¼šä¼šæœ‰å›æŠ¥æ—¶ï¼Œä½ ä½“å†…çš„å¤šå·´èƒºæµ“åº¦å°±ä¼šéšç€è¿™ç§é¢„æœŸé£™å‡ã€‚å½“ä½ è·å¾—å¥–åŠ±æ—¶ï¼Œå¤§è„‘ä¸­æ¿€æ´»çš„å¥–åŠ±ç³»ç»Ÿï¼Œä¸ä½ æœŸå¾…å¥–åŠ±æ—¶æ¿€æ´»çš„ç³»ç»Ÿæ˜¯åŒä¸€ä¸ªã€‚è¿™å°±æ˜¯å¯¹ä¸€ç§ä½“éªŒçš„æœŸå¾…å¾€å¾€æ¯”ä½“éªŒæœ¬èº«ï¼Œæ›´ä»¤äººæ„Ÿåˆ°æ„‰æ‚¦çš„åŸå› ä¹‹ä¸€ã€‚&lt;/p&gt;

&lt;p&gt;è¿™å°±å¼•å‡ºäº†â€œå–œå¥½ç»‘å®šâ€çš„åŸç†ï¼šæŠŠä½ éœ€è¦åšçš„äº‹ä¸æ„¿æ„åšçš„äº‹ç»‘å®šã€‚æ¯”å¦‚æƒ³åŸ¹å…»å¥èº«çš„ä¹ æƒ¯ï¼Œé‚£ä¹ˆå¯ä»¥è®©è‡ªå·±åœ¨å¥èº«çš„æ—¶å€™åŒæ—¶çœ‹å–œæ¬¢çœ‹çš„è§†é¢‘åšä¸ºå¥–åŠ±ã€‚&lt;/p&gt;

&lt;h2 id=&#34;3-ååº”-è®©å®ƒç®€ä¾¿æ˜“è¡Œ&#34;&gt;3ã€ååº”ï¼šè®©å®ƒç®€ä¾¿æ˜“è¡Œ&lt;/h2&gt;

&lt;p&gt;ã€Šç²¾ç›Šæ±‚ç²¾ã€‹ä¸€ä¹¦é‡Œä¸¾è¿‡è¿™æ ·çš„ä¾‹å­ï¼šâ€œæ—¥æœ¬å…¬å¸å¼ºè°ƒä¸ºäººæ‰€çŸ¥çš„â€˜ç²¾ç›Šç”Ÿäº§â€™ç†å¿µï¼ŒåšæŒä¸æ‡ˆåœ°åŠªåŠ›å¯»æ±‚ä»ç”Ÿäº§æµç¨‹ä¸­å»é™¤å„ç§æµªè´¹ï¼Œç›´è‡³é‡æ–°è®¾è®¡å·¥ä½œç¯å¢ƒï¼Œä½¿å¾—å·¥äººä»¬çš„èº«ä½“ä¸å¿…è½¬æ¥è½¬å»ï¼Œä»è€Œé¿å…ä¸ºæ‹¿å·¥å…·è€Œæµªè´¹æ—¶é—´ã€‚ç»“æœæ˜¯æ—¥æœ¬å·¥å‚æ¯”ç¾å›½å·¥å‚æ•ˆç‡æ›´é«˜ï¼Œäº§å“æ›´å¯é ã€‚â€œ&lt;/p&gt;

&lt;p&gt;ä½œè€…å°†è¿™æ ·çš„ç­–ç•¥ç§°ä¸ºâ€å› å‡è€ŒåŠ â€œï¼šå¯»æ‰¾ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸€ä¸ªé˜»åŠ›ç‚¹ï¼Œäºˆä»¥æ¸…é™¤ã€‚è¿™æ ·å‡å°‘äº†æ— ç”¨åŠŸï¼Œåè¿‡æ¥å°±å¢åŠ äº†æ•ˆç‡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ä¹‹ç±»ä¼¼çš„ï¼Œæœ‰â€ä¸¤åˆ†é’Ÿæ³•åˆ™â€ï¼šå½“ä½ å¼€å§‹åŸ¹å…»ä¸€ç§æ–°ä¹ æƒ¯æ—¶ï¼Œå®ƒæ‰€ç”¨æ—¶é—´ä¸åº”è¶…è¿‡ä¸¤åˆ†é’Ÿã€‚è¿™æ ·çš„ç­–ç•¥ä¹Ÿæœ‰å¦ä¸€ä¸ªåŸå› ï¼šå®ƒä»¬å¼ºåŒ–ç€ä½ æƒ³è¦å»ºç«‹çš„èº«ä»½ã€‚å¦‚æœä½ è¿ç»­äº”å¤©ç°èº«å¥èº«æˆ¿ï¼Œå“ªæ€•åªåœ¨é‚£é‡Œåœç•™ä¸¤åˆ†é’Ÿï¼Œä½ å°±æ˜¯åœ¨ä¸ºä½ çš„æ–°èº«ä»½æŠ•èµåŒç¥¨ã€‚&lt;/p&gt;

&lt;h2 id=&#34;4-å¥–åŠ±-è®©å®ƒä»¤äººæ„‰æ‚¦&#34;&gt;4ã€å¥–åŠ±ï¼šè®©å®ƒä»¤äººæ„‰æ‚¦&lt;/h2&gt;

&lt;p&gt;ä¿æŒä¹ æƒ¯çš„å…³é”®æ˜¯è¦æœ‰æˆå°±æ„Ÿï¼Œå“ªæ€•åªæ˜¯ç»†å¾®çš„æ„Ÿå—ã€‚æˆå°±æ„Ÿæ˜¯ä¸€ä¸ªä¿¡å·ï¼Œå®ƒè¡¨æ˜ä½ çš„ä¹ æƒ¯æœ‰äº†å›æŠ¥ï¼Œä½ ä¸ºæ­¤ä»˜å‡ºçš„åŠªåŠ›æ˜¯å€¼å¾—çš„ã€‚æ¯”å¦‚ï¼ŒæŠŠè¦åšçš„äº‹æƒ…åˆ—æˆä¸€ä¸ªtodoåˆ—è¡¨ï¼Œå®Œæˆä¸€ä»¶åˆ’æ‰ä¸€é¡¹ï¼Œçœ‹åˆ°todoä¸Šçš„äº‹æƒ…å…¨éƒ¨åˆ’æ‰å°±æ˜¯ä¸€ç§â€œå¥–åŠ±â€ã€‚&lt;/p&gt;

&lt;p&gt;å–å¾—è¿›æ­¥ä»¤äººæ»¡æ„ï¼Œå€ŸåŠ©äºè§†è§‰é‡åº¦ï¼Œå¦‚ç§»åŠ¨æ›²åˆ«é’ˆã€å‘å¤¹æˆ–å¼¹ç ï¼Œä½ èƒ½æ¸…æ™°åœ°çœ‹åˆ°è‡ªå·±çš„è¿›æ­¥ã€‚è¿™æ ·åšçš„ç»“æœæ˜¯ï¼Œå®ƒä»¬å¼ºåŒ–ç€ä½ çš„è¡Œä¸ºï¼Œå¹¶ä¸ºä»»ä½•æ´»åŠ¨å¢åŠ ä¸€äº›å³æ—¶æ»¡è¶³æ„Ÿã€‚è§†è§‰é‡åº¦æœ‰å¤šç§å½¢å¼ï¼šé£Ÿç‰©æ—¥å¿—ã€å¥èº«æ—¥å¿—ã€æ‰“å­”å¿ è¯šå¡ã€è½¯ä»¶ä¸‹è½½è¿›åº¦æ¡ï¼Œç”šè‡³ä¹¦ç±ä¸­çš„é¡µç ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½œè€…åšçš„æ€»ç»“è¡¨æ ¼&#34;&gt;ä½œè€…åšçš„æ€»ç»“è¡¨æ ¼&lt;/h2&gt;

&lt;p&gt;ä½œè€…å°†æ ¹æ®ä»¥ä¸Šå››ä¸ªæ­¥éª¤å¦‚ä½•å…»æˆå¥½ä¹ æƒ¯ä»¥åŠæˆ’é™¤åä¹ æƒ¯çš„æ–¹æ³•ï¼Œæ€»ç»“åœ¨ä¸‹é¢çš„è¡¨æ ¼é‡Œã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ€æ ·å…»æˆå¥½ä¹ æƒ¯&#34;&gt;æ€æ ·å…»æˆå¥½ä¹ æƒ¯&lt;/h3&gt;

&lt;div align=&#34;center&#34;&gt;
 &lt;img src=&#34;https://www.codedump.info/media/imgs/20220319-weekly-10/habit-table.png&#34; width=&#34;400&#34; height=&#34;200&#34; alt=&#34;å…»æˆå¥½ä¹ æƒ¯&#34; align=center /&gt;
&lt;/div&gt;

&lt;h3 id=&#34;æ€æ ·æˆ’é™¤åä¹ æƒ¯&#34;&gt;æ€æ ·æˆ’é™¤åä¹ æƒ¯&lt;/h3&gt;

&lt;div align=&#34;center&#34;&gt;
 &lt;img src=&#34;https://www.codedump.info/media/imgs/20220319-weekly-10/drop-habit-table.png&#34; width=&#34;400&#34; height=&#34;200&#34; alt=&#34;æˆ’æ‰åä¹ æƒ¯&#34; align=center /&gt;
&lt;/div&gt;

&lt;h2 id=&#34;æˆ‘çš„å®è·µ&#34;&gt;æˆ‘çš„å®è·µ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å‡å°‘ç¡è§‰å‰çœ‹æ‰‹æœºï¼Œä»¥åŠç¡é†’ä¹‹åçœ‹æ‰‹æœºçš„æ—¶é—´ï¼Œæˆ‘çš„åšæ³•æ˜¯ç¡è§‰å‰æŠŠæ‰‹æœºæ”¾åœ¨è¿œç¦»åºŠå¤´çš„åœ°æ–¹ã€‚ï¼ˆé¿å…åä¹ æƒ¯å°±è®©å®ƒéš¾ä»¥è¢«æ¥è§¦ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è·‘æ­¥æ—¶ä½¿ç”¨&lt;a href=&#34;https://github.com/yihong0618/running_page&#34;&gt;running_page&lt;/a&gt;è¿™ä¸ªé¡¹ç›®æ¥è®°å½•ã€å±•ç¤ºæˆ‘çš„è·‘æ­¥æ•°æ®ï¼Œä¸€ç›®äº†ç„¶ä¹Ÿä¼šå¸¦æ¥æ›´å¤šçš„æˆå°±æ„Ÿã€‚ï¼ˆå¥–åŠ±ä¹ æƒ¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¹´çºªè¶Šå¤§ï¼Œè¶Šå‘ç°éœ€è¦â€œåšæŒâ€å»åšçš„äº‹æƒ…ï¼Œå¾ˆéš¾åšå¾—é•¿ä¹…ã€‚å› ä¸ºä¸€æåˆ°éœ€è¦â€œåšæŒâ€ï¼Œå¾ˆå¤§åŸå› æ˜¯å› ä¸ºå…¶ä¸­æœ‰é˜»ç¢ã€æ²¡æœ‰æ­£åé¦ˆç­‰ç­‰ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨ä¸Šé¢å››ä¸ªæ­¥éª¤é‡Œæ‰¾åˆ°ç­”æ¡ˆã€‚è¶Šä¸éœ€è¦â€œåšæŒâ€å°±èƒ½åšä¸‹å»çš„äº‹æƒ…ï¼Œæ‰è¶Šèƒ½é•¿ä¹…åšä¸‹å»ã€‚æ‰€ä»¥ï¼Œä»¥åå†é‡åˆ°äº‹æƒ…å‘ç°åšä¸ä¸‹å»æ—¶ï¼Œç¬¬ä¸€ååº”ä¸åº”è¯¥å†æ˜¯ä»€ä¹ˆæ„å¿—åŠ›ä¸å¤Ÿç­‰åŸå› ï¼Œè€Œæ˜¯è¦ä»ä¸Šé¢å‡ ä¸ªæ­¥éª¤é‡Œæ‰¾åˆ°æ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚æ˜¯ä¸å¤Ÿæ˜¾è€Œæ˜“è§ï¼Ÿä¸å¤Ÿæœ‰å¸å¼•åŠ›ï¼Ÿä¸å¤Ÿç®€ä¾¿ï¼Ÿå¥–åŠ±ä¸å¤Ÿï¼Ÿä¸å¤Ÿæ„‰æ‚¦ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;æœ‰å…³sreå’Œdevopsçš„ä¸¤ç¯‡æ–‡ç« &#34;&gt;æœ‰å…³SREå’ŒDevopsçš„ä¸¤ç¯‡æ–‡ç« &lt;/h2&gt;

&lt;p&gt;æ¨è&lt;a href=&#34;https://twitter.com/laixintao&#34;&gt;@laixintao&lt;/a&gt;æœ‰å…³SREå’ŒDevopsçš„ä¸¤ç¯‡æ–‡ç« ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.kawabangga.com/posts/4145&#34;&gt;Devops ä¸­çš„ Overfitting | å¡ç“¦é‚¦å™¶ï¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.kawabangga.com/posts/4481&#34;&gt;SRE çš„å·¥ä½œä»‹ç» | å¡ç“¦é‚¦å™¶ï¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;flomoå’Œåˆ˜å°‘æ¥ &#34;&gt;flomoå’Œåˆ˜å°‘æ¥ &lt;/h2&gt;

&lt;p&gt;è¿™å‘¨å¶ç„¶åœ¨æœ‰çŸ¥æœ‰è¡Œappé‡Œå¬åˆ°å¯¹åˆ˜å°‘æ¥ çš„é‡‡è®¿ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.xiaoyuzhoufm.com/episode/60b0dcd6e273a1e20b43dc1e&#34;&gt;E13 ä¸“è®¿ flomo å°‘æ¥ ï¼šå®‡å®™å¸Œæœ›æˆ‘ä»¬æˆä¸ºæ™®é€šçš„äººï¼Œåˆ›é€ æ˜¯æˆ‘ä»¬åæŠ—çš„æ‰‹æ®µ - çŸ¥è¡Œå°é…’é¦†&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¬ä¸‹æ¥æ„Ÿè§‰è¿™ä¸ªäººçœŸè¯šã€æœ‰æ„æ€ï¼Œäºæ˜¯åˆæ‰¾æ¥äº†å‡ ä¸ªå¦å¤–çš„é‡‡è®¿å’Œæ–‡ç« ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.xiaoyuzhoufm.com/episode/617f781f82dbcd91978df9da&#34;&gt;#92ï¼šä¸€ä¸ªäº§å“äººçš„å¦„å¿µä¸æ‡¦å¼±ï¼ˆflomo åˆ›å§‹äººåˆ˜å°‘æ¥ ï¼‰ - UX Coffee è®¾è®¡å’–&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://xueqiu.com/2684655177/196666266&#34;&gt;35 å²å†åˆ›ä¸šï¼Œæˆ‘å­¦ä¼šäº†â€œè®¤æ€‚â€ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.xiaoyuzhoufm.com/episode/6227d4809d2fcf46aa36aea4&#34;&gt;E25ï½œflomoå°‘æ¥ ï¼šå¦‚æœä½ æ²¡æœ‰è§‚ç‚¹ï¼Œä½ å°±ä¸å€¼å¾—è¢«å…³æ³¨ - ç»„ç»‡è¿›åŒ–è®º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.notion.so/pmthinking/ProductThinking-a601a12335044f349a22caf57f274c27&#34;&gt;äº§å“æ²‰æ€å½•ï¼ˆç²¾é€‰ï¼‰ ProductThinking&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™äº›å¬ä¸‹æ¥ã€çœ‹ä¸‹æ¥ï¼Œå¯¹&lt;a href=&#34;https://flomoapp.com&#34;&gt;flomo&lt;/a&gt;äº§ç”Ÿäº†æå¤§çš„å…´è¶£ï¼Œåé¢æ‰¾ä¸€æœŸä¸“é—¨èŠèŠæˆ‘çŸ¥è¯†æ•´ç†ã€è¾“å…¥çš„å®è·µã€‚&lt;/p&gt;

&lt;p&gt;è¿™å‘¨flomoç”¨äº†å‡ å¤©ä¸‹æ¥ï¼Œåˆæ­¥æ„Ÿè§‰å°±æ˜¯â€œä¸ªäººå¯è§çš„å¾®åšâ€ï¼Œä¸”æœ‰â€œæ ‡ç­¾â€å’Œâ€œæ‰¹æ³¨â€åŠŸèƒ½å»ºç«‹ç¢ç‰‡ä¿¡æ¯ä¹‹é—´çš„è”ç³»ã€‚äºæ˜¯ï¼Œéšç€åœ¨flomoä¸Šè®°å½•çš„ä¸œè¥¿å˜å¤šï¼Œç›¸åº”åœ°ï¼Œå‘å¾®åšã€æ¨ç‰¹å°±ä¼šå˜å°‘ã€‚&lt;/p&gt;

&lt;p&gt;è¿™åˆæ¥åˆ°ä»¥å‰å¬è¿‡çš„ä¸€ä¸ªæœ‰æ„æ€çš„ç»“è®ºäº†ï¼šæ‰“è´¥æŸä¸ªé¢†åŸŸé¡¶å°–äº§å“çš„ï¼Œå¾ˆå¯èƒ½å¹¶ä¸æ˜¯å¦ä¸€ä¸ªåŒç±»äº§å“ã€‚æ¯”å¦‚é©¬åŒ–è…¾å°±è¯´è¿‡ï¼šæ‰“è´¥QQçš„ï¼Œå¯èƒ½å¹¶ä¸ä¼šæ˜¯å¦ä¸€ä¸ªIMã€‚&lt;/p&gt;

&lt;p&gt;æ¶ˆç­äº§å“ä½¿ç”¨çš„åœºæ™¯ï¼Œè¿™ä¸ªäº§å“è‡ªç„¶å°±æ­»äº†ï¼Œä¸ä¸€å®šéå¾—æ˜¯åŒç±»äº§å“å–è€Œä»£ä¹‹ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥äº§å“ä¸ºä»€ä¹ˆéœ€è¦â€œè¿›åŒ–â€ï¼Ÿå°±æ˜¯ä¸ºäº†é€‚åº”ä¸åŒçš„åœºæ™¯å˜åŒ–ã€‚æ¯”å¦‚åœ¨PCäº’è”ç½‘æ—¶ä»£å–å¾—ç»Ÿæ²»åœ°ä½çš„QQï¼Œå¦‚æœæ²¡æœ‰è·Ÿä¸Šç§»åŠ¨äº’è”ç½‘çš„å˜åŒ–ï¼Œè…¾è®¯å¦‚æœæ²¡æœ‰å¾®ä¿¡ï¼Œå¯èƒ½ç°åœ¨ä¹Ÿå‡‰äº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;rust-è¯­è¨€å¤‡å¿˜æ¸…å•&#34;&gt;Rust è¯­è¨€å¤‡å¿˜æ¸…å•&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸­æ–‡ç‰ˆï¼š&lt;a href=&#34;https://cheats.rs.kingfree.moe/&#34;&gt;Rust è¯­è¨€å¤‡å¿˜æ¸…å•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;è‹±æ–‡ç‰ˆï¼š&lt;a href=&#34;https://cheats.rs/&#34;&gt;Rust Language Cheat Sheet&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬9æœŸï¼‰ï¼šMozilla rrä½¿ç”¨ç®€ä»‹</title>
      <link>https://www.codedump.info/post/20220313-weekly-9/</link>
      <pubDate>Sun, 13 Mar 2022 11:20:59 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220313-weekly-9/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šåœ¨ä¹‹å‰çš„&lt;a href=&#34;https://www.codedump.info/post/20220227-weekly-7/&#34;&gt;å‘¨åˆŠï¼ˆç¬¬7æœŸï¼‰ï¼šä¸€ä¸ªCç³»ç¨‹åºå‘˜çš„Ruståˆä½“éªŒ&lt;/a&gt;ä¸­ï¼Œç®€å•æåˆ°è¿‡Mozilla rrè¿™æ¬¾è°ƒè¯•å·¥å…·ï¼Œç”±äºè¿™ä¸ªå·¥å…·å¹¶ä¸æ˜¯å¤ªä¸ºäººæ‰€çŸ¥ï¼Œæ‰€ä»¥æœ¬æ–‡å¯¹è¯¥å·¥å…·åšä¸€ä¸ªç®€ä»‹ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;mozilla-rrä½¿ç”¨ç®€ä»‹&#34;&gt;Mozilla rrä½¿ç”¨ç®€ä»‹&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://rr-project.org/&#34;&gt;rr&lt;/a&gt;æ˜¯ç”±Mozillaå‡ºå“çš„ä¸€æ¬¾è°ƒè¯•å·¥å…·ï¼Œç”¨å®˜ç½‘çš„è¯æ¥è¯´ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;rr aspires to be your primary C/C++ debugging tool for Linux, replacing â€” well, enhancing â€” gdb. You record a failure once, then debug the recording, deterministically, as many times as you want. The same execution is replayed every time.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å³å®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šå¯ä»¥è®°å½•ä¸‹æ¥ç¨‹åºè¿è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ŒåŒ…æ‹¬çº¿ç¨‹ã€å †æ ˆã€å¯„å­˜å™¨ç­‰ç­‰ï¼Œè¿™æ ·çš„å¥½å¤„æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;â€œdeterministicallyâ€ï¼šå¾ˆå¤šé—®é¢˜é—®é¢˜çš„äº§ç”Ÿï¼Œéƒ½ä¸ç‰¹å®šçš„ç¯å¢ƒç›¸å…³ï¼Œå¦‚ï¼š

&lt;ul&gt;
&lt;li&gt;çº¿ç¨‹è°ƒåº¦æ‰§è¡Œçš„é¡ºåºï¼Œå…ˆæ‰§è¡ŒAçº¿ç¨‹å†Bçº¿ç¨‹ï¼Œä»¥åŠåä¹‹ï¼Œå¯èƒ½å¾—åˆ°çš„æ˜¯ä¸åŒçš„ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒå‚æ•°ï¼Œå¦‚è¾“å…¥ä¸åŒçš„å‚æ•°ï¼Œå°¤å…¶ä¸€äº›è¾¹ç•Œæ¡ä»¶çš„è§¦å‘å°±è·Ÿè¾“å…¥ä¸åŒçš„å‚æ•°æœ‰å…³ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;replayï¼šè®°å½•ä¸‹æ¥ç¨‹åºæ‰§è¡Œçš„ç¯å¢ƒä¹‹åï¼Œrré™¤äº†æ”¯æŒgdbæ–¹å¼çš„è°ƒè¯•ä¹‹åï¼Œè¿˜èƒ½åˆ©ç”¨ç¯å¢ƒæ¥ä¸åœçš„é‡æ”¾ç¨‹åºï¼Œç”šè‡³åå‘æ¥æ‰§è¡Œç¨‹åºã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸‹å¯¹&lt;code&gt;rr&lt;/code&gt;çš„ä½¿ç”¨åšä¸€äº›ç®€å•çš„ä»‹ç»ã€‚&lt;/p&gt;

&lt;h2 id=&#34;deterministically&#34;&gt;deterministically&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹é¢ä¸€ä¸ªæœ€ç®€å•çš„å¤šçº¿ç¨‹ç¨‹åºæ¥è§£é‡Šä½•ä¸º&lt;code&gt;deterministically&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;pthread.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

void * doPrint(void *arg)
{
    return NULL;
}

int main() {
    pthread_t pid;
    pthread_create(&amp;amp;pid, NULL, doPrint, NULL);
    printf(&amp;quot;pid = %lu\n&amp;quot;, pid);

    return 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªç¨‹åºå¾ˆç®€å•ï¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ä¹‹åï¼Œæ‰“å°çº¿ç¨‹çš„pidã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœå¤šæ¬¡æ‰§è¡Œï¼Œä¼šå‘ç°æ¯æ¬¡æ‰“å°å‡ºæ¥çš„pidå¹¶ä¸ä¸€æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./a.out
pid = 140301410010880

$ ./a.out
pid = 139804250023680
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™ä¸ªåŸå› è‡ªä¸å¿…å¤šè¯´ï¼šæ¯æ¬¡ç¨‹åºæ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œç¯å¢ƒæ˜¯æœ‰å˜åŒ–çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªç®€å•çš„ç»“è®ºï¼Œå¯¹åº”åˆ°bugå‡ºç°çš„åœºæ™¯ä¸Šï¼Œæœ‰çš„ä»£ç å¯èƒ½æ­£å¸¸çš„æƒ…å†µä¸‹æ²¡æœ‰å¼‚å¸¸ï¼Œä½†æ˜¯ä¼šå‡ºç°åœ¨ç‰¹å®šçš„åœºæ™¯ä¸‹ï¼šç‰¹å®šçš„è¾“å…¥å‚æ•°ã€ç‰¹å®šçš„çº¿ç¨‹æ‰§è¡Œé¡ºåºï¼Œç­‰ç­‰ã€‚æ¢è¨€ä¹‹ï¼Œé—®é¢˜å¹¶ä¸æ˜¯å¿…ç°çš„ï¼Œå³&lt;code&gt;un-deterministically&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;rr&lt;/code&gt;çš„ä¸€å¤§åŠŸèƒ½ï¼Œå°±æ˜¯è¦è§£å†³è¿™ä¸ª&lt;code&gt;deterministically&lt;/code&gt;é—®é¢˜ï¼Œå³åœ¨é—®é¢˜å‘ç°çš„æ—¶å€™ï¼Œèƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„ç¯å¢ƒï¼Œå¯ä»¥åå¤é‡ç°é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;record-and-replay&#34;&gt;record and replay&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;rr&lt;/code&gt;è¿™ä¸ªåå­—é‡Œçš„ä¸¤ä¸ªrï¼Œæ„æŒ‡&lt;code&gt;record and replay&lt;/code&gt;ï¼Œå³â€œè®°å½•åŠå›æ”¾â€ï¼Œå®ƒçš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯è¿™ä¸¤æ­¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;recordï¼š&lt;code&gt;rr record /your/application --args&lt;/code&gt; è®°å½•ä¸‹æ¥ç¨‹åºçš„æ‰§è¡Œç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;replayï¼š&lt;code&gt;rr replay&lt;/code&gt;ï¼Œé»˜è®¤å°†ä½¿ç”¨æœ€è¿‘ä¿å­˜çš„è®°å½•æ–‡ä»¶è¿›è¡Œå›æ”¾ï¼Œå›æ”¾æ—¶å¯ä»¥è¿›å…¥ç±»ä¼¼gdbé‚£æ ·çš„è°ƒè¯•ç¯å¢ƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¯”å¦‚å‰é¢é‚£ä¸ªå¤šçº¿ç¨‹ç¨‹åºï¼Œä½¿ç”¨&lt;code&gt;rr&lt;/code&gt;æ¥è®°å½•åŠå›æ”¾å°±æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;recordï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rr record ./a.out
Freezing performance counters on SMIs should be turned on for maximum rr
reliability on Comet Lake and later CPUs. Consider putting
&#39;w /sys/devices/cpu/freeze_on_smi - - - - 1&#39; in /etc/tmpfiles.d/10-rr.conf
See &#39;man 5 sysfs&#39;, &#39;man 5 tmpfiles.d&#39; (systemd systems)
rr: Saving execution to trace directory `/home/codedump/.local/share/rr/a.out-0&#39;.
pid = 139837942626048
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°è®°å½•æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰“å°å‡ºæ¥çš„&lt;code&gt;pid&lt;/code&gt;æ˜¯&lt;code&gt;139837942626048&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;replayï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rr replay

...çœç•¥ä¸é‡è¦ä¿¡æ¯...

ï¼ˆè¿›å…¥replayä¹‹åç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œæ˜¯æŒ‰`c`ï¼‰

(rr) c
Continuing.
pid = 139837942626048

ï¼ˆå‰é¢å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œæƒ³è¦ç¬¬äºŒæ¬¡æ‰§è¡Œï¼ŒæŒ‰`r`ï¼ˆrunï¼‰ï¼‰

(rr) r
[Inferior 1 (process 36022) exited normally]
Starting program: /home/codedump/.local/share/rr/a.out-0/mmap_hardlink_4_a.out

Program stopped.
0x00007f2e8f19c100 in ?? () from /lib64/ld-linux-x86-64.so.2
(rr) c
Continuing.
pid = 139837942626048
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå‰åä¸¤æ¬¡é‡æ”¾æ‰§è¡Œï¼Œæ‰“å°çš„&lt;code&gt;pid&lt;/code&gt;éƒ½æ˜¯ä¹‹å‰è®°å½•çš„å€¼&lt;code&gt;139837942626048&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™å°±æ„å‘³ç€ï¼šrecordä¸‹æ¥çš„ç¨‹åºæ‰§è¡Œç¯å¢ƒï¼Œåé¢å¯ä»¥ä¸åœçš„å›æ”¾ã€‚å› ä¸ºé‡ç°é—®é¢˜çš„åœºæ™¯å¾ˆé‡è¦ï¼Œæœ‰æ—¶å€™è¿˜ä¸å¥½å¤ç°ï¼Œé‚£ä¹ˆç±»ä¼¼&lt;code&gt;rr&lt;/code&gt;è¿™æ ·èƒ½è®°å½•ä¸‹æ¥æ‰§è¡Œç¯å¢ƒå¹¶ä¸”é‡æ”¾çš„èƒ½åŠ›ï¼Œå¯¹äºæŸ¥æ‰¾é—®é¢˜å°±ç‰¹åˆ«é‡è¦äº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;é«˜çº§ç”¨æ³•&#34;&gt;é«˜çº§ç”¨æ³•&lt;/h2&gt;

&lt;p&gt;å‰é¢æåˆ°è¿‡ï¼Œä½¿ç”¨&lt;code&gt;rr replay&lt;/code&gt;æ¥é‡æ”¾è®°å½•æ—¶ï¼Œå®é™…ä¼šè¿›å…¥ç±»ä¼¼gdbé‚£æ ·çš„ä¸€ä¸ªè°ƒè¯•ç¯å¢ƒï¼Œåœ¨è¿™ä¸ªç¯å¢ƒé‡Œï¼Œå¸¸ç”¨çš„gdbå‘½ä»¤éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™äº›ä¸ä¼šå±•å¼€è®¨è®ºï¼Œåªè¯´ä¸€ä¸‹&lt;code&gt;rr&lt;/code&gt;åœ¨è¿™é‡Œå…·å¤‡çš„ä¸€äº›å…¶ä»–æ›´é«˜çº§çš„è°ƒè¯•èƒ½åŠ›ã€‚&lt;/p&gt;

&lt;h3 id=&#34;äº‹ä»¶&#34;&gt;äº‹ä»¶&lt;/h3&gt;

&lt;p&gt;ä¸ºäº†èƒ½å¤Ÿæ›´åŠ ç²¾å‡†çš„è·Ÿè¿›æŸä¸ªé—®é¢˜ï¼Œ&lt;code&gt;rr&lt;/code&gt;æä¾›äº†äº‹ä»¶ï¼ˆeventï¼‰çš„æ¦‚å¿µï¼Œæ¯ä¸ªäº‹ä»¶æœ‰ä¸ä¹‹ç›¸å…³çš„ä¸¤ä¸ªå€¼ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹pidã€‚&lt;/li&gt;
&lt;li&gt;äº‹ä»¶ç¼–å·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;rr&lt;/code&gt;åœ¨replayçš„æ—¶å€™ï¼Œå¯ä»¥å¸¦ä¸Š&lt;code&gt;-M&lt;/code&gt;å‚æ•°æ‰“å°å‡ºæ¥äº‹ä»¶ç¼–å·ï¼Œæ¯”å¦‚å‰é¢çš„å®ä¾‹ç¨‹åºæ”¹æˆè¿™æ ·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;pthread.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

void * doPrint(void *arg) {
  int i = *((int*)arg);
  printf(&amp;quot;in thread %d\n&amp;quot;, i);
  return NULL;
}

int main() {
  int i = 0;
  for (i = 0; i &amp;lt; 10; ++i) {
    pthread_t pid;
    pthread_create(&amp;amp;pid, NULL, doPrint, &amp;amp;i);
    printf(&amp;quot;pid = %lu\n&amp;quot;, pid);
  }
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œåˆ›å»ºäº†10ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹ä¸­åˆ†åˆ«æ‰“å°å¾ªç¯å˜é‡ï¼Œå¦‚æœä½¿ç”¨&lt;code&gt;-M&lt;/code&gt;åœ¨è¾“å‡ºæ—¶å°±èƒ½çœ‹åˆ°å¦‚ä¸‹çš„ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;(rr) c
Continuing.
[rr 4450 288]pid = 140096584951552
[rr 4450 305]in thread 1
[rr 4450 313]pid = 140096574461696
[rr 4450 330]in thread 2
[rr 4450 337]pid = 140096563971840
[rr 4450 354]in thread 3
[rr 4450 361]pid = 140096555579136
[rr 4450 378]in thread 4
[rr 4450 385]pid = 140096547186432
[rr 4450 402]in thread 5
[rr 4450 409]pid = 140096538793728
[rr 4450 426]in thread 6
[rr 4450 433]pid = 140096530401024
[rr 4450 450]in thread 7
[rr 4450 457]pid = 140096522008320
[rr 4450 474]in thread 8
[rr 4450 481]pid = 140096513615616
[rr 4450 498]in thread 9
[rr 4450 505]pid = 140096505222912
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€å·¦è¾¹æ˜¾ç¤ºäº‹ä»¶çš„æ ¼å¼ä¸º&lt;code&gt;[rr pid äº‹ä»¶id]&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;çŸ¥é“äº†äº‹ä»¶å¯¹åº”çš„&lt;code&gt;(pid,äº‹ä»¶id)&lt;/code&gt;äºŒå…ƒç»„ä¹‹åï¼Œåœ¨replayçš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šè¿™ä¸¤ä¸ªå€¼ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;rr -M replay -g äº‹ä»¶id
æˆ–è€…
rr -M replay -p pid
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;p&gt;è®©ç¨‹åºreplayçš„æ—¶å€™è¿…é€Ÿåˆ°è¾¾æŒ‡å®šäº‹ä»¶å‘ç”Ÿçš„åœºæ™¯ä¸‹ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä½¿ç”¨&lt;code&gt;rr -M replay -g 354&lt;/code&gt;å°±èƒ½é©¬ä¸Šé‡æ”¾åˆ°&lt;code&gt;[rr 4450 354]in thread 3&lt;/code&gt;è¿™ä¸€å¤„ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç§åŸºäºäº‹ä»¶çš„è°ƒè¯•æ–¹å¼ï¼Œè°ƒè¯•é‚£ç§ä»£ç ç›¸åŒï¼Œä½†æ˜¯ç”±äºè¾“å…¥å‚æ•°ä¸åŒå¯¼è‡´çš„é—®é¢˜æ—¶ï¼Œç‰¹åˆ«ç®¡ç”¨ï¼Œå› ä¸ºå¯ä»¥ç›´è¾¾é—®é¢˜å‘ç”Ÿçš„ç¯å¢ƒã€‚&lt;/p&gt;

&lt;h3 id=&#34;åå‘æ‰§è¡Œ-reverse-execution&#34;&gt;åå‘æ‰§è¡Œï¼ˆReverse executionï¼‰&lt;/h3&gt;

&lt;p&gt;æœ‰äº†è®°å½•çš„èƒ½åŠ›ä¹‹åï¼Œ&lt;code&gt;rr&lt;/code&gt;é™¤äº†èƒ½æ­£å‘æ‰§è¡Œç¨‹åºï¼Œè¿˜èƒ½åå‘æ¥æ‰§è¡Œç¨‹åºï¼Œè¿™ç‚¹åœ¨é‚£ç§çœ‹åˆ°ç¨‹åºçš„ç¯å¢ƒå‘ç”Ÿäº†å˜åŒ–ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆå‘ç”Ÿï¼Œæƒ³é‡è¯•ä¸€ä¸‹çš„æƒ…å†µä¸‹ç‰¹åˆ«ç®¡ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å•å‘è°ƒè¯•æ‰§è¡Œç¨‹åºæ—¶ï¼Œç”¨çš„æ˜¯&lt;code&gt;step&lt;/code&gt;ã€&lt;code&gt;next&lt;/code&gt;ã€&lt;code&gt;continue&lt;/code&gt;ã€&lt;code&gt;finish&lt;/code&gt;ç­‰å‘½ä»¤ï¼Œåå‘æ‰§è¡Œå°±åœ¨è¿™äº›å‘½ä»¤å‰é¢åŠ ä¸Š&lt;code&gt;reverse-&lt;/code&gt;å‰ç¼€ï¼Œå¦‚&lt;code&gt;reverse-cont&lt;/code&gt;ï¼ˆåé¢çš„å¯ä»¥ç®€å†™ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç¼ºç‚¹&#34;&gt;ç¼ºç‚¹&lt;/h2&gt;

&lt;p&gt;å‰é¢ä»‹ç»äº†&lt;code&gt;rr&lt;/code&gt;è¦è§£å†³çš„é—®é¢˜ï¼Œæœ€åèŠä¸€ä¸‹å®ƒçš„ç¼ºé™·ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rr&lt;/code&gt;æœ€å¼€å§‹æ˜¯ç”±Mozillaå¼€å‘çš„å·¥å…·ï¼Œçœ‹æ¥Mozillaå¯¹è¿™ç±»è¿è¡Œæ—¶é—®é¢˜ä¹Ÿæ˜¯æ·±æ¶ç—›ç»ï¼Œå‘æ˜äº†å¾ˆå¤šå·¥å…·è¯•å›¾æé«˜æ•ˆç‡ï¼ŒRustæ˜¯å¦å¤–ä¸€ä¸ªé‡è¦çš„å·¥å…·ï¼Œå¯ä»¥å‚è§ä¹‹å‰&lt;a href=&#34;https://www.codedump.info/post/20220227-weekly-7/&#34;&gt;å‘¨åˆŠï¼ˆç¬¬7æœŸï¼‰ï¼šä¸€ä¸ªCç³»ç¨‹åºå‘˜çš„Ruståˆä½“éªŒ&lt;/a&gt;ä¸­æˆ‘å¯¹Rustçš„ä½¿ç”¨ä½“éªŒã€‚&lt;/li&gt;
&lt;li&gt;å¾ˆå¯æƒœï¼Œè¿™ä¸ªå·¥å…·è²Œä¼¼åªèƒ½åœ¨Linuxä¸Šé¢è¿è¡Œï¼Œå¹¶æ²¡æœ‰Win\Macç‰ˆæœ¬ï¼Œè€Œä¸”è²Œä¼¼ä¹Ÿä¸æ€ä¹ˆæ›´æ–°äº†ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äº&lt;code&gt;rr&lt;/code&gt;åœ¨è®°å½•æ—¶ï¼Œéœ€è¦è®°å½•å¤§é‡çš„æ•°æ®æ¥ä¿å­˜ç¨‹åºè¿è¡Œæ—¶çš„åœºæ™¯ï¼Œè¿™æ ·ä¸€æ¥ä¼šç»™ç¨‹åºå¸¦æ¥å¡é¡¿ï¼ŒäºŒæ¥ä¼šæœ‰å¤§é‡çš„è®°å½•æ•°æ®ï¼Œæ‰€ä»¥å¹¶ä¸é€‚åˆç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šä½¿ç”¨è¿™ä¸ªå·¥å…·ã€‚æ›´é€‚åˆçš„åœºæ™¯æ˜¯ï¼šå·²ç»æ‰¾åˆ°äº†é‡ç°é—®é¢˜çš„åŠæ³•ï¼Œæ­¤æ—¶å¯ä»¥æ­å»ºä¸€ä¸ªç¯å¢ƒå¼€å¯&lt;code&gt;rr&lt;/code&gt;è®°å½•ä¸‹æ¥é‡ç°æ—¶çš„ç¯å¢ƒï¼Œå³å¹¶ä¸é€‚åˆæ¼«æ— ç›®çš„çš„å°±æ‰“å¼€è¿™ä¸ªå·¥å…·ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥ä¸Š&lt;code&gt;rr&lt;/code&gt;çš„ç¼ºé™·ï¼Œå½’æ ¹åˆ°åº•è¿˜æ˜¯ä¹‹å‰æåˆ°çš„ï¼šæŸ¥æ‰¾è¿è¡Œæ—¶çš„é—®é¢˜å¤ªéš¾äº†ï¼Œå°½é‡åœ¨ç¼–è¯‘æ—¶å±è”½å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼ŒçœŸç­‰é—®é¢˜åˆ°äº†è¿è¡Œæ—¶å†è§£å†³çš„æ—¶å€™ï¼Œæ—¶é—´ã€ç²¾åŠ›ã€åœºæ™¯å¤ç°ç­‰ç­‰éƒ½æ˜¯ä¸å¯æ§çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç•ªå¤–ç¯‡&#34;&gt;ç•ªå¤–ç¯‡&lt;/h1&gt;

&lt;h2 id=&#34;rrä½¿ç”¨çš„wiki&#34;&gt;rrä½¿ç”¨çš„wiki&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;rr&lt;/code&gt;çš„githubä¸Šï¼Œæœ‰ä¸€ç¯‡æ›´ä¸ºè¯¦ç»†ä¸€äº›çš„ä»‹ç»ä½¿ç”¨çš„&lt;a href=&#34;https://github.com/rr-debugger/rr/wiki/Usage&#34;&gt;Usage Â· rr-debugger/rr Wiki&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&#34;rrè§†é¢‘æ•™ç¨‹&#34;&gt;rrè§†é¢‘æ•™ç¨‹&lt;/h2&gt;

&lt;p&gt;æ²¹ç®¡ä¸Šæœ‰å‡ ä¸ªè§†é¢‘æ•™ç¨‹ï¼Œè§ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=hYsLBcTX00I&#34;&gt;Quick rr Demo - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=61kD3x4Pu8I&#34;&gt;rr 1.2 basic demo - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=H4iNuufAe_8&#34;&gt;Robert O&amp;rsquo;Callahan - Corporation Taming Nondeterminism - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å…¶å®ƒæ–‡æ¡£&#34;&gt;å…¶å®ƒæ–‡æ¡£&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä»‹ç»äº†&lt;code&gt;rr&lt;/code&gt;æ˜¯å¦‚ä½•å®ç°çš„ï¼š&lt;a href=&#34;https://arxiv.org/pdf/1705.05937.pdf&#34;&gt;Engineering Record And Replay For Deployability Extended Technical Report&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;gdbç›¸å…³æ–‡æ¡£&#34;&gt;GDBç›¸å…³æ–‡æ¡£&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://wizardforcel.gitbooks.io/100-gdb-tips/content/index.html&#34;&gt;ä»‹ç» | 100ä¸ªgdbå°æŠ€å·§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/rkubik/b96c23bd8ed58333de37f2b8cd052c30&#34;&gt;GDB cheat sheet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://segmentfault.com/a/1190000022499197&#34;&gt;gdbæ·±å…¥å­¦ä¹ æ‰‹å†Œ - SegmentFault æ€å¦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;å¦‚ä½•åœ¨å¼€æºé¡¹ç›®ä¸­åšé‡æ„&#34;&gt;ã€Šå¦‚ä½•åœ¨å¼€æºé¡¹ç›®ä¸­åšé‡æ„ï¼Ÿã€‹&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/JrxNyDKNg9MseQZ7PlG2VQ&#34;&gt;ã€Šå¦‚ä½•åœ¨å¼€æºé¡¹ç›®ä¸­åšé‡æ„ï¼Ÿã€‹&lt;/a&gt;ï¼Œæ€»ç»“äº†ç»´æŠ¤ä¸€ä¸ªå¼€æºé¡¹ç›®é‡æ„çš„ç»éªŒã€‚&lt;/p&gt;

&lt;h2 id=&#34;linux-containers-in-500-lines-of-code&#34;&gt;ã€ŠLinux containers in 500 lines of codeã€‹&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://blog.lizzie.io/linux-containers-in-500-loc.html&#34;&gt;Linux containers in 500 lines of code&lt;/a&gt;ï¼Œè®²è§£Linuxå®¹å™¨åŸç†çš„æ–‡ç« ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ”¶é›†æ•´ç†è¿œç¨‹å·¥ä½œç›¸å…³çš„èµ„æ–™&#34;&gt;æ”¶é›†æ•´ç†è¿œç¨‹å·¥ä½œç›¸å…³çš„èµ„æ–™&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/greatghoul/remote-working&#34;&gt;greatghoul/remote-working: æ”¶é›†æ•´ç†è¿œç¨‹å·¥ä½œç›¸å…³çš„èµ„æ–™&lt;/a&gt;ï¼Œä½†æ˜¯è²Œä¼¼å·²ç»ä¸æ›´æ–°äº†ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬8æœŸï¼‰ï¼šæŠ€æœ¯é…å›¾çš„ä¸€äº›å¿ƒå¾—</title>
      <link>https://www.codedump.info/post/20220304-weekly-8/</link>
      <pubDate>Fri, 04 Mar 2022 22:10:11 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220304-weekly-8/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šå†™è¿‡ä¸å°‘æŠ€æœ¯æ–‡ç« ï¼Œä»¥åŠç»™ä¸å°‘æŠ€æœ¯æ€è·¯æ‰‹ç»˜ç¤ºä¾‹é…å›¾ä¹‹åï¼Œåœ¨è¿™æ–¹é¢æœ‰äº†ä¸€äº›å¿ƒå¾—ï¼Œæœ¬æ–‡æƒå½“ä¸ªäººçš„ä¸€äº›çš„æ€»ç»“ï¼ŒæŠ›ç –å¼•ç‰ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;æŠ€æœ¯é…å›¾çš„ä¸€äº›å¿ƒå¾—&#34;&gt;æŠ€æœ¯é…å›¾çš„ä¸€äº›å¿ƒå¾—&lt;/h1&gt;

&lt;p&gt;æˆ‘è§‰å¾—æˆ‘ä»¬ç†å·¥ç§‘å‡ºèº«çš„ï¼Œå¯¹äºå¯ä»¥é‡åŒ–çš„äº‹æƒ…ï¼Œæ€»æ˜¯å¾ˆå®¹æ˜“æ ¹æ®é‡åŒ–å·®å¼‚æ¥åšå‡ºåˆ¤æ–­ï¼Œæ¯”å¦‚ä¸€ä¸ªç¨‹åºæ€§èƒ½ä¼˜åŒ–ä¹‹åï¼Œèƒ½æ¯”ä¼˜åŒ–ä¹‹å‰å¿«å‡ºå¤šå°‘ï¼Œéƒ½èƒ½æœ‰ä¸€ä¸ªé‡åŒ–çš„æ•°å­—æ¥è¯´æ˜ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¯¹äºé‚£äº›ä¸èƒ½é‡åŒ–çš„ä¸œè¥¿ï¼Œå°±å¾ˆéš¾è¯´å‡ºå…·ä½“å¥½åœ¨å“ªé‡Œäº†ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ä¸»é¢˜è¦è®¨è®ºçš„â€œæŠ€æœ¯é…å›¾â€å°±å±äºè¿™ç§å¾ˆéš¾é‡åŒ–çš„é¢†åŸŸï¼Œå¾ˆéš¾æœ‰ä¸€ä¸ªæ ‡å‡†æ¥é‡åŒ–è¯´æ˜ä¸¤å¹…å›¾ä¹‹é—´å·®åˆ«åœ¨å“ªé‡Œã€‚æˆ‘ä¹Ÿæ˜¯ç”»äº†å¾ˆå¤šå›¾ï¼Œä»¥åŠçœ‹äº†åˆ«äººçš„å¾ˆå¤šé…å›¾ä¹‹åï¼Œæ‰æ…¢æ…¢æœ‰ä¸€äº›å¿ƒå¾—ï¼Œæœ¬æ–‡æƒå½“ä¸ªäººçš„ä¸€äº›çš„æ€»ç»“ï¼ŒæŠ›ç –å¼•ç‰ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡å¹¶ä¸æ˜¯ä¸€ä¸ªç”»å›¾å·¥å…·çš„å¯¹æ¯”è¯´æ˜ï¼Œå°½ç®¡ç°åœ¨å„ç§ç»˜å›¾å·¥å…·å·²ç»å¾ˆå¤šï¼Œä¹Ÿå„æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹ä»¥åŠä¸ªäººå–œå¥½ï¼Œä½†æ˜¯åœ¨è¿™é‡Œå¹¶ä¸è®¨è®ºå…·ä½“å·¥å…·çš„ä½¿ç”¨ï¼Œä¼šæŠŠæ›´å¤šçš„æ–‡å­—æ”¾åœ¨é…å›¾çš„ä¸€äº›æ³¨æ„äº‹é¡¹ä¸Šã€‚ä½†æ˜¯ï¼Œä¹Ÿæ€»æœ‰äººé—®æˆ‘æ–‡ç« çš„é…å›¾ä½¿ç”¨ä»€ä¹ˆå·¥å…·åšçš„ï¼Œåœ¨è¿™é‡Œå†å›ç­”ä¸€æ¬¡ï¼š&lt;a href=&#34;https://www.omnigroup.com/omnigraffle&#34;&gt;OmniGraffle&lt;/a&gt;ï¼Œä¸€æ¬¾ç›®å‰ä»…æœ‰Macç‰ˆæœ¬çš„å·¥å…·è½¯ä»¶ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸€å›¾èƒœåƒè¨€&#34;&gt;ä¸€å›¾èƒœåƒè¨€&lt;/h2&gt;

&lt;p&gt;åœ¨å¼€å§‹äº¤ä»£å…·ä½“çš„é…å›¾æ³¨æ„äº‹é¡¹ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆè¯´è¯´é…å›¾çš„é‡è¦æ€§ã€‚&lt;/p&gt;

&lt;p&gt;ç»˜å›¾ï¼ŒæŸç§ç¨‹åº¦ä¹Ÿæ˜¯è¾…åŠ©è‡ªå·±æ€è€ƒæŸä¸ªæŠ€æœ¯ç‚¹çš„æ‰‹æ®µä¹‹ä¸€ï¼Œä»¥æˆ‘ä¸ªäººçš„ä½“ä¼šæ¥è¯´ï¼Œæœ‰æ—¶å€™è®²ä¸æ¸…æ¥šä¸€ä¸ªæŠ€æœ¯ç‚¹çš„æ—¶å€™ï¼Œå°±æ‰‹ç»˜å›¾å‡ºæ¥ï¼Œæ¯”æœ´ç´ çš„æ–‡å­—æ›´å®¹æ˜“è¯´æ˜é—®é¢˜ã€‚å…¶ä¸­çš„åŸå› ï¼Œæœ‰å¯èƒ½æ˜¯ï¼šå›¾ç‰‡å¯ä»¥æœ‰å¤šç»´çš„ä¿¡æ¯ï¼Œè€Œæ–‡å­—é€šå¸¸åªæœ‰ä¸€ç»´ï¼Œé‡åˆ°æ–‡å­—è¡¨è¾¾èƒ½åŠ›ä¸å¤ªå¥½çš„äººï¼Œè¿™ä»…æœ‰çš„ä¸€ç»´èƒ½åŠ›å¯èƒ½è¿˜ä¸å¥½å‘æŒ¥å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨äº¤ä»£æŠ€æœ¯ç»†èŠ‚ã€æ²Ÿé€šäº¤æµçš„æ—¶å€™ï¼Œå°½é‡å¤šç”»å›¾ã€‚åå‘çš„ï¼Œå›¾ç”»å¤šäº†ï¼Œä¹Ÿè‡ªç„¶æ…¢æ…¢ä¼šæ‰¾åˆ°æ„Ÿè§‰ï¼Œå¦‚ä½•æ›´å¥½çš„é€šè¿‡å›¾ç¤ºè¡¨è¾¾æ€è·¯ã€‚&lt;/p&gt;

&lt;p&gt;é¡ºä¾¿ä¸€æï¼Œè¿˜æœ‰æ¯”æœ´ç´ çš„æ–‡å­—è¡¨è¾¾æ›´å·®çš„æŠ€æœ¯æ²Ÿé€šæ–¹å¼ï¼Œå°±æ˜¯ç®€å•ç²—æš´çš„è´´ä¸€å¤§æ®µä»£ç ä¸Šå»ã€‚è¿™ç§åšæ³•ï¼Œå…¶å®æ›´å¤šæ—¶å€™æ˜¯æ²¡æœ‰å¯¹ä½œè€…çš„æ€è·¯æœ‰å¤ªå¤šä¸ªäººçš„æ•´ç†ï¼Œæƒ³å·æ‡’çš„æ–¹å¼ï¼Œæœ€åå›å¤´å†çœ‹å†™è¿‡çš„æ–‡å­—ï¼Œå¯èƒ½è¿è‡ªå·±éƒ½çœ‹ä¸æ‡‚äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ªäººçš„ä¸€ä¸ªä½“ä¼šï¼šå¦‚æœäº§å‡ºæŸäº›è¾“å‡ºçš„æ—¶å€™ï¼Œèƒ½å‡è®¾è‡ªå·±æœªæ¥å°±æ˜¯è¿™äº›è¾“å‡ºçš„è¯»è€…ã€ç»´æŠ¤è€…ï¼Œé‚£ä¹ˆè¾“å‡ºèµ·æ¥ä¼šæ›´â€œå‹å–„â€ä¸€äº›ã€‚æ¯”å¦‚å†™çš„ä»£ç ã€æ–‡ç« ã€ç”šè‡³äºæäº¤ä»£ç æ—¶å€™çš„ä¿¡æ¯ï¼Œå¦‚æœèƒ½è€ƒè™‘æ˜¯å†™ç»™æœªæ¥çš„è‡ªå·±çœ‹çš„ï¼Œä¼šæ›´æ¸…æ™°ã€å°½å¯èƒ½ç•™ä¸‹æ›´å¤šçš„ä¿¡æ¯ã€‚æˆ‘æœ€å¼€å§‹è¦åœ¨æ–‡ç« é‡Œå¤§é‡é…å›¾ï¼Œä¹Ÿæ˜¯ä¸ºäº†å°†æ¥è‡ªå·±å›çœ‹çš„æ—¶å€™èƒ½çœ‹æ‡‚ã€‚&lt;/p&gt;

&lt;p&gt;æ‰¯è¿œäº†ï¼Œæ€»ä¹‹ï¼Œå°½å¯èƒ½å¤šç”»å›¾æ¥è¡¨è¾¾æŠ€æœ¯æ€è·¯ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢å¼€å§‹æ­£é¢˜ï¼Œä»¥ä¸‹ä¼šä»¥ç®€å•çš„å‡ ä¸ªåŸåˆ™åŠç¤ºä¾‹æ¥è¯´æ˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŒºåˆ†-è”ç³»-ç»„åˆ&#34;&gt;åŒºåˆ†ã€è”ç³»ã€ç»„åˆ&lt;/h2&gt;

&lt;p&gt;é…å›¾ä¸­ï¼Œåº”è¯¥å°½é‡å°†ä¸åŒçš„æ¨¡å—ã€ç»„ä»¶ç­‰åŒºåˆ†å¼€æ¥ï¼Œâ€œåŒºåˆ†â€çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ä¸åŒçš„é¢œè‰²ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸åŒçš„å½¢çŠ¶ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç®­å¤´ã€æ›²çº¿ç­‰è¡¨ç¤ºæ•°æ®çš„èµ°å‘ã€è¶‹åŠ¿ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç­‰ç­‰ï¼Œæ‰€æœ‰çš„è¿™äº›æ‰‹æ®µï¼Œæ¦‚æ‹¬èµ·æ¥å°±æ˜¯å°½é‡åœ¨å›¾ä¸­ï¼Œå°†ä¸åŒçš„å…ƒç´ åŒºåˆ†å¼€æ¥ï¼Œâ€œæœ‰åŒºåˆ†â€æ„å‘³ç€è‡³å°‘æœ‰ä¸€ä¸ªç»´åº¦çš„ä¸åŒï¼Œè¿™æ ·èƒ½ç»™è¯»è€…æ›´åŠ æ¸…æ™°çš„æ„Ÿè§‰ã€‚å¯ä»¥ç»“åˆä¸‹é¢çš„ä¾‹å­æ¥ç†è§£åŒºåˆ†ã€è”ç³»å’Œç»„åˆçš„ç»˜å›¾è¡¨è¾¾ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åˆ†ç»„&#34;&gt;åˆ†ç»„&lt;/h2&gt;

&lt;p&gt;ä¸€ä¸ªæ¨¡å—é‡Œï¼Œå¯èƒ½ç”±å¤šä¸ªç»„ä»¶æ„æˆï¼Œå¯ä»¥æŠŠè¿™äº›ç»„ä»¶åˆ†ç»„åˆ°ä¸€ä¸ªæ›´å¤§çš„æ¨¡å—ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åˆ†ç»„æ˜¯éå¸¸å¸¸è§çš„ä¸€ç§æ‰‹æ®µï¼Œè¿™é‡Œå¤šä¸¾å‡ ä¸ªä¾‹å­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/cpu.jpeg&#34; alt=&#34;cpu&#34; title=&#34;cpu&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œæ¯ä¸ªCPU Coreä¸­æœ‰L1ã€L2ç¼“å­˜ï¼Œäºæ˜¯æŠŠè¿™äº›ç»„ä»¶åˆå¹¶åœ¨ä¸€èµ·æ”¾åœ¨Coreç»„ä»¶ä¸­ï¼Œå‘¨å›´ä½¿ç”¨ä¸€ä¸ªæ­£æ–¹å½¢åŒ…è£¹èµ·æ¥ï¼ŒåŒæ—¶è¿™ä¸ªæ­£æ–¹å½¢å·¦ä¸Šè§’æœ‰ä¸€ä¸ª&lt;code&gt;Core&lt;/code&gt;çš„è¯´æ˜æ–‡å­—ï¼Œè¿™æ ·ä¸€ç›®äº†ç„¶ï¼šCoreæ¨¡å—ï¼Œç”±L1ã€L2ç¼“å­˜æ„æˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/raft-log.png&#34; alt=&#34;meituan&#34; title=&#34;meituan&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾å‡ºè‡ªRaftè®ºæ–‡ï¼Œæ•´ä½“ä¸Šåˆ’åˆ†ä¸ºäº†Clientã€Serverè¿™ä¸¤å¤§éƒ¨åˆ†ã€‚è€Œæ¯ä¸ªServeråˆæœ‰ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€è‡´æ€§ç®—æ³•æ¨¡å—ã€‚&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æœºã€‚&lt;/li&gt;
&lt;li&gt;æŒä¹…åŒ–çš„æ—¥å¿—ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œå›¾ç¤ºä¸­å°†è¿™ä¸‰éƒ¨åˆ†åˆåœ¨ä¸€èµ·æ”¾åœ¨åŒä¸€ä¸ªçŸ©å½¢é‡Œï¼Œè¡¨ç¤ºä¸€ä¸ªServeræœ‰è¿™ä¸‰ä¸ªç»„ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–è¿˜éœ€æ³¨æ„çš„æ˜¯ï¼Œä¸€èˆ¬è¿™ç§åˆ†ç»„ä¸­å¤–å›´çš„çŸ©å½¢ï¼Œæœ‰è¿™æ ·çš„è®²ç©¶ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬ä½¿ç”¨æ–œé¢çŸ©å½¢ï¼Œå³å››ä¸ªè§’æ˜¯åœ†è§’çš„çŸ©å½¢ï¼Œè¿™æ ·åœ†æ¶¦ä¸€äº›çš„è¾¹è§’çœ‹èµ·æ¥ä¼šæ›´èˆ’æœä¸€äº›ï¼Œå¦‚ä¸Šå›¾ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™ä¸ªç»„åˆï¼Œæ˜¯ä¸€ç§é€»è¾‘ä¸Šçš„ç»„åˆï¼Œé‚£ä¹ˆçº¿çš„å½¢çŠ¶ä¸€èˆ¬ç”¨è™šçº¿ï¼›å¦åˆ™å°±ä¸€èˆ¬ç”¨çš„å®çº¿ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åœ¨åˆ†ç»„æ—¶ï¼Œæœ‰æ—¶å€™å¯ä»¥å°†ç›¸åŒç±»å‹çš„æ¨¡å—å±‚å èµ·æ¥ï¼Œè¿™æ ·ä¼šæ›´åŠ ç®€æ´ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/raft.png&#34; alt=&#34;raft&#34; title=&#34;raft&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾æ˜¯å‡ºè‡ªRaftè®ºæ–‡ä¸­çš„çŠ¶æ€æœºæ¨¡å‹ï¼Œå…¶ä¸­æƒ³è¦è¡¨è¾¾çš„ä¸€ä¸ªç‚¹æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æœ‰å¤šä¸ªclientå‘serverå‘èµ·è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;serverè¦è¾¾æˆä¸€è‡´ï¼Œéœ€è¦å°†æ—¥å¿—åœ¨serverä¹‹é—´åŒæ­¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½†æ˜¯ä¸Šå›¾ä¸­ï¼Œå¹¶æ²¡æœ‰æŠŠè¿™äº›åŒç±»å‹çš„ç»„ä»¶åˆ†å¼€è¡¨è¾¾ï¼Œè€Œæ˜¯å·§å¦™çš„ä½¿ç”¨å±‚å çš„æ–¹å¼ï¼Œç®€æ´å¾—è¡¨è¾¾äº†æœ‰å¤šä¸ªclientã€å¤šä¸ªserverçš„æƒ…å†µã€‚&lt;/p&gt;

&lt;h2 id=&#34;è¶‹åŠ¿&#34;&gt;è¶‹åŠ¿&lt;/h2&gt;

&lt;p&gt;å¦‚æœä¸åŒçš„ç»„ä»¶ä¹‹é—´ï¼Œæœ‰ä¸åŒçš„è¶‹åŠ¿ï¼Œå¯ä»¥åœ¨å›¾ä¸­ä½¿ç”¨ç±»ä¼¼ç®­å¤´è¿™æ ·çš„ç¬¦å·è¡¨è¾¾å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾æ˜¯æè¿°ä¸åŒå±‚æ¬¡å­˜å‚¨çš„è®¿é—®é€Ÿåº¦ï¼Œäºæ˜¯ç”¨äº†ä¸¤ä¸ªæ–¹å¼æ¥è¡¨è¾¾è®¿é—®é€Ÿåº¦çš„å˜åŒ–è¶‹åŠ¿ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å·¦è¾¹çš„ç®­å¤´è¡¨è¾¾é€Ÿåº¦å’Œæˆæœ¬çš„å˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;ä¸åŒå¤§å°çš„å¤šè¾¹å½¢è¡¨è¾¾äº†è¿™äº›å­˜å‚¨ç©ºé—´çš„å˜åŒ–ï¼šè¶Šå¾€ä¸Šè®¿é—®é€Ÿåº¦è¶Šå¿«ï¼Œä½†æ˜¯å¯¹åº”çš„å­˜å‚¨ç©ºé—´ä¹Ÿæ›´å°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/cache.png&#34; alt=&#34;cache&#34; title=&#34;cache&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å†æ¯”å¦‚ï¼Œä¸‹å›¾ä¸­ï¼Œæ˜¯è¯´æ˜sqliteä¸­btreeé¡µé¢çš„æ•°æ®ç»„ç»‡çš„ã€‚å…¶ä¸­çš„ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œ&lt;code&gt;Cellåœ°å€æ•°ç»„&lt;/code&gt;ä»¥åŠ&lt;code&gt;Cellå†…å®¹åŒº&lt;/code&gt;ä¸ºå˜é•¿å¤§å°ï¼Œå‰è€…ä»åœ°å€ä½ä½å‘é«˜ä½ç”Ÿé•¿ï¼Œåè€…åä¹‹ï¼Œäºæ˜¯åœ¨å›¾ä¸­ï¼Œå°±ç”¨ç®­å¤´ç¤ºä¾‹å‡ºåœ°å€çš„é«˜ä½ä½åŒºåˆ«ï¼Œä»¥åŠä¸¤è€…çš„å¢é•¿æ–¹å‘ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/page-format.png&#34; alt=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; title=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;è”ç³»&#34;&gt;è”ç³»&lt;/h2&gt;

&lt;p&gt;ç”¨ç®­å¤´ç­‰è¡¨ç¤ºæ•°æ®ã€çŠ¶æ€ç­‰çš„èµ°å‘ï¼Œæˆ–è€…æ¨¡å—ä¹‹é—´çš„è”ç³»ã€‚&lt;/p&gt;

&lt;p&gt;è¿™åœ¨æ¶‰åŠï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;çŠ¶æ€åˆ‡æ¢ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®æµå‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç­‰åœºæ™¯ä¸‹æ˜¯éå¸¸å¸¸è§çš„æ‰‹æ®µï¼Œæ¯”å¦‚ç»å…¸çš„TCPçŠ¶æ€æœºåˆ‡æ¢ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/TCPçŠ¶æ€æœº.png&#34; alt=&#34;TCPçŠ¶æ€æœº&#34; title=&#34;TCPçŠ¶æ€æœº&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä»¥åŠTCPä¸‰æ¬¡æ¡æ‰‹æµç¨‹ï¼Œä¹Ÿæ˜¯å…¸å‹çš„â€œçŠ¶æ€åˆ‡æ¢â€ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/TCPä¸‰æ¬¡æ¡æ‰‹.png&#34; alt=&#34;TCPä¸‰æ¬¡æ¡æ‰‹&#34; title=&#34;TCPä¸‰æ¬¡æ¡æ‰‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œä»¥ä¸Šçš„å›¾ç¤ºä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç®­å¤´ä»£è¡¨çš„çŠ¶æ€åˆ‡æ¢èµ°å‘ä¸­ï¼ŒåŒæ—¶ä¹Ÿé…ä»¥æ–‡å­—è¯´æ˜æ˜¯ä»€ä¹ˆåŠ¨ä½œå¯¼è‡´çš„çŠ¶æ€åˆ‡æ¢ï¼Œè¿™æ ·è¿™ä¸ªå›¾ç¤ºå°±æ›´æ¸…æ™°äº†ã€‚&lt;/li&gt;
&lt;li&gt;ç®­å¤´ä¹Ÿåˆ†ä¸ºå®çº¿å’Œè™šçº¿ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œè™šçº¿è¡¨ç¤ºæ•°æ®çš„èµ°å‘ï¼Œå®çº¿è¡¨ç¤ºçŠ¶æ€çš„èµ°å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ç¦æ­¢&#34;&gt;ç¦æ­¢&lt;/h2&gt;

&lt;p&gt;éœ€è¦ç¦æ­¢æˆ–è€…é”™è¯¯çš„è¡Œä¸ºï¼Œå¯ä»¥ç”¨ç‰¹æ®Šçš„ç¬¦å·ï¼Œå¦‚å¸¦é¢œè‰²çš„â€œÃ—â€ç¬¦å·ç¤ºæ„å‡ºæ¥ï¼›åä¹‹ï¼Œå¯ä»¥ç”¨å¸¦é¢œè‰²çš„â€œâˆšâ€ç¬¦å·ç¤ºæ„å‡ºæ¥ï¼Œè€Œä¸”è¡¨ç¤ºç¦æ­¢çš„æ—¶å€™ï¼Œä¸€èˆ¬ç”¨çº¢è‰²ä¼šæ›´æ˜¾çœ¼ï¼Œä¸‹å›¾å°±æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220304-weekly-8/memory-barriers-in-dot-net-5.png&#34; alt=&#34;meituan&#34; title=&#34;meituan&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª &lt;a href=&#34;https://afana.me/archive/2015/07/10/memory-barriers-in-dot-net.aspx/&#34;&gt;Memory Barriers in .NET Â· Nadeem Afana&amp;rsquo;s Blog&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;è¯´æ˜&#34;&gt;è¯´æ˜&lt;/h2&gt;

&lt;p&gt;å¦‚æœä¸å¥½è¯´æ˜é—®é¢˜ï¼Œå¯ä»¥åœ¨å›¾ç¤ºä¸­æ­é…ç®€çŸ­çš„è¯´æ˜æ–‡å­—ã€‚æ³¨æ„ï¼šè¿™ç±»å‹æ–‡å­—ä¸€å®šè¦è¶³å¤Ÿçš„ç®€çŸ­ï¼Œå¦åˆ™å¯èƒ½ä¼šå–§å®¾å¤ºä¸»ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸‹å›¾ä¸­ï¼Œæœ‰ä¸¤éƒ¨åˆ†è“è‰²æ³¨è§£çš„æ–‡å­—æ¥è¯´æ˜ä¸åŒçš„è¡¨ç±»å‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/btree-rowid.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;å†æ¯”å¦‚ä¸‹å›¾ä¸­ï¼Œä½¿ç”¨æ³¨è§£æ–‡å­—æ¥è¯´æ˜æŸ¥æ‰¾æ•°æ®çš„ä¸¤æ­¥æµç¨‹ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/find-key.png&#34; alt=&#34;æŸ¥æ‰¾keyçš„æµç¨‹&#34; title=&#34;æŸ¥æ‰¾keyçš„æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;

&lt;p&gt;æœ‰æ—¶å€™éœ€è¦ä½¿ç”¨ç±»ä¼¼&lt;code&gt;{&lt;/code&gt;è¿™æ ·çš„ç¬¦å·ï¼Œå¯¹ä¸€ç±»å…ƒç´ åšä¸€äº›è¯´æ˜ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾ä¸­ï¼Œæ˜¯è¯´æ˜sqliteä¸­btreeé¡µé¢çš„æ•°æ®ç»„ç»‡çš„ï¼Œæœ€å³è¾¹çš„ä»¥&lt;code&gt;{&lt;/code&gt;åŒ…èµ·æ¥çš„æ–‡å­—ï¼Œå¯¹æ¯éƒ¨åˆ†åšäº†ç®€è¦çš„è¯´æ˜ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/page-format.png&#34; alt=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; title=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾ä¸­ï¼Œå°†é¡µé¢åˆ’åˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†ï¼Œè¿™äº›ä¸åŒçš„ç»„æˆéƒ¨åˆ†ï¼Œæ—¢ä½¿ç”¨äº†é¢œè‰²è¿›è¡ŒåŒºåˆ†ï¼Œä¹Ÿä½¿ç”¨äº†å‘ä¸‹çš„&lt;code&gt;{&lt;/code&gt;è¾…ä»¥æ–‡å­—è¯´æ˜ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/freelist.png&#34; alt=&#34;ç©ºé—²åŒºé“¾è¡¨&#34; title=&#34;ç©ºé—²åŒºé“¾è¡¨&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;æ­¥éª¤&#34;&gt;æ­¥éª¤&lt;/h2&gt;

&lt;p&gt;å¦‚æœé…å›¾æ˜¯éœ€è¦è®²è§£æŸä¸ªæ“ä½œçš„æ­¥éª¤çš„ï¼Œå¯ä»¥é…ä»¥æ•°å­—æ¥è¾…åŠ©ç†è§£æ•´ä¸ªæµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾ä¸­ï¼Œè¡¨è¾¾çš„æ˜¯æ ¹æ®å¸§æ•°æŸ¥æ‰¾é¡µé¢ç¼–å·çš„ä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/frame-pageno.png&#34; alt=&#34;æ·»åŠ å¸§æ•°ä¸é¡µé¢ç¼–å·å¯¹åº”å…³ç³»çš„æµç¨‹&#34; title=&#34;æ·»åŠ å¸§æ•°ä¸é¡µé¢ç¼–å·å¯¹åº”å…³ç³»çš„æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾ä¸­çš„æ­¥éª¤å°±æ›´å¤šäº†ï¼Œå¹¶æ²¡æœ‰æ˜¾å¾—å¾ˆä¹±ï¼Œå¤§æ¦‚åŸå› åœ¨äºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æœ€å·¦è¾¹è¡¨è¾¾äº†æ¯ä¸€æ­¥çš„æ­¥éª¤ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€æ­¥å†™å…¥æ•°æ®ä¹‹åï¼Œæ˜¾ç¤ºWALæ–‡ä»¶åœ¨å†™å…¥ä¹‹åçš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;æœ€å³è¾¹ä½¿ç”¨&lt;code&gt;{&lt;/code&gt;è¡¨è¾¾ä¿®æ”¹ä¹‹åçš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/write-wal.png&#34; alt=&#34;å†™äº‹åŠ¡ä¿®æ”¹WALæ–‡ä»¶å’ŒWALç´¢å¼•æ•°æ®&#34; title=&#34;å†™äº‹åŠ¡ä¿®æ”¹WALæ–‡ä»¶å’ŒWALç´¢å¼•æ•°æ®&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;å±•å¼€&#34;&gt;å±•å¼€&lt;/h2&gt;

&lt;p&gt;åœ¨è®²è§£ä¾‹å¦‚æ–‡ä»¶æ ¼å¼ï¼Œæˆ–è€…åè®®æ ¼å¼ç­‰å†…å®¹çš„æ—¶å€™ï¼Œæ ¼å¼ç”±å¤šä¸ªéƒ¨åˆ†åˆ’åˆ†ç»„æˆï¼Œå…¶ä¸­åˆå¯ä»¥é’ˆå¯¹å…¶ä¸­çš„æŸäº›å†…å®¹å±•å¼€è¯´æ˜ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚ä¸‹å›¾ä¸­ï¼Œæ˜¯ç”¨äºå±•ç¤ºwal indexç´¢å¼•æ–‡ä»¶æ ¼å¼çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å·¦è¾¹ç¤ºä¾‹æ¯éƒ¨åˆ†å†…å®¹çš„å¤§å°ï¼Œæƒ³è¯´æ˜çš„æ˜¯ï¼Œé‚£ä¸ªç´¢å¼•å—å¤§å°ä¸º32KBï¼Œè€Œç¬¬ä¸€å—çš„å¤´136å­—èŠ‚ä¸ºç´¢å¼•æ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;äºæ˜¯ï¼Œåœ¨å³è¾¹å›¾ä¸­ï¼Œå°†å·¦è¾¹ä¸åŒæ¨¡å—çš„å…·ä½“æ ¼å¼ç»§ç»­å±•å¼€è¯´æ˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/wal-index-format.png&#34; alt=&#34;WAL-Indexç´¢å¼•æ–‡ä»¶ç»“æ„å›¾&#34; title=&#34;WAL-Indexç´¢å¼•æ–‡ä»¶ç»“æ„å›¾&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå‡ºè‡ª&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;h1 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h1&gt;

&lt;p&gt;ä»¥ä¸Šç®€å•æ€»ç»“äº†ä¸€ä¸‹ä¸ªäººæŠ€æœ¯é…å›¾çš„ä¸€äº›å¿ƒå¾—ï¼Œæ€»çš„å¤§åŸåˆ™æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åŒºåˆ†ï¼šå°†ç»„ä»¶ã€æµç¨‹ã€è¶‹åŠ¿ç­‰ä¹‹é—´çš„â€åŒºåˆ†â€œå°½å¯èƒ½åœ¨å›¾ç¤ºä¸­é€šè¿‡å„ç§æ‰‹æ®µï¼ˆå¦‚ä¸åŒçš„é¢œè‰²ã€å½¢çŠ¶ã€ç®­å¤´ï¼‰è¡¨è¾¾å‡ºæ¥ã€‚&lt;/li&gt;
&lt;li&gt;è”ç³»ï¼šç»„ä»¶ä¹‹é—´çš„æ•°æ®æµåŠ¨ã€çŠ¶æ€åˆ‡æ¢ç­‰ï¼Œéƒ½æ˜¯å®ƒä»¬ä¹‹é—´çš„è”ç³»ï¼Œä¹Ÿéœ€è¦é€šè¿‡å„ç§æ‰‹æ®µè¡¨è¾¾å‡ºæ¥ã€‚&lt;/li&gt;
&lt;li&gt;è¯´æ˜ï¼šå¯èƒ½çš„è¯ï¼Œè¦åœ¨å›¾ä¸­åŠ ä¸Šä¸€äº›è¯´æ˜æ–‡å­—ï¼Œå¦‚æ­¥éª¤è¯´æ˜ã€åˆ†ç±»è¯´æ˜ï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬7æœŸï¼‰ï¼šä¸€ä¸ªCç³»ç¨‹åºå‘˜çš„Ruståˆä½“éªŒ</title>
      <link>https://www.codedump.info/post/20220227-weekly-7/</link>
      <pubDate>Sun, 27 Feb 2022 11:25:33 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220227-weekly-7/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šåœ¨å·¥ä½œé‡Œä½¿ç”¨Rustå·²ç»æœ‰ä¸¤ä¸ªå¤šæœˆçš„æ—¶é—´äº†ï¼Œè°ˆè°ˆæˆ‘åšä¸ºä¸€åå¤šå¹´çš„Cç³»ï¼ˆCã€C++ï¼‰ç¨‹åºå‘˜ï¼Œå¯¹Rustçš„åˆä½“éªŒã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;ä¸€ä¸ªcç³»ç¨‹åºå‘˜çš„ruståˆä½“éªŒ&#34;&gt;ä¸€ä¸ªCç³»ç¨‹åºå‘˜çš„Ruståˆä½“éªŒ&lt;/h1&gt;

&lt;p&gt;æœ€è¿‘ç”±äºå·¥ä½œçš„åŸå› ï¼Œä½¿ç”¨ä¸Šäº†Rustè¯­è¨€ï¼Œåœ¨æ­¤ä¹‹å‰æˆ‘æœ‰å¤šå¹´çš„Cã€C++ç¼–ç ç»éªŒï¼ˆä»¥ä¸‹å°†Cã€C++ç®€ç§°Cç³»è¯­è¨€ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨Cç³»è¯­è¨€ç¼–ç æ—¶ï¼Œæœ€ç»å¸¸é¢å¯¹çš„é—®é¢˜å°±æ˜¯å†…å­˜é—®é¢˜ï¼Œè¯¸å¦‚ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é‡æŒ‡é’ˆï¼ˆWild Pointerï¼‰ï¼šä½¿ç”¨äº†ä¸å¯çŸ¥çš„æŒ‡é’ˆå˜é‡ï¼Œå¦‚å·²ç»è¢«é‡Šæ”¾ã€æœªåˆå§‹åŒ–ã€éšæœºï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;å†…å­˜åœ°å€ç”±äºè®¿é—®è¶Šç•Œç­‰åŸå› è¢«è¦†ç›–ï¼ˆoverflowï¼‰ï¼Œè¿™ä¸ä½†æ˜¯å¯èƒ½å‡ºé”™çš„é—®é¢˜ï¼Œè¿˜æœ‰å¯èƒ½æˆä¸ºç¨‹åºçš„å†…å­˜æ¼æ´è¢«åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å†…å­˜åˆ†é…åæœªå›æ”¶ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿Chromeçš„æŠ¥å‘Šéƒ½æŒ‡å‡ºï¼ŒChromeä¸­å¤§çº¦70%çš„å®‰å…¨æ¼æ´éƒ½æ˜¯å†…å­˜é—®é¢˜ï¼Œè§ï¼š&lt;a href=&#34;https://www.chromium.org/Home/chromium-security/memory-safety/&#34;&gt;Memory safety&lt;/a&gt;ã€‚ï¼ˆä¸ä»…å¦‚æ­¤ï¼Œå¾®è½¯çš„æ–‡ç« ä¹Ÿæ˜¾ç¤ºåœ¨å¾®è½¯çš„äº§å“ä¸­70%çš„å®‰å…¨æ¼æ´ä¹Ÿæ˜¯å†…å­˜é—®é¢˜ï¼Œè§ï¼š&lt;a href=&#34;https://www.zdnet.com/article/microsoft-70-percent-of-all-security-bugs-are-memory-safety-issues/&#34;&gt;Microsoft: 70 percent of all security bugs are memory safety issues | ZDNet&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;Cç³»è¯­è¨€å‘å±•åˆ°ä»Šå¤©ï¼Œå·²ç»æœ‰ä¸å°‘å¯ä»¥ç”¨äºå†…å­˜é—®é¢˜æ£€æµ‹çš„åˆ©å™¨äº†ï¼Œå…¶ä¸­æœ€å¥½ç”¨çš„è«è¿‡äº&lt;a href=&#34;https://en.wikipedia.org/wiki/AddressSanitizer&#34;&gt;AddressSanitizer&lt;/a&gt;ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨ç¼–è¯‘æ—¶ç»™ç¨‹åºåŠ ä¸Šä¸€äº›ä¿¡æ¯ï¼Œä¸€æ—¦å‘ç”Ÿå†…å­˜è¶Šç•Œè®¿é—®ã€é‡æŒ‡é’ˆç­‰é”™è¯¯éƒ½ä¼šè‡ªåŠ¨æ£€æµ‹å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å³ä¾¿æœ‰è¿™äº›å·¥å…·ï¼Œå†…å­˜é—®é¢˜ä¹Ÿä¸å¥½è§£å†³ï¼Œå…¶æ ¸å¿ƒçš„åŸå› åœ¨äºï¼šè¿™äº›é—®é¢˜ç»å¤§éƒ¨åˆ†éƒ½æ˜¯è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰é—®é¢˜ï¼Œå³è¦åœ¨ç¨‹åºè·‘åˆ°ç‰¹å®šåœºæ™¯çš„æ—¶å€™æ‰ä¼šæš´éœ²å‡ºæ¥ï¼Œè¯¸å¦‚ä¸Šé¢æåˆ°çš„AddressSanitizerå°±æ˜¯è¿™æ ·ã€‚&lt;/p&gt;

&lt;p&gt;éƒ½çŸ¥é“è§£å†³é—®é¢˜çš„ç¬¬ä¸€æ­¥æ˜¯èƒ½å¤ç°é—®é¢˜ï¼Œè€Œå¦‚æœä¸€ä¸ªé—®é¢˜æ˜¯è¿è¡Œæ—¶é—®é¢˜ï¼Œè¿™å°±æ„å‘³ç€ï¼šå¤ç°é—®é¢˜å¯èƒ½ä¼šæ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œæœ‰æ—¶å€™è¿˜å¯èƒ½åˆ°ç”Ÿäº§ç¯å¢ƒå»å¤ç°ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥æˆ‘ä¹‹å‰ç»å†çš„ä¸€ä¸ªBugæ¥çœ‹è¿™ç±»å·¥ä½œçš„å¤æ‚åº¦ï¼Œè§&lt;a href=&#34;https://www.codedump.info/post/20190413-problem-fix/&#34;&gt;çº¿ä¸Šå­˜å‚¨æœåŠ¡å´©æºƒé—®é¢˜åˆ†æè®°å½• - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå…¸å‹çš„å‘ç”Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šç”±äºå†…å­˜é”™è¯¯å¯¼è‡´çš„å´©æºƒé—®é¢˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸å¥½å¤ç°ï¼Œå› ä¸ºè·Ÿç‰¹å®šçš„è¯·æ±‚ç›¸å…³ï¼Œè¿˜è·Ÿçº¿ç¨‹çš„è°ƒåº¦æœ‰å…³ï¼›&lt;/li&gt;
&lt;li&gt;æœ¬è´¨æ˜¯ç”±äºä½¿ç”¨äº†è¢«é‡Šæ”¾çš„å†…å­˜å¯¼è‡´çš„é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸ªçº¿ä¸Šé—®é¢˜ï¼Œè®°å¾—å½“æ—¶èŠ±äº†ä¸€å‘¨æ—¶é—´æ¥å¤ç°é—®é¢˜è§£å†³ã€‚&lt;/p&gt;

&lt;p&gt;æ¢è¨€ä¹‹ï¼Œå¦‚æœä¸€ä¸ªé—®é¢˜è¦ç­‰åˆ°è¿è¡Œæ—¶æ‰èƒ½å‘ç°ï¼Œé‚£ä¹ˆå¯ä»¥é¢„è§çš„æ˜¯ï¼šä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œè¦å¤ç°é—®é¢˜å¯èƒ½è¦èŠ±è´¹å¤§é‡çš„ç²¾åŠ›ï¼Œä»¥åŠéœ€è¦å¾ˆå¤šç»éªŒæ‰è¡Œã€‚å¦‚æœä¸€ä¸ªé—®é¢˜è¿˜æ˜¯åœ¨ç‰¹å®šåœºæ™¯ï¼Œæˆ–è€…ç”¨æˆ·ç°åœºæ‰å‡ºç°çš„ï¼Œé‚£å°±æ›´éº»çƒ¦äº†ï¼ŒCç³»ç¨‹åºå‘˜ä»¥å¾€ä¸€èˆ¬éƒ½æ˜¯è¿™æ ·æ¥ä¿å­˜â€œç°åœºâ€ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‡ºç°å´©æºƒçš„æ—¶å€™ä¿å­˜coreæ–‡ä»¶æ¥æŸ¥çœ‹è°ƒç”¨å †æ ˆã€å˜é‡ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å‘æ˜äº†å„ç§å¤åˆ¶æµé‡é‡æ”¾çš„å·¥å…·ï¼Œæ¯”å¦‚&lt;a href=&#34;https://github.com/session-replay-tools/tcpcopy&#34;&gt;tcpcopy&lt;/a&gt;ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ€»è€Œè¨€ä¹‹ï¼Œè¿è¡Œæ—¶é—®é¢˜ä¸€æ—¦å‡ºç°æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œè€Œè§£å†³è¿™ç±»é—®é¢˜çš„æ—¶é—´æ˜¯éš¾ä»¥é¢„æœŸçš„ã€‚&lt;/p&gt;

&lt;p&gt;Rustç»™è¿™ç±»å†…å­˜é—®é¢˜çš„è§£å†³æä¾›äº†å¦ä¸€ä¸ªè§£å†³æ€è·¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªå†…å­˜åœ°å€åŒæ—¶åªèƒ½è¢«ä¸€ä¸ªå˜é‡ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸èƒ½ä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼Œå‡¡æ˜¯å¯èƒ½å‡ºç°å†…å­˜é”™è¯¯çš„åœ°æ–¹ï¼Œéƒ½åœ¨è¯­è¨€çš„è¯­æ³•å±‚é¢ç»™äºˆç¦æ­¢ï¼Œæ¢æ¥çš„å°±æ˜¯æ›´å¤šçš„ç¼–è¯‘æ—¶é—´ï¼Œå› ä¸ºè¦åšè¿™ä¹ˆå¤šæ£€æŸ¥å˜›ï¼Œè€Œéœ€è¦æ›´å¤šçš„ç¼–è¯‘æ—¶é—´åè¿‡æ¥å°±éœ€è¦æ›´å¥½çš„ç¡¬ä»¶ã€‚æˆ‘æƒ³è¿™ä¹Ÿæ˜¯Ruståˆ°äº†æœ€è¿‘å‡ å¹´æ‰å¼€å§‹æ…¢æ…¢æµè¡Œå¼€æ¥çš„åŸå› ä¹‹ä¸€ï¼Œæ¯•ç«Ÿå³ä¾¿æ˜¯ç°åœ¨ï¼Œä¸€äº›å¤§å‹çš„Rusté¡¹ç›®æ™®é€šçš„æœºå™¨ç¼–è¯‘èµ·æ¥ä¹Ÿè¿˜æ˜¯å¾ˆè€—æ—¶ã€‚&lt;/p&gt;

&lt;p&gt;â€œç¼–è¯‘æ—¶é—´ï¼ˆcompile timeï¼‰â€æ˜¯ä¸€ä¸ªå¯ä»¥é¢„æœŸçš„å›ºå®šæ—¶é—´ï¼Œèƒ½é€šè¿‡å¢åŠ ç¡¬ä»¶æ€§èƒ½ï¼ˆæ¯”å¦‚ä¹°æ›´å¥½çš„æœºå™¨æ¥å†™Rustï¼‰æ¥è§£å†³ï¼›è€Œâ€œè¿è¡Œæ—¶é—®é¢˜â€ä¸€æ—¦å‡ºç°ï¼ŒæŸ¥æ‰¾èµ·æ¥çš„æ—¶é—´ã€ç²¾åŠ›ã€åœºæ™¯ï¼ˆæ¯”å¦‚å‡ºç°åœ¨ç”¨æˆ·ç°åœºã€å‡ ç™¾ä¸‡æ¬¡æ‰èƒ½é‡ç°ä¸€æ¬¡ç­‰ï¼‰ä¸ç¡®å®šæ€§å¯å°±å¾ˆé«˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¤è€…æƒè¡¡ï¼Œæˆ‘é€‰æ‹©è§£å†³â€œç¼–è¯‘æ—¶é—´â€é—®é¢˜ã€‚è€Œä¸”ï¼Œåœ¨æˆ‘æ„è¯†åˆ°æœ‰è¿™æ ·çš„å·¥å…·èƒ½å¤Ÿåœ¨ç¼–è¯‘æœŸè§£å†³å¤§éƒ¨åˆ†å†…å­˜é—®é¢˜æ—¶ï¼Œåè¿‡æ¥å†çœ‹ä½¿ç”¨Cç³»è¯­è¨€çš„é¡¹ç›®ï¼Œå‡ ä¹å¯ä»¥é¢„æœŸçš„æ˜¯ï¼šåªè¦ä»£ç å’Œå¤æ‚åº¦ä¸Šäº†ä¸€å®šè§„æ¨¡ï¼Œé‚£ä¹ˆè¿™ç±»é¡¹ç›®éƒ½è¦èŠ±ä¸Šç›¸å½“çš„ä¸€æ®µæ—¶é—´æ‰èƒ½ç¨³å®šä¸‹æ¥ã€‚åŸå› åœ¨äºï¼šç±»ä¼¼å†…å­˜é—®é¢˜è¿™æ ·çš„è¿è¡Œæ—¶é—®é¢˜ï¼Œæ˜¯éœ€è¦åœºæ™¯å»ç§¯ç´¯ï¼Œæ‰èƒ½æš´éœ²å‡ºæ¥çš„ï¼Œè€Œåœºæ™¯çš„ç§¯ç´¯ï¼Œå°±éœ€è¦å¾ˆå¤šçš„å°ç™½é¼ å’Œè¿è¡Œæ—¶é—´äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ç»“ä¸€ä¸‹æˆ‘çš„è§‚ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Cç³»è¯­è¨€æœ€å¤šçš„é—®é¢˜å°±æ˜¯å„ç±»å†…å­˜é—®é¢˜ï¼Œè€Œè¿™äº›é—®é¢˜å¤§å¤šæ˜¯è¿è¡Œæ—¶é—®é¢˜ã€‚å³ä¾¿ç°åœ¨å·²ç»æœ‰äº†å„ç§å·¥å…·ï¼Œè§£å†³å…¶è¿è¡Œæ—¶é—®é¢˜ä¹Ÿå¾ˆå›°éš¾ã€‚&lt;/li&gt;
&lt;li&gt;Rustè§£å†³è¿™ç±»é—®é¢˜çš„æ€è·¯ï¼Œæ˜¯åœ¨è¯­æ³•å±‚é¢ç¦æ­¢ä¸€åˆ‡å¯èƒ½å‡ºç°å†…å­˜é—®é¢˜çš„æ“ä½œï¼Œæ¢æ¥çš„ä»£ä»·å°±æ˜¯æ›´å¤šçš„ç¼–è¯‘æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;è§£å†³å¯é¢„æœŸçš„â€œç¼–è¯‘æ—¶é—´â€å’Œéš¾é¢„æœŸçš„â€œè¿è¡Œæ—¶é—®é¢˜â€ï¼Œæˆ‘é€‰æ‹©å‰è€…ã€‚äººç”Ÿè‹¦çŸ­ï¼Œæµªè´¹æ—¶é—´åœ¨è§£å†³è¿è¡Œæ—¶çš„å„ç§å†…å­˜é—®é¢˜å¤ªä¸å€¼å½“äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç•ªå¤–ç¯‡&#34;&gt;ç•ªå¤–ç¯‡&lt;/h1&gt;

&lt;h2 id=&#34;rr&#34;&gt;rr&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://rr-project.org/&#34;&gt;rr: lightweight recording &amp;amp; deterministic debugging&lt;/a&gt;ä¹Ÿæ˜¯å‡ºè‡ªMozillaçš„å¦ä¸€æ¬¾è°ƒè¯•Cç³»ç¨‹åºçš„åˆ©å™¨ï¼Œ&lt;code&gt;rr&lt;/code&gt;æ˜¯&lt;code&gt;Record and Replay&lt;/code&gt;çš„ç®€ç§°ï¼Œç›®çš„è¿˜æ˜¯ä¸ºäº†è§£å†³å„ç§è¿è¡Œæ—¶é—®é¢˜ï¼Œç”±äºè¿è¡Œæ—¶é—®é¢˜ä¸­å­˜åœ¨ç€å„ç§ä¸ç¡®å®šçš„å› ç´ ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å˜é‡å€¼ã€‚&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹ã€çº¿ç¨‹ç¯å¢ƒï¼Œæ¯”å¦‚ä¸åŒçš„çº¿ç¨‹è°ƒåº¦é¡ºåºå¯èƒ½å¯¼è‡´äº†ä¸åŒçš„ç»“æœã€‚&lt;/li&gt;
&lt;li&gt;è¾“å…¥ä¸åŒçš„æ•°æ®ï¼Œèƒ½å¾—åˆ°ä¸åŒçš„ç»“æœã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;äºæ˜¯ï¼Œ&lt;code&gt;rr&lt;/code&gt;è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼Œå°±æ˜¯è®©ä¸€ä¸ªç¨‹åºåœ¨è¿è¡Œæ—¶æœ‰ä¸€ä¸ªå›ºå®šçš„ç¯å¢ƒï¼Œå®ƒå¯ä»¥æŠ“å–ç¨‹åºè¿è¡Œçš„ç¯å¢ƒä¿å­˜ä¸‹æ¥ã€‚è¿™æ ·åœ¨å‡ºç°é—®é¢˜ä¹‹åï¼Œå°±èƒ½ä½¿ç”¨å®ƒå¯ä»¥è®°å½•ä¸‹æ¥ç¨‹åºè¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œä¸åœçš„é‡æ”¾æ¥è°ƒè¯•è§£å†³é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå³ä¾¿æ˜¯è¿™æ ·ï¼Œ&lt;code&gt;rr&lt;/code&gt;å¯èƒ½æ›´é€‚åˆäºæ˜ç¡®çŸ¥é“é—®é¢˜çš„æƒ…å†µä¸‹å»æŠ“å–ç¯å¢ƒï¼Œä¸å¯èƒ½åœ¨çº¿ä¸Šç›´æ¥æ‰“å¼€è¿™ä¸ªå·¥å…·ã€‚æ‰€ä»¥åˆå›åˆ°å‰é¢çš„ç»“è®ºäº†ï¼šè°ƒè¯•è¿è¡Œæ—¶é—®é¢˜å¯èƒ½é¢å¯¹çš„å›°éš¾ï¼ŒåŒ…æ‹¬åœºæ™¯ã€æ—¶é—´ã€ç”¨æˆ·ç°åœºç­‰ç­‰ä¸ç¡®å®šå› ç´ ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;rr&lt;/code&gt;å’Œ&lt;code&gt;Rust&lt;/code&gt;ä¸€æ ·ï¼Œéƒ½å‡ºè‡ªMozillaï¼Œæˆ‘æƒ³ä¸æ˜¯å¶ç„¶çš„ã€‚Mozillaå’Œchromeç­‰ä¸€æ ·ï¼Œéƒ½æ˜¯ä½¿ç”¨C++ç¼–ç çš„è¶…å¤§å‹é¡¹ç›®ï¼Œè€Œè¿™é‡Œä¸€å®šé‡åˆ°äº†å„ç§è¿è¡Œæ—¶é—®é¢˜ï¼Œä¸æ­¢äºå†…å­˜é—®é¢˜ï¼Œæ‰€ä»¥æ‰è¦ä½¿ç”¨å„ç§å·¥å…·æ¥è¾…åŠ©è§£å†³è¿™ç±»é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åƒä¸Šç¡¬ä»¶å‡çº§çš„çº¢åˆ©äº†å—&#34;&gt;åƒä¸Šç¡¬ä»¶å‡çº§çš„çº¢åˆ©äº†å—ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;å‰é¢æåˆ°è¿‡ï¼ŒRustç›®å‰è¾ƒå¤§çš„é—®é¢˜æ˜¯ç¼–è¯‘æ—¶é—´è¿‡é•¿ï¼Œè¿™å¯èƒ½æ˜¯å¯¼è‡´å®ƒæœ€è¿‘å‡ å¹´æ‰å¼€å§‹é€æ¸æµè¡Œå¼€æ¥çš„åŸå› ã€‚å…¶å®åè¿‡æ¥è¯´ï¼Œåœ¨ç¡¬ä»¶å‡çº§ä¹‹åï¼Œåº”è¯¥èƒ½å°½é‡åˆ©ç”¨ä¸Šç¡¬ä»¶ï¼Œåœ¨ç¼–è¯‘æœŸå°½é‡å¤šæ£€æŸ¥å‡ºé”™è¯¯æ¥ï¼Œå‡å°‘è¿è¡Œæ—¶å‘ç°é—®é¢˜çš„æ•°é‡ã€‚è¿™æ ·ï¼Œæ‰èƒ½åƒä¸Šç¡¬ä»¶å‡çº§çš„çº¢åˆ©ï¼Œåˆ©ç”¨ç¡¬ä»¶æ¥å‡å°‘è‡ªå·±çš„çŠ¯é”™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€æ–¹é¢ç¡¬ä»¶å‡çº§ç»™äº†ç¼–ç¨‹è¯­è¨€èƒ½æ–½å±•æ›´å¤§ã€æ›´å¿«çš„çš„â€œèˆå°â€ï¼Œéšç€èˆå°çš„æ›´æ–°ï¼Œå°±ä¼šæœ‰æ›´æ–°ã€æ›´å¥½çš„å·¥å…·å‡ºç°ï¼›å¦ä¸€æ–¹é¢åšä¸ºä»ä¸šè€…ï¼Œä¹Ÿåº”è¯¥ä¸æ—¶ä¿±è¿›ï¼Œå¤šå­¦ä¹ è·Ÿè¿›è¿™äº›å·¥å…·çš„æ¼”è¿›ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘çœ‹åˆ°æœ‰ä¸€äº›äººï¼Œå¼ºè°ƒè‡ªå·±å¤šæ—©å°±å·²ç»ç”¨Cè¯­è¨€å†™ä»£ç äº†ï¼Œä½†æ˜¯æŸ¥å†…å­˜é—®é¢˜è¿˜åœ¨ç”¨æ…¢çš„ä¸è¡Œçš„&lt;code&gt;Valgrind&lt;/code&gt;ï¼Œæ²¡å¬è¿‡æ›´ä¸çŸ¥é“æ€ä¹ˆç”¨&lt;code&gt;Address Sanitizer&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æƒ³è¯´å¦‚æœæŠ€èƒ½ç‚¹éƒ½å·²ç»ä¸æ›´æ–°äº†ï¼Œå¼ºè°ƒå¤šæ—©å­¦çš„æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿå¥½æ¯”1950å¹´å°±ä¼šæ‰“ç®—ç›˜ï¼Œæœ‰æ„ä¹‰å—ï¼Ÿå¼ºè°ƒå¤šæ—©å°±ç”¨Cè¯­è¨€ç±»ä¼¼çš„è¨€è®ºï¼Œåœ¨æˆ‘çœ‹æ¥å°±æ˜¯â€œå€šè€å–è€â€ï¼Œä½†æ˜¯æŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„é¢†åŸŸï¼Œå–è€çš„æ„ä¹‰ä¸å¤§ã€‚&lt;/p&gt;

&lt;h1 id=&#34;æ¨è&#34;&gt;æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;rust-for-rustaceans&#34;&gt;ã€ŠRust for Rustaceansã€‹&lt;/h2&gt;

&lt;p&gt;æ¨è&lt;a href=&#34;https://rust-for-rustaceans.com/&#34;&gt;Rust for Rustaceans&lt;/a&gt;ä½œè€…Jon Gjengsetçš„æ²¹ç®¡é¢‘é“ï¼š&lt;a href=&#34;https://www.youtube.com/c/JonGjengset/playlists&#34;&gt;https://www.youtube.com/c/JonGjengset/playlists&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ‰å¾ˆå¤šå¾ˆæœ‰æ·±åº¦çš„Ruståˆ†äº«ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=bzja9fQWzdA&amp;amp;list=PLqbS7AVVErFivDY3iKAQk3_VAm8SXwt1X&#34;&gt;Implementing TCP in Rust (part 1) - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=yQFWmGaFBjk&amp;amp;list=PLqbS7AVVErFj824-6QgnK_Za1187rNfnl&#34;&gt;Porting Java&amp;rsquo;s ConcurrentHashMap to Rust (part 1) - YouTube&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ä»‹ç»rustç¼˜èµ·çš„æ–‡ç« &#34;&gt;ä»‹ç»Rustç¼˜èµ·çš„æ–‡ç« &lt;/h2&gt;

&lt;p&gt;Infoqä¸Šçš„&lt;a href=&#34;https://www.infoq.cn/article/Uugi_eIJusEka1aSPmQM&#34;&gt;ã€Šæƒ³è¦æ”¹å˜ä¸–ç•Œçš„Rustè¯­è¨€ã€‹&lt;/a&gt;ï¼Œæ˜¯ä¸€ç¯‡ä»‹ç»äº†Rustè¯­è¨€çš„ç¼˜èµ·å’Œè®¾è®¡ç›®æ ‡å¥½æ–‡ç« ï¼Œå¯¹äºäº†è§£Rustçš„å†å²ã€è®¾è®¡å“²å­¦ç­‰éƒ½æœ‰å¸®åŠ©ã€‚å…¶ä¸­è°ˆåˆ°çš„Rustä¸‰å¤§è®¾è®¡å“²å­¦ä¸­ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å†…å­˜å®‰å…¨&lt;/li&gt;
&lt;li&gt;é›¶æˆæœ¬æŠ½è±¡&lt;/li&gt;
&lt;li&gt;å®ç”¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;å°±æŠŠâ€œå†…å­˜å®‰å…¨â€æ”¾åœ¨äº†ç¬¬ä¸€ä½ï¼Œå¯è§å°½é‡è§£å†³è¿è¡Œæ—¶çš„å†…å­˜é—®é¢˜éƒ½æ˜¯å¤§å®¶å¾ˆå…³å¿ƒçš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æŸ¥è¯¢rustæ–‡æ¡£çš„æµè§ˆå™¨æ’ä»¶&#34;&gt;æŸ¥è¯¢Rustæ–‡æ¡£çš„æµè§ˆå™¨æ’ä»¶&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://rust.extension.sh/&#34;&gt;Rust Search Extension - The ultimate search extension for Rust&lt;/a&gt;ï¼Œæ˜¯ä¸€ä¸ªæ–¹ä¾¿åœ¨æµè§ˆå™¨ä¸­å¿«é€ŸæŸ¥è¯¢Rustæ–‡æ¡£çš„æ’ä»¶ï¼Œæä¾›äº†å„ç§æµè§ˆå™¨çš„æ”¯æŒã€‚&lt;/p&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;ç¥é­&#34;&gt;ã€Šç¥é­ã€‹&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://movie.douban.com/subject/1464595/&#34;&gt;ç¥é­&lt;/a&gt;æ˜¯ä¸€éƒ¨ä¸Šä¸–çºª80å¹´ä»£çš„è€ç”µå½±ï¼Œå°è±¡é‡Œå°æ—¶å€™åœ¨éœ²å¤©ç”µå½±é™¢çœ‹è¿‡ï¼Œæ•…äº‹çš„æ¢—æ¦‚å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ•…äº‹å‘ç”Ÿåœ¨æ¸…æœæœ«å¹´ï¼Œä¸»è§’æ˜¯ä¸€ä¸ªä¼šä½¿è¾«å­ç¥åŠŸçš„äººï¼Œè€èµ·è¾«å­æ¥èƒ½åƒé­å­ä¸€æ ·æŠ½æ‰“å¯¹æ‰‹ã€‚åæ¥å…«å›½è”å†›å…¥ä¾µï¼ŒåŠ å…¥äº†ä¹‰å’Œå›¢ï¼Œç»“æœå¯æƒ³è€ŒçŸ¥ã€‚å†åæ¥é‡æ–°å‡ºç°åœ¨æ±Ÿæ¹–ä¸Šæ—¶ï¼Œä¸å†æ˜¯å½“å¹´é‚£ä¸ªä¼šè€è¾«å­çš„é«˜æ‰‹ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªç¥æªæ‰‹äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é‡Œé¢ä¸»è§’çš„æœ‰ä¸€å¥å°è¯â€œè¾«å­æ²¡äº†ï¼Œç¥è¿˜åœ¨â€ï¼Œè‡³ä»Šå°è±¡æ·±åˆ»ï¼Œæˆ‘å¯¹è¿™å¥è¯çš„è§£è¯»æ˜¯ï¼šä½¿ç”¨çš„å·¥å…·ï¼Œä¹Ÿåº”è¯¥ä¸æ—¶ä¿±è¿›çš„è¿›åŒ–ï¼Œè¿™ä¸ªè§‚ç‚¹æ”¾åœ¨ä»Šå¤©è¿™ç¯‡å¯¹æ¯”Cç³»å’ŒRustçš„æ–‡ç« é‡Œï¼Œæˆ‘è®¤ä¸ºæ˜¯åˆé€‚çš„ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬6æœŸï¼‰ï¼šã€Šsqlite 3.36 btreeå®ç°è§£æã€‹ç•ªå¤–ç¯‡</title>
      <link>https://www.codedump.info/post/20220220-weekly-6/</link>
      <pubDate>Sun, 20 Feb 2022 10:53:41 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220220-weekly-6/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šä»2021å¹´9æœˆä»½å¼€å§‹è¦æ¢ç´¢ç”Ÿäº§çº§btreeå­˜å‚¨å¼•æ“çš„å®ç°ï¼Œåˆ°2022å¹´2æœˆæ•´ç†å®Œæ¯•å‘å¸ƒã€Šsqlite 3.36 btreeå®ç°è§£æã€‹çš„ç³»åˆ—æ–‡ç« ï¼Œæˆ‘èŠ±è´¹äº†å°åŠå¹´çš„æ—¶é—´ï¼Œæœ¬æœŸä¼šèŠèŠæ•´ä¸ªè¿‡ç¨‹ä¸‹æ¥æˆ‘çš„ä¸€äº›æƒ³æ³•ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;sqlite-3-36-btreeå®ç°è§£æ-ç•ªå¤–ç¯‡&#34;&gt;ã€Šsqlite 3.36 btreeå®ç°è§£æã€‹ç•ªå¤–ç¯‡&lt;/h1&gt;

&lt;p&gt;æ—¶é—´å›åˆ°2021å¹´9æœˆä»½ã€‚å½¼æ—¶ï¼Œå› ä¸ºå·¥ä½œçš„å…³ç³»ï¼Œè¦ç ”ç©¶ä¸€ä¸‹ç”Ÿäº§çº§btreeå­˜å‚¨å¼•æ“çš„å®ç°ï¼Œåœ¨æ­¤ä¹‹å‰æˆ‘å¤§ä½“å¯¹btreeã€b+treeçš„æ•°æ®ç»“æ„å’Œç®—æ³•æœ‰ä¸ªäº†è§£ï¼Œè§ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200609-btree-1/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸Šï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200615-btree-2/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸‹ï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œä¸€ä¸ªç”Ÿäº§çº§çš„äº§å“ï¼Œå¯¹æ¯”æ•™ç§‘ä¹¦çš„ç¤ºèŒƒå‹ä»£ç ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ï¼Œå…·ä½“æ¥è¯´ï¼Œæˆ‘å½“æ—¶ä¸æ˜ç™½ä»¥ä¸‹è¿™äº›ç”Ÿäº§çº§å­˜å‚¨å¼•æ“çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚ä½•å­˜å‚¨å˜é•¿çš„æ•°æ®ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å­˜å‚¨æ•°æ®å¤§å°è¶…è¿‡ä¸€ä¸ªç‰©ç†é¡µé¢çš„æ•°æ®ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•åˆ©ç”¨è¢«å›æ”¶çš„ç©ºé—´ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å¤„ç†å´©æºƒæ¢å¤ï¼Ÿ&lt;/li&gt;
&lt;li&gt;è¯»å†™å¹¶å‘å¦‚ä½•å¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸ºäº†è§£ç­”è¿™äº›ç–‘é—®ï¼Œå…ˆåå»ç¿»é˜…InnodDBã€WiredTigerã€sqliteçš„æ–‡æ¡£ï¼Œä½†æ˜¯è¿™äº›é¡¹ç›®ä»£ç é‡éƒ½å¤ªå¤§äº†ï¼Œä»¥æˆ‘å½“æ—¶çš„ç¨‹åº¦ï¼Œæ— æ³•é©¬ä¸Šæ‰¾åˆ°å¾ˆå…·ä½“çš„è§£ç­”ã€‚&lt;/p&gt;

&lt;p&gt;äº‹æƒ…çš„çªç ´åœ¨ä»ç½‘ä¸ŠæŸ¥æ‰¾æ–‡ç« æ—¶çœ‹åˆ°çš„è¿™ä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&#34;https://dzone.com/articles/database-btree-indexing-in-sqlite&#34;&gt;How Database B-Tree Indexing Works - DZone Database&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸€ç¯‡è§£é‡Šbtreeå·¥ä½œåŸç†çš„æ–‡ç« ï¼Œè¿™ç¯‡æ–‡ç« åŒæ—¶è¿˜åˆ—å‡ºäº†ä¸€ä¸ªé¡¹ç›®ï¼š&lt;a href=&#34;https://github.com/madushadhanushka/simple-sqlite&#34;&gt;madushadhanushka/simple-sqlite: Code reading for sqlite backend&lt;/a&gt;ï¼Œè¿™ä¸ªé¡¹ç›®çš„ä½œè€…ï¼Œå°†sqlite2.5ç‰ˆæœ¬ä¸­btreeçš„å®ç°ï¼Œå•ç‹¬æŠ½å–å‡ºæ¥å½¢æˆäº†ä¸€ä¸ªç‹¬ç«‹çš„KVåº“ï¼Œå¯ä»¥ç¼–è¯‘é€šè¿‡ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘çš„æ„Ÿè§‰å°±æ˜¯å¦‚è·è‡³å®ï¼Œå› ä¸ºè™½ç„¶åªæœ‰å‡ åƒè¡Œçš„ä»£ç é‡ï¼Œä½†æ˜¯è§£ç­”äº†å¾ˆå¤šä¸Šé¢æåˆ°çš„ç–‘é—®ï¼Œâ€œéº»é›€è™½å°äº”è„ä¿±å…¨â€ï¼Œæˆ‘èŠ±äº†å‡ å¤©çš„æ—¶é—´æ•´ä½“é˜…è¯»äº†è§£äº†åŸç†ï¼Œè¿™ä¸ªé¡¹ç›®ç»™æˆ‘æ‰“å¼€äº†ç ”ç©¶ç”Ÿäº§çº§btreeå­˜å‚¨å¼•æ“çš„çªç ´å£ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä»¥åï¼Œè€ƒè™‘åˆ°2.5ç‰ˆæœ¬çš„sqliteå·²ç»æ˜¯2002å¹´çš„ä½œå“ï¼Œè·ç¦»ç°åœ¨æ—¶é—´å¤ªä¹…äº†ï¼Œè¿˜æƒ³æ¥ç€äº†è§£åé¢åšäº†é‚£äº›æ”¹è¿›ï¼Œåˆæ¥ç€é˜…è¯»äº†3.6.10ç‰ˆæœ¬çš„å®ç°ï¼Œæ‰¾è¿™ä¸ªç‰ˆæœ¬çš„åŸå› ï¼Œæ˜¯å› ä¸ºè¿™æ˜¯sqliteå®˜æ–¹åœ¨githubä¸ŠåŒæ­¥çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œé‚£æ—¶å€™ä»ç„¶æ­¥å­ä¸æ•¢è¿ˆå¾—å¤ªå¤§ã€‚&lt;/p&gt;

&lt;p&gt;åˆèŠ±äº†ä¸€ä¸ªå¤šæœˆæŠŠè¿™ä¸ªç‰ˆæœ¬çš„btreeå®ç°äº†è§£ä»¥åï¼Œæˆ‘äº†è§£åˆ°åœ¨è¿™ä¹‹åçš„ç‰ˆæœ¬é‡Œï¼Œsqliteåšäº†å¦ä¸€ä¸ªé‡å¤§çš„æ›´æ–°ï¼šåœ¨é¡µé¢ç®¡ç†éƒ¨åˆ†å¼•å…¥äº†WALæœºåˆ¶ï¼ŒåŠ ä¸Šå‰é¢ä¸¤ä¸ªç‰ˆæœ¬é˜…è¯»ä¸‹æ¥ç´¯ç§¯çš„ä¿¡å¿ƒï¼Œå°±æ¥ç€æ‰¾å½“æ—¶è¿˜æ˜¯æœ€æ–°çš„3.36ç‰ˆæœ¬çš„å®ç°æ¥é˜…è¯»ï¼Œè¿™åˆèŠ±äº†ä¸€ä¸ªå¤šæœˆçš„æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä»¥åï¼Œå°±æ˜¯é€æ­¥å°†æ•´ç†çš„ç¬”è®°å†™æˆæ–‡æ¡£äº†ï¼Œåç»­çš„äº‹æƒ…ä¸è¡¨ï¼Œéƒ½åœ¨è¿™å‡ ç¯‡æ–‡æ¡£é‡Œã€‚&lt;/p&gt;

&lt;p&gt;å›å¤´çœ‹è¿™æ•´ä¸ªæµç¨‹ï¼Œæˆ‘è‡ªå·±çš„æ„Ÿå—æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;â€œé—®é¢˜é©±åŠ¨â€å¯èƒ½æ˜¯æ•ˆç‡æ›´é«˜çš„å­¦ä¹ æ–¹å¼ï¼Œå¸¦ç€é—®é¢˜å‡ºå‘ã€æ‰¾åˆ°è‡ªå·±ç–‘é—®çš„ç­”æ¡ˆï¼Œèƒ½æ›´å¿«çš„å­¦ä¹ æŸä¸ªçŸ¥è¯†ã€‚&lt;/li&gt;
&lt;li&gt;ç”Ÿäº§çº§çš„å®ç°å’Œæ•™ç§‘ä¹¦çš„åŒºåˆ«å¾ˆå¤§ï¼Œåè€…æ›´å¤šçš„æ˜¯è®²è§£åŸç†ï¼Œè€Œç”Ÿäº§çº§å®ç°è€ƒè™‘æ›´å¤šçš„æ˜¯å„ç§å®é™…ç”Ÿäº§ä¸­çš„è¾¹é™…æƒ…å†µã€‚å¦‚æœåªäº†è§£åŸç†ï¼Œè€Œä¸å»å…·ä½“åšå®ç°ï¼Œå¯¹äº‹æƒ…çš„ç†è§£æœ€ååªèƒ½æµ®äºè¡¨é¢ã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°é‚£ä¸ªç²¾ç®€å®ç°æ˜¯è¿™ä¸ªè¿‡ç¨‹é‡Œçš„â€œçªç ´å£â€ï¼ŒåŸå› åœ¨äºï¼šå¦‚æœä¸€ä¸Šæ¥çœ‹çš„å¾ˆæˆç†Ÿçš„ç‰ˆæœ¬ï¼Œè€Œä¸”ä½ åœ¨è¿™ä¸ªé¢†åŸŸç§¯ç´¯çš„ä¸æ·±ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä¼šå¯¼è‡´ä¸¢å¤±äº†å¾ˆå¤šâ€œä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰â€æƒ…æ™¯ï¼Œç»™é˜…è¯»ã€ç†è§£å¸¦æ¥å¾ˆå¤§å›°éš¾ã€‚ä¸‹æ¬¡å†é‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œæˆ‘ä¼šæŒ‰ç…§è¿™æ¬¡çš„ç»éªŒï¼Œå…ˆå°è¯•å›é€€åˆ°ä¹‹å‰çš„æ›´ç®€å•çš„ç‰ˆæœ¬ï¼Œçœ‹çœ‹åœ¨é‚£é‡Œèƒ½ä¸èƒ½è·Ÿä¸Šä½œè€…çš„æ€è·¯ï¼Œæ”»å…‹ç®€å•çš„å®ç°ä¹‹åï¼Œå†å°è¯•æœ€æ–°çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;é™¤äº†æ•°æ®åº“é¢†åŸŸä»¥å¤–ï¼Œæœ‰ä¸€äº›åˆ«çš„é¢†åŸŸï¼Œåœ¨æ•™å­¦çš„æ—¶å€™ä¼šè®©å­¦ç”Ÿå‚ä¸å®ç°ä¸€ä¸ªç®€å•çš„é¡¹ç›®ã€‚è¿™ç±»å‹çš„é¡¹ç›®è™½ç„¶ç®€å•ï¼Œä½†æ˜¯äº”è„ä¿±å…¨ï¼Œèƒ½å¤Ÿè®©å­¦ç”Ÿäº†è§£è¿™ä¸ªé¢†åŸŸçš„æ¦‚è²Œï¼Œæˆ‘æŠŠè¿™ç§æµç¨‹ç§°ä¸ºâ€œç ´è§£ç¥ç§˜æ„Ÿâ€ã€‚å¦‚æˆ‘æœ€å¼€å§‹æåˆ°çš„é‚£äº›ç–‘é—®ï¼Œå¦‚æœåœ¨è¿™ä¹‹å‰åšè¿‡æ•°æ®åº“ç›¸å…³çš„ä½œä¸šï¼Œåº”è¯¥ä¼šæœ‰ä¸ªå¤§ä½“çš„æƒ³æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;è¿™ç¯‡ç•ªå¤–ç¯‡çš„ç•ªå¤–ç¯‡&#34;&gt;è¿™ç¯‡ç•ªå¤–ç¯‡çš„ç•ªå¤–ç¯‡&lt;/h1&gt;

&lt;h2 id=&#34;sqliteçš„æ³¨é‡Š&#34;&gt;sqliteçš„æ³¨é‡Š&lt;/h2&gt;

&lt;p&gt;é™¤äº†è¿™äº›ä»¥å¤–ï¼Œsqliteçš„ä»£ç é£æ ¼ä¹Ÿå¾ˆå¥½ï¼Œå°¤å…¶æ˜¯æ³¨é‡Šå†™çš„éå¸¸è¯¦å°½ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰ä¸€ç§è¯´æ³•ï¼Œâ€œå¥½çš„ä»£ç éƒ½æ˜¯è‡ªè§£é‡Šçš„ï¼Œæ— éœ€å¤šåšæ³¨é‡Šâ€ã€‚æˆ‘å¯¹è¿™å¥è¯æœ‰ä¸€äº›ä¸å¤ªä¸€æ ·çš„çœ‹æ³•ï¼Œå› ä¸ºå³ä¾¿å†å¥½çš„ä»£ç ï¼Œå¦‚æœåªçœ‹ä»£ç çš„è¯ï¼Œå¯¹æ•´ä¸ªçš„æ¶æ„ã€ç»“æ„å¾ˆéš¾äº†è§£ã€‚è¿™ä¸€ç‚¹sqliteå°±åšçš„å¾ˆå¥½ï¼Œåœ¨ä»£ç ä¸­ä¼šå†™ä¸Šç±»ä¼¼æ–‡æ¡£ä¸€æ ·çš„æ³¨é‡Šæ¥è§£é‡Šç»“æ„ï¼Œæ¯”å¦‚æœ‰è¿™ä¹ˆä¸€æ®µè§£é‡Šbtreeå†…éƒ¨ç»“æ„çš„æ³¨é‡Šæ–‡æ¡£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/
** This file implements an external (disk-based) database using BTrees.
** For a detailed discussion of BTrees, refer to
**
**     Donald E. Knuth, THE ART OF COMPUTER PROGRAMMING, Volume 3:
**     &amp;quot;Sorting And Searching&amp;quot;, pages 473-480. Addison-Wesley
**     Publishing Company, Reading, Massachusetts.
**
** The basic idea is that each page of the file contains N database
** entries and N+1 pointers to subpages.
**
**   ----------------------------------------------------------------
**   |  Ptr(0) | Key(0) | Ptr(1) | Key(1) | ... | Key(N-1) | Ptr(N) |
**   ----------------------------------------------------------------
**
** All of the keys on the page that Ptr(0) points to have values less
** than Key(0).  All of the keys on page Ptr(1) and its subpages have
** values greater than Key(0) and less than Key(1).  All of the keys
** on Ptr(N) and its subpages have values greater than Key(N-1).  And
** so forth.
*/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚æœä¸å†™è¿™äº›æ³¨é‡Šï¼Œè¯»è€…æƒ³è¦ç†è§£ä½œè€…çš„æ€è·¯çš„è¯ï¼Œä»…å‡­ä»£ç æ˜¯å¾ˆå›°éš¾çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œåªæ˜¯æŠ½å–äº†sqliteä»£ç æ³¨é‡Šä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œæˆ‘è¯»ä»£ç ä¸‹æ¥çš„æ„Ÿè§‰ï¼Œsqliteçš„æ³¨é‡Šå¯ä»¥è¯´æ˜¯â€œä¿å§†çº§åˆ«â€çš„ã€‚â€œå†™ä»£ç æ˜¯è¡¨è¾¾è‡ªå·±ï¼Œè¯»ä»£ç æ˜¯å»ç†è§£åˆ«äººâ€ï¼ˆè§&lt;a href=&#34;https://www.zhihu.com/question/21820752/answer/19427754&#34;&gt;ä¸ºä»€ä¹ˆè¯´è¯»ä»£ç æ¯”å†™ä»£ç éš¾ï¼Ÿ - çŸ¥ä¹&lt;/a&gt;ï¼‰ï¼Œå¯ä»¥è¯´sqliteçš„ä½œè€…ä¸ºäº†è®©åˆ«äººæ›´å¥½çš„ç†è§£è‡ªå·±ï¼Œå°½åŠ›äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹åº”çš„ï¼Œæˆ‘ä¹Ÿçœ‹è¿‡é‚£ç§å‡ ä¹æ²¡æœ‰æ³¨é‡Šã€å˜é‡å‡½æ•°åéƒ½æ˜¯ç¼©å†™çš„ä»£ç ï¼Œè¿™æ ·çš„ä»£ç ä½œè€…ï¼Œå¯èƒ½å°±ä¸æ˜¯å¾ˆåƒè®©åˆ«äººè¯»æ‡‚taã€‚&lt;/p&gt;

&lt;h2 id=&#34;sqliteå‡ ä¸ªç›¸å…³çš„é“¾æ¥&#34;&gt;sqliteå‡ ä¸ªç›¸å…³çš„é“¾æ¥&lt;/h2&gt;

&lt;p&gt;å¯ä»¥åœ¨è¿™é‡Œï¼ˆ&lt;a href=&#34;https://sqlite.org/chronology.html&#34;&gt;History Of SQLite Releases&lt;/a&gt;ï¼‰æ‰¾åˆ°sqliteçš„releaseå†å²ï¼Œè¿›è€Œä¸‹è½½åˆ°å¯¹åº”ç‰ˆæœ¬çš„ä»£ç ã€‚ä»¥2.5ç‰ˆæœ¬ä¸ºä¾‹ï¼Œå‘å¸ƒäº&lt;a href=&#34;https://www.sqlite.org/src/timeline?c=9baef3e240&amp;amp;y=ci&#34;&gt;2002-06-17&lt;/a&gt;è¿™ä¸€å¤©ï¼Œæˆ‘ç”¨ä»£ç ç»Ÿè®¡å·¥å…·ç»Ÿè®¡äº†ä¸€ä¸‹ï¼Œä»£ç é‡ä»…æœ‰31188è¡Œï¼ˆåŒ…æ‹¬æ³¨é‡Šï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220220-weekly-6/2.5.png&#34; alt=&#34;sqlite2.5çš„ä»£ç ç»Ÿè®¡&#34; title=&#34;sqlite2.5çš„ä»£ç ç»Ÿè®¡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;BTWï¼šä¸çŸ¥é“sqlite 2.5ç‰ˆæœ¬ï¼Œå¯¹æ¯”ä¸€äº›æ•°æ®åº“å®éªŒè¯¾ç¨‹çš„å¤§ä½œä¸šï¼Œå¤æ‚åº¦å¦‚ä½•ï¼Œæ„Ÿè§‰ä»¥æ—©æœŸsqliteä»£ç æ¥å…¥é—¨æ•°æ®åº“å­¦ä¹ ä¹Ÿæ˜¯è¶³å¤Ÿçš„ï¼Œå‰ææ˜¯æœ‰è¶³å¤Ÿçš„è€å¿ƒå’Œæ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;è€Œ3.36ç‰ˆæœ¬å‘å¸ƒäº&lt;a href=&#34;https://www.sqlite.org/src/timeline?c=5c9a6c0687&amp;amp;y=ci&#34;&gt;2021-06-18&lt;/a&gt;è¿™ä¸€å¤©ï¼Œä»£ç é‡å·²ç»åˆ°äº†21Wè¡Œï¼Œå‰åç›¸éš”19å¹´ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220220-weekly-6/3.36.png&#34; alt=&#34;sqlite3.36çš„ä»£ç ç»Ÿè®¡&#34; title=&#34;sqlite3.36çš„ä»£ç ç»Ÿè®¡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;è¿˜å¯ä»¥åœ¨&lt;a href=&#34;https://www.sqlite.org/changes.html&#34;&gt;Release History Of SQLite&lt;/a&gt;çœ‹åˆ°ä¸åŒç‰ˆæœ¬æ–°å¢çš„ç‰¹æ€§ã€bug fixç­‰ï¼Œæ¯”å¦‚å¯ä»¥çœ‹åˆ°WALæ˜¯åœ¨3.7.0ç‰ˆæœ¬å¼•å…¥çš„ç‰¹æ€§ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2010-07-21 (3.7.0)&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Added support for write-ahead logging.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;sqliteçš„ç®´è¨€&#34;&gt;sqliteçš„ç®´è¨€&lt;/h2&gt;

&lt;p&gt;åœ¨æ¯ä¸ªsqliteä»£ç æ–‡ä»¶ä¸­ï¼Œå¼€å¤´éƒ½æœ‰è¿™ä¹ˆä¸€æ®µæ³¨é‡Šï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;**    May you do good and not evil.
**    May you find forgiveness for yourself and forgive others.
**    May you share freely, never taking more than you give.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;ç ´è§£ç¥ç§˜æ„Ÿçš„é¡¹ç›®&#34;&gt;ç ´è§£ç¥ç§˜æ„Ÿçš„é¡¹ç›®&lt;/h2&gt;

&lt;p&gt;å‰é¢æåˆ°è¿‡è¦ç ´è§£ç¥ç§˜æ„Ÿï¼Œåˆ—ä¸¾å‡ ä¸ªè®¡ç®—æœºç›¸å…³è¯¾ç¨‹çš„å®éªŒå¤§ä½œä¸šæˆ–é¡¹ç›®ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ“ä½œç³»ç»Ÿ&#34;&gt;æ“ä½œç³»ç»Ÿ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å“ˆä½›å¤§å­¦çš„Xv6ï¼š&lt;a href=&#34;https://pdos.csail.mit.edu/6.828/2012/xv6.html&#34;&gt;Xv6, a simple Unix-like teaching operating system&lt;/a&gt;ï¼Œ å¯¹åº”çš„è¯¾ç¨‹ï¼š&lt;a href=&#34;https://pdos.csail.mit.edu/6.828/2021/&#34;&gt;6.S081 / Fall 2021&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ¸…åçš„uCoreï¼š&lt;a href=&#34;https://github.com/kiukotsu/ucore&#34;&gt;kiukotsu/ucore: æ¸…åå¤§å­¦æ“ä½œç³»ç»Ÿè¯¾ç¨‹å®éªŒ (OS Kernel Labs)&lt;/a&gt;ï¼Œå®éªŒæŒ‡å¯¼ä¹¦ï¼š&lt;a href=&#34;https://chyyuu.gitbooks.io/ucore_os_docs/content/&#34;&gt;Introduction Â· ucore_os_docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æ•°æ®åº“&#34;&gt;æ•°æ®åº“&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;CMUçš„15445ï¼š&lt;a href=&#34;https://15445.courses.cs.cmu.edu/fall2021/&#34;&gt;CMU 15-&lt;sup&gt;445&lt;/sup&gt;&amp;frasl;&lt;sub&gt;645&lt;/sub&gt; :: Intro to Database Systems (Fall 2021)&lt;/a&gt;ï¼Œéšè¯¾ç¨‹è¦å®Œæˆä¸€ä¸ªå¤§ä½œä¸šé¡¹ç›®ï¼Œä¹‹å‰æ²¡æœ‰åšè¿‡ï¼Œå¦åˆ™åº”è¯¥ä¸è‡³äºä¸äº†è§£ç”Ÿäº§çº§å®ç°çš„åŸç†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;åˆ†å¸ƒå¼ç³»ç»Ÿ&#34;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;MITçš„6.824ï¼š&lt;a href=&#34;https://pdos.csail.mit.edu/6.824/schedule.html&#34;&gt;6.824 Schedule: Spring 2022&lt;/a&gt;ï¼Œä¹Ÿæ˜¯æœ‰éšè¯¾ç¨‹è¦å®Œæˆçš„å¤§ä½œä¸šï¼Œä»¥å‰ä½¿ç”¨C++å®ç°Paxosï¼Œåé¢æ”¹æˆäº†Goå®ç°Raftã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;linuxæ—©æœŸå†…æ ¸å®ç°è§£æ&#34;&gt;Linuxæ—©æœŸå†…æ ¸å®ç°è§£æ&lt;/h3&gt;

&lt;p&gt;è®¸å¤šå¹´ä»¥å‰ï¼Œèµµç‚¯åšå£«åœ¨ç½‘ä¸Šå…¬å¼€è¿‡ä¸€ä»½æ–‡æ¡£ï¼ŒåŸºæœ¬ä¸Š&lt;strong&gt;é€è¡Œ&lt;/strong&gt;è®²è§£äº†Linux0.11ç‰ˆæœ¬å†…æ ¸çš„å®ç°ï¼Œé‚£æ—¶å€™çš„å®˜ç½‘oldlinux.org ç°åœ¨å¥½åƒå·²ç»ä¸èƒ½è®¿é—®ï¼Œåœ¨å®˜ç½‘çš„é¡µé¢&lt;a href=&#34;http://www.oldlinux.org/book.html&#34;&gt;Early Linux Kernel Analisys and Comments&lt;/a&gt;ä¹Ÿæä¾›äº†è¿™ä»½æ–‡æ¡£ç”µå­ç‰ˆçš„ä¸‹è½½é“¾æ¥ï¼š&lt;a href=&#34;http://www.oldlinux.org/download/clk011c-1.9.5.pdfï¼Œä¹Ÿæœ‰å¯¹åº”çš„å…¬å¼€å‘è¡Œç‰©ï¼š[Linuxå†…æ ¸å®Œå…¨å‰–æ&#34;&gt;http://www.oldlinux.org/download/clk011c-1.9.5.pdfï¼Œä¹Ÿæœ‰å¯¹åº”çš„å…¬å¼€å‘è¡Œç‰©ï¼š[Linuxå†…æ ¸å®Œå…¨å‰–æ&lt;/a&gt; (è±†ç“£)](&lt;a href=&#34;https://book.douban.com/subject/3229243/)ã€‚&#34;&gt;https://book.douban.com/subject/3229243/)ã€‚&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬5æœŸï¼‰ï¼šä»å­˜å‚¨æ¨¡å‹èŠä¸€èŠæ—¶åºæ•°æ®åº“çš„åº”ç”¨åœºæ™¯</title>
      <link>https://www.codedump.info/post/20220211-weekly-5/</link>
      <pubDate>Fri, 11 Feb 2022 22:27:57 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220211-weekly-5/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šæœ¬æœŸä»‹ç»æ—¶åºæ•°æ®åº“çš„å­˜å‚¨æ¨¡å‹ï¼Œåªæœ‰ç†è§£äº†æ—¶åºæ•°æ®çš„å­˜å‚¨æ¨¡å‹ï¼Œæ‰èƒ½æ›´å¥½çš„äº†è§£æ—¶åºæ•°æ®åº“çš„ä¼˜ç¼ºç‚¹ä»¥åŠå…¶é€‚ç”¨åœºæ™¯ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;ä»å­˜å‚¨æ¨¡å‹èŠä¸€èŠæ—¶åºæ•°æ®åº“çš„åº”ç”¨åœºæ™¯&#34;&gt;ä»å­˜å‚¨æ¨¡å‹èŠä¸€èŠæ—¶åºæ•°æ®åº“çš„åº”ç”¨åœºæ™¯&lt;/h1&gt;

&lt;p&gt;æƒ³å†™æœ¬æ–‡ï¼Œæ˜¯å› ä¸ºçœ‹åˆ°äº†çŸ¥ä¹ä¸Šçš„ä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&#34;https://zhuanlan.zhihu.com/p/453556881&#34;&gt;æŠ•èµ„æ•°æ®åº“é¢†åŸŸï¼š2021å¹´æ€»ç»“ï¼ˆNoSQLã€å›¾ã€æ—¶åºï¼‰ - çŸ¥ä¹&lt;/a&gt;ï¼Œé‡Œé¢è°ˆåˆ°äº†æ—¶åºæ•°æ®åº“ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä½†ç¼ºé™·æ˜¯å®é™…çš„å¸‚åœºç©ºé—´è¾ƒå°ã€‚è·Ÿé€šç”¨å‹æ•°æ®åº“ï¼Œå°¤å…¶æ˜¯OLAPæ•°æ®åº“ç›¸æ¯”ï¼Œæ—¶åºæ•°æ®åº“æœ€å¤§çš„å·®å¼‚ç‚¹åœ¨äºå¯¹äºæ—¶é—´ç»´åº¦å»ºç«‹äº†ç‹¬ç‰¹çš„ç´¢å¼•ä¸ä¼˜åŒ–ï¼Œè€Œå…¶ä»–æ‰€è°“schemalessç­‰ç‰¹æ€§åœ¨OLAPæ•°æ®åº“ä¸Šéƒ½èƒ½åšåˆ°ï¼Œä¸å­˜åœ¨æŠ€æœ¯éšœç¢ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå…¶å®åœ¨å…¬å¸åšæ—¶åºåœºæ™¯çš„æ•°æ®åº“é€‰å‹çš„æ—¶å€™ä¼šç›´æ¥å°†æ—¶åºæ•°æ®åº“ä¸ä¸€äº›OLAPæ•°æ®åº“ï¼ˆæ¯”å¦‚ClickHouseï¼‰åšæ¯”è¾ƒã€‚å¦‚æœè¦æŠŠæ—¶åºæ•°æ®åº“å¾€æ›´å®½çš„åœºæ™¯å‘å±•ï¼Œé‚£å°±æ˜¯æƒ³å¥½å¦‚ä½•ä¸é‚£ä¹ˆå¤šçš„é€šç”¨å‹æ•°æ®åº“åšç«äº‰äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç”±äºä¹‹å‰æœ‰è¿‡çŸ­æš‚ä¸€æ®µæ—¶é—´çš„æ—¶åºæ•°æ®åº“ä»ä¸šç»å†ï¼Œæ‰€ä»¥æƒ³ä»æˆ‘çš„ç†è§£èŠèŠæ—¶åºæ•°æ®åº“çš„åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;

&lt;p&gt;è¦äº†è§£åº”ç”¨åœºæ™¯ï¼Œéœ€è¦é¦–å…ˆå¯¹æ—¶åºæ•°æ®åº“çš„å­˜å‚¨æ¨¡å‹æœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œåœ¨ä¸‹æ–‡ä¸­æˆ‘å°½é‡ä¸æ¶‰åŠåˆ°å¤ªè‰°æ·±çš„æŠ€æœ¯æœ¯è¯­æ¥æè¿°æˆ‘çš„ç†è§£ã€‚ç”±äºæˆ‘ä»ä¸šæ—¶åºæ•°æ®åº“çš„æ—¶é—´å¹¶ä¸é•¿ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ç†è§£ä¼šæœ‰åå·®ã€‚&lt;/p&gt;

&lt;p&gt;ä½•è°“â€œæ—¶åºæ•°æ®ï¼ˆtime-series dataï¼‰â€ï¼Ÿå°±æˆ‘ä¸ªäººç²—æµ…çš„ç†è§£ï¼Œå°±æ˜¯ä»»ä½•ä¸€å®šä¼šå¸¦ä¸Šæ—¶é—´æˆ³ï¼ˆtimestampï¼‰ç»´åº¦çš„æ•°æ®ã€‚æ—¥å¸¸ç”Ÿæ´»é‡Œï¼Œåœ¨å¾®åšã€å¾®ä¿¡ç­‰ç¤¾äº¤åª’ä½“çš„å‘ç°å°±å¯ä»¥ç†è§£æ—¶åºæ•°æ®ï¼Œå› ä¸ºå®ƒä»¬è‚¯å®šéƒ½æœ‰ä¸€ä¸ªå‘è¨€æ—¶é—´ï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šæŠŠä¸ªäººçœ‹åˆ°çš„å¾®åšç­‰ç§°ä¸ºâ€œæ—¶é—´çº¿ï¼ˆtimelineï¼‰â€ã€‚å¯¹åº”åˆ°å·¥ä¸šé¢†åŸŸï¼Œæ¯”å¦‚ä¸€ä¸ªç”µè¡¨æ¯å°æ—¶ä¸ŠæŠ¥çš„ç”¨ç”µé‡ä¹Ÿæ˜¯æ—¶åºæ•°æ®ï¼Œæ¯”å¦‚æœåŠ¡å™¨ç›‘æ§æ—¶æ¯éš”15åˆ†é’Ÿé‡‡é›†çš„æ€§èƒ½æ•°æ®ä¹Ÿæ˜¯æ—¶åºæ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºæ—¶åºæ•°æ®å¤©ç„¶æœ‰â€œæ—¶é—´â€œè¿™ä¸ªç»´åº¦ï¼Œä¸ºäº†æ›´å¥½çš„ä¼˜åŒ–å…¶å†™å…¥æ€§èƒ½ï¼Œé€šå¸¸ä¸“é—¨å­˜å‚¨æ—¶åºæ•°æ®çš„å­˜å‚¨å¼•æ“ä¼šæŒ‰ç…§æ—¶é—´åˆ†å—ã€æŒ‰åˆ—æ¥å­˜å‚¨æ•°æ®ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220211-weekly-5/time-series-model.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œæ¼”ç¤ºç”¨çš„æ•°æ®æ ¼å¼æœ‰ä¸‰åˆ—ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ—¶é—´æˆ³ã€‚&lt;/li&gt;
&lt;li&gt;AæŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;BæŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é€šå¸¸ï¼Œæ—¶åºæ•°æ®åº“å­˜å‚¨æ—¶ï¼Œä¼šæŒ‰ç…§æ—¶é—´æ¥åˆ’åˆ†å—ï¼ˆblockï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å—çš„å¤§å°å›ºå®šã€‚&lt;/li&gt;
&lt;li&gt;åœ¨åŒä¸€ä¸ªå—æ—¶é—´åŒºçš„æ•°æ®ï¼Œä¼šå­˜å‚¨åˆ°åŒä¸€ä¸ªå—ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;è€Œå—å†…éƒ¨ï¼Œå°†é™¤äº†æ—¶é—´ç»´åº¦ä¹‹å¤–çš„å…¶ä»–çš„åˆ—ï¼Œå°†å…¶ä¸­ç›¸åŒåˆ—çš„æ•°æ®å­˜å‚¨åœ¨ä¸€èµ·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç”±äºæ—¶åºæ•°æ®çš„ç‰¹ç‚¹ï¼Œå†™å…¥çš„æ•°æ®ä¹Ÿæ˜¯åœ¨æ—¶é—´ä¸Šè¿ç»­çš„ï¼Œå› æ­¤é€šå¸¸å†™å…¥çš„æ—¶å€™æŒ‰ç…§ä¸Šé¢çš„è®¾è®¡å°±èƒ½è½åœ¨åŒä¸€ä¸ªå—ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä¸åŒè¡Œä½†æ˜¯åŒä¸€åˆ—çš„æ•°æ®ï¼Œéƒ½æ˜¯ç›¸åŒç±»å‹çš„ï¼Œå°†ç›¸åŒç±»å‹çš„æ•°æ®ç´§é‚»æ”¾åœ¨ä¸€èµ·ï¼Œæ›´å®¹æ˜“è¿›è¡Œå‹ç¼©ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¢è¨€ä¹‹ï¼Œè¿™æ ·åšæ¢æ¥çš„å¥½å¤„æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨æ—¶åºæ•°æ®çš„å†™å…¥åœºæ™¯ä¸‹ï¼Œå†™å…¥é€Ÿåº¦å¾ˆå¿«ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºåŒç±»å‹æ•°æ®æ”¾åœ¨ä¸€èµ·ï¼Œå‹ç¼©æ€§èƒ½ä¹Ÿå¾ˆå¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™äº›éƒ½æ˜¯ç›¸å¯¹äºä¼ ç»ŸBTreeç±»å­˜å‚¨å¼•æ“è€Œè¨€çš„ï¼Œå› ä¸ºè¿™ç±»å‹çš„æ•°æ®å†™å…¥æ›´åƒappendæ“ä½œï¼Œè¿™æ˜¯å¿…ç„¶ä¼šæ›´å¿«çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯æ³¨æ„åˆ°æ²¡æœ‰ï¼Œè¿™æ ·å­˜å‚¨æ•°æ®ä¹‹åï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯ï¼šæŸ¥è¯¢æ—¶åªæœ‰æ—¶é—´è¿™ä¸ªç»´åº¦åšäº†ç´¢å¼•ï¼Œè€Œé™¤å»æ—¶é—´ç»´åº¦ä¹‹å¤–çš„å…¶ä»–åˆ—éƒ½æ²¡æœ‰åšç´¢å¼•ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä»»ä½•æŸ¥è¯¢éƒ½è¦å¸¦ä¸Šæ—¶é—´å‚æ•°æ‰èƒ½ç®¡ç”¨ã€‚æ¯”å¦‚ï¼šâ€œè¯·æŸ¥è¯¢è¿‡å»ä¸€ä¸ªå°æ—¶é‡Œå“ªäº”åˆ†é’Ÿçš„CPUæœ€é«˜â€è¿™æ ·çš„æŸ¥è¯¢æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ›´å¤šå…¶ä»–çš„æŸ¥è¯¢æ˜¯ä¸çŸ¥é“æ—¶é—´ç»´åº¦ï¼Œæˆ–è€…è¯´æŸ¥è¯¢è€…å°±æ˜¯ä¸çŸ¥é“å…·ä½“æ—¶é—´æ‰æƒ³æ¥æŸ¥è¯¢çš„ï¼Œæ¯”å¦‚â€œæˆ‘æ˜¯ä»€ä¹ˆæ—¶å€™è¾¾æˆäº†ç´¯è®¡è·‘æ­¥100å…¬é‡Œæˆå°±çš„ï¼Ÿâ€è¿™ç±»æ¢ç´¢å‹ã€ä¸”æ²¡æœ‰æ—¶é—´ç»´åº¦çš„æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;å³ä¾¿æ˜¯å¸¦ä¸Šäº†æ—¶é—´ç»´åº¦çš„æŸ¥è¯¢å¯è¡Œï¼Œç”±äºæ²¡æœ‰å¯¹å…¶ä»–ç»´åº¦åšç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢æ—¶çš„å¤„ç†ï¼Œæ›´å¤šçš„æ˜¯æŒ‰ç…§æ—¶é—´ç»´åº¦æŸ¥è¯¢å‡ºæ•°æ®ã€å†è¿›è¡Œèšåˆè®¡ç®—ï¼Œæ¯”å¦‚ä¸Šé¢çš„â€œè¯·æŸ¥è¯¢è¿‡å»ä¸€ä¸ªå°æ—¶é‡Œå“ªäº”åˆ†é’Ÿçš„CPUæœ€é«˜â€è¿™ä¸ªæŸ¥è¯¢ï¼Œåªèƒ½å…ˆæŠŠè¿‡å»ä¸€å°æ—¶çš„CPUæ•°æ®å…¨éƒ¨æŸ¥å‡ºæ¥ï¼Œç„¶åé€ä¸ªè®¡ç®—æ‰èƒ½ç®—å‡ºå“ª5åˆ†é’Ÿçš„CPUæœ€é«˜äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ€»ç»“ä¸‹æ¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ—¶åºæ•°æ®åº“æ ¹æ®æ—¶åºæ•°æ®çš„ç‰¹ç‚¹è®¾è®¡å’Œä¼˜åŒ–äº†æ—¶åºæ•°æ®åº“çš„å­˜å‚¨æ¨¡å‹ï¼Œå¯¹æ¯”ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“å­˜å‚¨æ¨¡å‹æ¥è¯´ï¼Œä¼˜åŠ¿æ˜¯å†™å…¥é€Ÿåº¦å¿«ã€å‹ç¼©æ¯”é«˜ã€‚&lt;/li&gt;
&lt;li&gt;ä½†è¿™æ ·çš„å­˜å‚¨åªæœ‰æ—¶é—´è¿™ä¸ªç»´åº¦ï¼Œæ¢è¨€ä¹‹ç”±äºæ²¡æœ‰å…¶ä»–ç»´åº¦çš„ç´¢å¼•æ•°æ®ï¼Œå¯¼è‡´å¯¹ä¸å¸¦æœ‰æ—¶é—´ç»´åº¦æˆ–è€…æ—¶é—´è·¨åº¦å¤§çš„æŸ¥è¯¢æ”¯æŒçš„ä¸å¤Ÿå‹å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å›åˆ°æœ€å¼€å§‹å¼•ç”¨çš„æ–‡ç« ï¼Œäº†è§£äº†æ—¶åºæ•°æ®åº“çš„å­˜å‚¨ç‰¹ç‚¹ï¼Œä¹Ÿå°±èƒ½è§£é‡Šä¸ºä½•ä½œè€…è®¤ä¸ºçº¯ç²¹çš„æ—¶åºæ•°æ®åº“åœºæ™¯ä¸å¤§äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¥½åƒå¤§éƒ¨åˆ†æ—¶å€™ï¼Œäº‹æƒ…ä¹Ÿæ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªç»´åº¦ä¼˜åŒ–åˆ°æè‡´ï¼Œå¯èƒ½å…¶ä»–ç»´åº¦å°±åšçš„ä¸å¤Ÿå¥½ï¼Œä¸å­˜åœ¨å„ä¸ªç»´åº¦éƒ½èƒ½åšå¾—å¾ˆå¥½çš„äº§å“ï¼Œå› ä¸ºä¸åŒç»´åº¦ä¹‹é—´ä¹Ÿä¼šå½¼æ­¤æœ‰åˆ¶çº¦ï¼Œæ›´å¤šæ—¶å€™è¦çœ‹ä½¿ç”¨è€…è‡ªå·±çš„åœºæ™¯å–èˆï¼Œå¹¶ä¸å­˜åœ¨é€‚ç”¨äºä¸€åˆ‡åœºæ™¯çš„äº§å“ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€è°“â€ä¼˜åŠ¿â€œï¼Œåœ¨æ¢äº†ä¸Šä¸‹æ–‡å’Œåœºæ™¯ä¹‹åï¼Œä¹Ÿå¯èƒ½ä¼šå˜æˆåŠ£åŠ¿ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç›¸å…³æ¨è&#34;&gt;ç›¸å…³æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;writing-a-time-series-database-from-scratch-fabian-reinartz-https-fabxc-org-tsdb&#34;&gt;&lt;a href=&#34;https://fabxc.org/tsdb/&#34;&gt;Writing a Time Series Database from Scratch | Fabian Reinartz&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://prometheus.io/&#34;&gt;Prometheus&lt;/a&gt;é¡¹ç›®çš„æ ¸å¿ƒå¼€å‘è€…å†™çš„æ–‡ç« ï¼Œä»‹ç»äº†å¦‚ä½•ä»å¤´å®ç°ä¸€ä¸ªæ—¶åºæ•°æ®åº“çš„å­˜å‚¨å¼•æ“ï¼Œå¯åšä¸ºä¸Šé¢æ–‡ç« æ›´æ·±å…¥çš„è¡¥å……ã€‚&lt;/p&gt;

&lt;h2 id=&#34;cmuåœ¨2017å¹´æ—¶ç»„ç»‡çš„æ—¶åºæ•°æ®åº“ç³»åˆ—è®²åº§&#34;&gt;CMUåœ¨2017å¹´æ—¶ç»„ç»‡çš„æ—¶åºæ•°æ®åº“ç³»åˆ—è®²åº§&lt;/h2&gt;

&lt;p&gt;é‚€è¯·äº†ä¸€ç³»åˆ—ä¸šå†…æ—¶åºæ•°æ®åº“çš„ä»ä¸šäººå‘˜æ¥åˆ†äº«ï¼Œè§ï¼š&lt;a href=&#34;https://db.cs.cmu.edu/seminar2017/&#34;&gt;Time Series Database Lectures â€“ Fall 2017&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;é˜¿é‡Œäº‘æ•°æ®åº“å†…æ ¸æœˆæŠ¥åˆ†ç±»æ•´ç†-https-github-com-tangwz-db-monthly&#34;&gt;&lt;a href=&#34;https://github.com/tangwz/db-monthly&#34;&gt;é˜¿é‡Œäº‘æ•°æ®åº“å†…æ ¸æœˆæŠ¥åˆ†ç±»æ•´ç†&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;é˜¿é‡Œäº‘æ•°æ®åº“å†…æ ¸å›¢é˜Ÿçš„æœˆæŠ¥æä¾›äº†å¾ˆå¤šå­¦ä¹ æ•°æ®åº“æŠ€æœ¯çš„èµ„æ–™ã€æ–‡ç« ï¼Œè¿™ä¸ªgithubå°†æ¯ä¸ªæœˆçš„æœˆæŠ¥è¿›è¡Œäº†åˆ†ç±»æ•´ç†ï¼Œæ¨èæ”¶è—ã€‚&lt;/p&gt;

&lt;h2 id=&#34;how-does-a-database-work-let-s-build-a-simple-database-https-cstack-github-io-db-tutorial&#34;&gt;&lt;a href=&#34;https://cstack.github.io/db_tutorial/&#34;&gt;How Does a Database Work? | Letâ€™s Build a Simple Database&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;è‡ªå·±åŠ¨æ‰‹æ‰“é€ ä¸€ä¸ªç®€å•çš„æ•°æ®åº“ï¼Œåº”è¯¥æœ‰å¾ˆå¤šåœ°æ–¹å‚è€ƒäº†&lt;a href=&#34;https://sqlite.org/index.html&#34;&gt;SQLite&lt;/a&gt;çš„å®ç°ï¼Œæœ¬åšå®¢ä¹Ÿæ·±åº¦è§£æäº†sqliteçš„btreeå®ç°ï¼Œè§ï¼š&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-0/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆé›¶ï¼‰- èµ·æ­¥åŠæ¦‚è¿° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è¿™ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨Cè¯­è¨€å®ç°çš„ï¼Œç±»ä¼¼çš„æ‰“é€ ç®€æ˜“æ•°æ®åº“æ¥å­¦ä¹ åŸç†çš„é¡¹ç›®è¿˜æœ‰å…¶ä»–è¯­è¨€çš„ç‰ˆæœ¬ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Javaç‰ˆæœ¬ï¼š&lt;a href=&#34;https://github.com/awelm/simpledb&#34;&gt;awelm/simpledb: A simple database built from scratch that has some the basic RDBMS features (SQL query parser, transactions, query optimizer)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Rustç‰ˆæœ¬ï¼š&lt;a href=&#34;https://github.com/erikgrinaker/toydb&#34;&gt;erikgrinaker/toydb: Distributed SQL database in Rust, written as a learning project&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;æ²³è¥¿èµ°å»Š-https-movie-douban-com-subject-24736278&#34;&gt;&lt;a href=&#34;https://movie.douban.com/subject/24736278/&#34;&gt;ã€Šæ²³è¥¿èµ°å»Š ã€‹&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;éå¸¸æ£’çš„ä»‹ç»æ²³è¥¿èµ°å»Šçš„å†å²çºªå½•ç‰‡ï¼Œ2017å¹´åœ¨ç”˜è‚ƒæ—…æ¸¸ï¼Œå°±æ˜¯ä¸€è·¯æ²¿ç€æ²³è¥¿èµ°å»Šè¿‡æ¥çš„ï¼Œä¸€è¾¹æ—…æ¸¸ä¸€è¾¹çœ‹è¿™éƒ¨çºªå½•ç‰‡ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æµ®ç”Ÿä¸€æ—¥-https-space-bilibili-com-110930331&#34;&gt;&lt;a href=&#34;https://space.bilibili.com/110930331&#34;&gt;ã€Šæµ®ç”Ÿä¸€æ—¥ã€‹&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Bç«™ä¸Šçº¯çº¯ç”˜çš„èŠ‚ç›®ã€Šæµ®ç”Ÿä¸€æ—¥ã€‹æ˜¯æˆ‘æ¯æœŸéƒ½ä¼šçœ‹çš„èŠ‚ç›®ï¼Œä¸»é¢˜æ˜¯æ¯æ¬¡é‡‡è®¿è·Ÿè¸ªä¸€ä¸ªä¸åŒè¡Œä¸šç´ äººçš„ç”Ÿæ´»ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¼€å§‹çŸ¥é“è¿™ä¸ªæ ç›®æ˜¯çœ‹äº†&lt;a href=&#34;https://www.bilibili.com/video/BV1V54y1h7Zr?spm_id_from=333.999.0.0&#34;&gt;ã€æµ®ç”Ÿä¸€æ—¥ã€‘åŒ—äº¬å›½ä¼å¤–å–å°å“¥çš„çœŸå®ä¸€å¤©&lt;/a&gt;ï¼ŒèƒŒæ™¯æ˜¯è¿™ä½å°å“¥ç”±äºç–«æƒ…åŸå› å¤±ä¸šï¼Œæ‰€ä»¥æ‰¾äº†ä¸€ä»½å›½ä¼çš„å·¥ä½œï¼›åª³å¦‡ä¹°P2Pèµ”å…‰äº†ç§¯è“„ï¼Œèµ¶ä¸Šè€äººå¾—ç—…è¦æ²»ç–—ï¼Œæ‰€ä»¥æ™šä¸Šå¾—å‡ºæ¥å…¼èŒè·‘è·‘å¤–å–ã€‚&lt;/p&gt;

&lt;p&gt;é‡Œé¢æœ‰å¥è¯è®©æˆ‘æ„ŸåŠ¨ï¼šâ€œç»“å©šæ—¶é¢å¯¹è‡ªå·±åª³å¦‡å„¿æœ€æ¼‚äº®çš„æ—¶å€™ï¼Œä½ è¯´æˆ‘æ„¿æ„å’Œä½ åŒç”˜å…±è‹¦ï¼Œç„¶åç°åœ¨åˆå¼€å§‹è´£æ€ªå¥¹ï¼Œé‚£å½“åˆåˆä½•å¿…è¯´è¿™å››ä¸ªå­—å‘¢ï¼Ÿâ€&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ ç›®é‡Œè¿˜æœ‰å„è‰²ä¸åŒèŒä¸šçš„äººï¼šç¨‹åºå‘˜ã€æŠ•èµ„è€…ã€æ—©é¤æ‘Šä½ä¸»äºº&amp;hellip;ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸åŒçš„èŒä¸šï¼Œéƒ½æœ‰å„è‡ªä¸åŒçš„ç”Ÿæ´»è½¨é“å’Œé€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;æ²¹ç®¡ä¸Šæœ‰&lt;a href=&#34;https://www.youtube.com/channel/UCIs3-LcOCdpiGve6yu1-Fug&#34;&gt;åŒåé¢‘é“&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&#34;porter-io&#34;&gt;porter.io&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;porter.io&#34;&gt;porter.io&lt;/a&gt; æ˜¯åŸºäºGithubå…³æ³¨é¡¹ç›®æ¨èç›¸å…³æ–‡ç« å‘é€é‚®ä»¶é€šçŸ¥çš„åº”ç”¨ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;â€œWe analyse your Github footprint, filter Hacker News items according to your taste, and deliver them to your mailbox.â€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘é€šè¿‡è¿™ä¸ªåº”ç”¨ï¼Œè¿˜æ˜¯è¢«æ¨èæ‰çœ‹åˆ°äº†ä¸å°‘æœ‰ä»·å€¼çš„æ–‡ç« çš„çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç‹¬ç«‹å¼€å‘å˜ç°å‘¨åˆŠ-https-www-ezindie-com-weekly&#34;&gt;&lt;a href=&#34;https://www.ezindie.com/weekly&#34;&gt;ç‹¬ç«‹å¼€å‘å˜ç°å‘¨åˆŠ&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;æ¯å‘¨æ›´æ–°æ¨èä¸€äº›ç‹¬ç«‹å¼€å‘å˜ç°çš„äº§å“ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬4æœŸï¼‰ï¼šä¸ºä»€ä¹ˆæˆ‘è¿˜åœ¨çœ‹ä¸­å›½è¶³çƒ</title>
      <link>https://www.codedump.info/post/20220204-weekly-4/</link>
      <pubDate>Fri, 04 Feb 2022 21:55:23 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220204-weekly-4/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šè™å¹´å¤§å¹´åˆä¸€çš„æ™šä¸Šï¼Œä¸€åœºè„†è´¥å‘ç”Ÿåœ¨ä¸–ç•Œæ¯äºšæ´²åŒºé¢„é€‰èµ›ä¸­å›½å®¢åœºå¯¹è¶Šå—é˜Ÿçš„æ¯”èµ›ä¸Šã€‚å¦‚ä»Šï¼Œâ€œä½ å±…ç„¶è¿˜åœ¨çœ‹ä¸­å›½ç”·è¶³â€ï¼Œä»¿ä½›å·²æˆä¸€å¥éª‚äººçš„è´¨é—®ã€‚æœ¬æœŸä»æˆ‘è§’åº¦æ¥è°ˆè°ˆï¼Œæˆ‘çœ¼ä¸­çš„ä¸­å›½è¶³çƒï¼Œä»¥åŠè¯´è¯´æˆ‘ä¸ºä»€ä¹ˆè¿˜ä¸€ç›´åœ¨å…³æ³¨è¿™ä¸ªé¢†åŸŸã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;æˆ‘ä¸ºä»€ä¹ˆè¿˜åœ¨çœ‹ä¸­å›½è¶³çƒ&#34;&gt;æˆ‘ä¸ºä»€ä¹ˆè¿˜åœ¨çœ‹ä¸­å›½è¶³çƒ&lt;/h1&gt;

&lt;p&gt;æˆ‘ä»94å¹´å¼€å§‹çœ‹çƒï¼Œä¸­å›½è¶³çƒç»å¤§éƒ¨åˆ†çš„é‡è¦æ¯”èµ›éƒ½çœ‹äº†ï¼š94å¹´äºšè¿ä¼šå†³èµ›è¾“ç»™ä¹Œå…¹åˆ«å…‹æ–¯å¦ã€97å¹´å¤§è¿é‡‘å·è¢«ä¼Šæœ—é€†è½¬ã€2002å¹´ä¸–ç•Œæ¯å‡ºçº¿&amp;hellip;å¤ªå¤šäº†ï¼Œæ•°ä¸è¿‡æ¥ï¼Œç®—æ˜¯ä»æˆ‘å¼€å§‹çœ‹çƒä¹‹åå°±ä¸€ç›´æœ‰å…³æ³¨ä¸­å›½è¶³çƒã€‚&lt;/p&gt;

&lt;p&gt;åœ¨çœ‹å›½è¶³æ¯”èµ›äºŒåå¤šå¹´ä¹‹åï¼Œæ…¢æ…¢åœ°ä»ä¸€ä¸ªå‚ä¸è€…ã€è¯„è®ºè€…çš„è§’è‰²ï¼Œåˆ‡æ¢åˆ°äº†è¿‘ä¼¼äºç¬¬ä¸‰æ–¹è§†è§’çš„è§‚å¯Ÿè€…è§’è‰²ã€‚åˆ‡æ¢åˆ°è¿™ä¸ªè§†è§’ä¹‹åï¼Œè®©æˆ‘èƒ½ä»é‡Œé¢å„ç§æƒ…ç»ªé‡ŒæŠ½ç¦»å‡ºæ¥ï¼Œå½“ç„¶é«˜å…´çš„æ—¶å€™ä¹Ÿä¼šåƒä¸ªæ™®é€šçƒè¿·é‚£æ ·æ¬¢ä¹ï¼Œæ¯”å¦‚2017å¹´ä¸–ç•Œæ¯é¢„é€‰èµ›å‡»è´¥éŸ©å›½è¿™æ ·çš„æ¯”èµ›ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å›½è™½ç„¶åœ¨å¥¥è¿ä¼šä¸Šå–å¾—äº†çœ‹ä¼¼å¾ˆå¥½çš„æˆç»©ï¼Œé‡‘ç‰Œæ•°æ€»æ˜¯ä¿æŒå‰åˆ—ï¼Œä½†æ˜¯æœ‰ä¸€è¯´ä¸€ï¼Œå¹¶ä¸ç®—æ˜¯ä½“è‚²å¤§å›½ï¼Œæ›´åˆ«æå¼ºå›½äº†ã€‚&lt;/p&gt;

&lt;p&gt;åªçœ‹æˆ‘ä»¬å ä¼˜åŠ¿ã€èƒ½å–å¾—å¥½æˆç»©çš„é¡¹ç›®ï¼Œå¤§å¤šæœ‰è¿™æ ·çš„ç‰¹ç‚¹ï¼šå°ä¼—ã€å†·é—¨ï¼Œè¿™æ ·çš„ç‰¹ç‚¹ç›´æ¥å¯¼è‡´è¿™æ ·çš„é¡¹ç›®ï¼Œå®é™…æ˜¯å•†ä¸šåŒ–ç¨‹åº¦å¾ˆä½çš„é¢†åŸŸã€‚è¿™æ ·çš„é¢†åŸŸï¼Œå›½å¤–å‚ä¸çš„äººä¸ä¼šå¤ªå¤šï¼Œä¹Ÿå› æ­¤å¯ä»¥ç»§ç»­æ²¿ç”¨ä»¥å‰æˆ‘ä»¬æ“…é•¿çš„æ‰“æ³•ï¼šé›†ä¸­åŠ›é‡åŠå¤§äº‹ï¼Œæ¢åˆ°ä½“è‚²è¿™ä¸ªé¢†åŸŸï¼Œå°±æ˜¯æ‰€è°“çš„â€œä¸¾å›½ä½“åˆ¶â€ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œèƒ½ç”¨è¾ƒå°‘çš„èµ„æºæ‹¿åˆ°ä¸é”™çš„æ•ˆæœï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººåªå…³æ³¨é‡‘é“¶ç‰Œè¿™äº›æ•°å­—ï¼Œå¹¶ä¸å…³å¿ƒä½ æ€ä¹ˆæ‹¿åˆ°çš„ã€‚è¿™ä¸ªç­–ç•¥ï¼Œç”¨çŸ¥ä¹ä¸Šä¸€ä¸ªå›ç­”çš„è¯æ¥è¯´å«â€œç”°å¿Œèµ›é©¬â€ï¼Œè§ï¼š&lt;a href=&#34;https://www.zhihu.com/question/414037344/answer/1713991758&#34;&gt;ä¸ºä»€ä¹ˆä¸­å›½çš„å…¶ä»–è¿åŠ¨é¡¹ç›®é‚£ä¹ˆå¼ºï¼Œåˆ°äº†ç”·è¶³è¿™é‡Œå°±ä¸è¡Œå‘¢ï¼Ÿ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å•†ä¸šåŒ–ã€èŒä¸šåŒ–å¾ˆå¥½çš„ä½“è‚²é¡¹ç›®ï¼Œæ¯”å¦‚è¶³çƒã€ç¯®çƒã€ç½‘çƒç­‰ç­‰é¢†åŸŸï¼Œæˆ‘ä»¬çš„æˆç»©å°±ä¸è¿™ä¹ˆå¥½äº†ï¼Œæå¨œã€å§šæ˜ã€åˆ˜ç¿”æ˜¯å°‘æ•°åœ¨è¿™äº›é¢†åŸŸæ‹¿å¾—å‡ºæ‰‹çš„ä¸–ç•Œçº§è¿åŠ¨å‘˜ã€‚ï¼ˆåé¢ä¼šä¸“é—¨è°ˆè°ˆå¥³è¶³ï¼‰&lt;/p&gt;

&lt;p&gt;ä¸€è¨€ä»¥è”½ä¹‹ï¼šä¸¾å›½ä½“åˆ¶ä»ç›®å‰çš„æˆç»©æ¥çœ‹ï¼Œå¹¶ä¸é€‚åˆèŒä¸šåŒ–ã€å•†ä¸šåŒ–å¾ˆå¥½çš„ä½“è‚²é¡¹ç›®ã€‚&lt;/p&gt;

&lt;p&gt;â€œè¶³çƒæ˜¯ä½“è‚²å·¥ä¸šåŒ–çš„é›†å¤§æˆè€…â€ï¼ˆè§&lt;a href=&#34;https://www.zhihu.com/question/310636566/answer/1720809481&#34;&gt;(ä¸ºä»€ä¹ˆæ•´ä¸ªä¸­å›½éƒ½çŸ¥é“ä¸­å›½è¶³çƒçš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ²¡æœ‰åŠæ³•è§£å†³ï¼Ÿ - çŸ¥ä¹&lt;/a&gt;ï¼‰ï¼Œæ‰€ä»¥å®ƒä¸åƒå…¶ä»–é¢†åŸŸé‚£æ ·ï¼Œéœ€è¦é•¿æœŸçš„ç§¯ç´¯å’ŒåŸºç¡€ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œç”·è¶³çš„å­˜åœ¨ï¼Œåœ¨æˆ‘çœ‹æ¥æ›´å¤šåƒæ˜¯ä¸€ä¸ªâ€œå¤§å‹çš„ç¤¾ä¼šå®éªŒâ€ï¼Œæˆ‘åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œçœ‹åˆ°ä¸åŒçš„æ”¿ç­–ã€ä½“åˆ¶ã€è¡Œæ”¿å¹²é¢„ã€å¸‚åœºè¡Œä¸ºç­‰å¯¹è¿™ä¸ªè¿åŠ¨çš„å½±å“ï¼Œçœ‹åˆ°å„æ–¹å‚ä¸è€…ã€è¯„è®ºè€…ã€åª’ä½“çš„æ‰€ä½œæ‰€ä¸ºï¼Œä»ä¸­èƒ½çœ‹åˆ°æŸäº›æˆ‘ä»¬ç¤¾ä¼šçš„ç¼©å½±ã€‚&lt;/p&gt;

&lt;p&gt;ç”·è¶³ä¹Ÿæ˜¯â€œå®¢è§‚è§„å¾‹â€çš„å…·è±¡åŒ–ä»£è¨€äººï¼ˆè§&lt;a href=&#34;https://weibo.com/1573046985/Ldz5zvYdY&#34;&gt;ä¸­å›½ç”·è¶³æŒºå¥½çš„ï¼Œç†ç›´&amp;hellip; - @ç¥ä½³éŸ³çš„å¾®åš - å¾®åš&lt;/a&gt;ï¼‰ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç”·è¶³ä¸è·Ÿä½ è®²è¿™äº›è™šçš„ï¼Œä¸æŒ‰ç§‘å­¦è§„å¾‹åŠäº‹å°±æ˜¯ä¸è¡Œã€‚ç»™é’±è¯±æƒ‘ä¹Ÿä¸è¡Œï¼Œç«‹è§„çŸ©éª‚äººä¹Ÿä¸è¡Œï¼Œåšæ€æƒ³å·¥ä½œè¯´æœä¸è¡Œï¼Œä¸´æ—¶åŠ ç­åŠ ç»ƒä¹Ÿä¸è¡Œã€‚å¯Œè´µä¸èƒ½æ·«å¨æ­¦ä¸èƒ½å±ˆï¼Œä¸è¡Œå°±æ˜¯ä¸è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç›¸å¯¹å…¶ä»–å¾ˆå¤šé¢†åŸŸï¼Œè¶³çƒçš„æˆç»©æ›´é€æ˜ã€å…¬å¼€ï¼Œè¶³çƒè¿åŠ¨ä¸€ç›´åœ¨æé†’æˆ‘è¦å°Šé‡â€œå®¢è§‚è§„å¾‹â€ã€‚&lt;/p&gt;

&lt;p&gt;è¶³çƒåœ¨ä¸­å›½ï¼Œå±äºâ€œå‚ä¸åº¦å¾ˆä½ï¼Œä½†æ˜¯å…³æ³¨åº¦é«˜â€çš„ä½“è‚²é¡¹ç›®ã€‚åœ¨è¿™æ ·çš„é¢†åŸŸï¼šçœ‹èµ·æ¥ä¸­è¶…ç«çˆ†çš„æ—¶å€™ç°åœºèƒ½æœ‰å‡ ä¸‡çƒè¿·ç°åœºè§‚èµ›ï¼Œçœ‹èµ·æ¥èŠ±äº†å¾ˆå¤šé’±ã€æŠ•å…¥äº†å¾ˆå¤šäººåŠ›ï¼Œä½†æ˜¯åªè¦æ²¡æœ‰æŒ‰ç…§è¶³çƒçš„â€œå®¢è§‚è§„å¾‹â€åŠäº‹ï¼Œæˆç»©é©¬ä¸Šå°±èƒ½æ‰“è„¸ï¼Œå…¬å¼€é€æ˜ã€‚&lt;/p&gt;

&lt;p&gt;è§„åˆ™é€æ˜ã€ç»“æœå…¬å¼€ï¼Œç­‰ç­‰è¿™äº›éƒ½æ˜¯æˆ‘ä¸€ç›´è¿˜åœ¨å…³æ³¨è¿™ä¸ªâ€œå¤§å‹ç¤¾ä¼šå®éªŒâ€çš„åŸå› ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç•ªå¤–&#34;&gt;ç•ªå¤–&lt;/h2&gt;

&lt;p&gt;ç•ªå¤–ç¯‡é‡Œï¼Œè¯•å›¾ç®€å•ç§‘æ™®å…³äºä¸­å›½è¶³çƒç›¸å…³çš„å‡ ä¸ªå¸¸è§é—®é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&#34;14äº¿äººé‡Œä¸ºä»€ä¹ˆå°±é€‰ä¸å‡º11ä¸ªèƒ½è¸¢çƒçš„äºº&#34;&gt;â€œ14äº¿äººé‡Œä¸ºä»€ä¹ˆå°±é€‰ä¸å‡º11ä¸ªèƒ½è¸¢çƒçš„äººï¼Ÿâ€&lt;/h3&gt;

&lt;p&gt;è¿™æ˜¯æœ€å¸¸è§çš„é—®é¢˜äº†ï¼Œç”¨ç±»æ¯”çš„æ–¹å¼è¯•å›¾å›ç­”ä¸€ä¸‹ï¼Œè¿™å°±å¥½æ¯”é—®ï¼šâ€œè¿™ä¹ˆå¤§ä¸€å—æ²™æ¼ ä¸ºä»€ä¹ˆå°±ç§ä¸å‡ºå‡ æ£µæ ‘æ¥ï¼Ÿâ€ã€‚æ˜¾ç„¶å¾ˆå¤šäººå¹¶æ²¡æœ‰æ„è¯†åˆ°ï¼Œæˆ‘å›½åœ¨è¶³çƒä»ä¸šäººå‘˜é¢†åŸŸå±äºâ€œæ²™æ¼ â€ï¼Œåªæ˜¯çœ‹èµ·æ¥çƒ­é—¹ï¼Œä»…æ­¤è€Œå·²ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬çš„é€‰æä¸æ˜¯ä»14äº¿é‡Œé€‰ï¼Œè€Œæ˜¯è¶³çƒæ³¨å†Œçƒå‘˜é‡Œé¢é€‰ï¼ˆä¸­å›½å¥½åƒåªæœ‰å‡ ä¸‡è¶³çƒä»ä¸šäººå£ï¼‰ï¼Œè¿™ä¸ªåŸºæ•°å¯¹æ¯”è¶³çƒå‘è¾¾å›½å®¶å·®çš„å¾ˆå¤šã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ€ä¹ˆçœ‹å¾…å¥³è¶³çš„æˆç»©æ¯”ç”·è¶³å¥½è¿™ä¹ˆå¤š&#34;&gt;æ€ä¹ˆçœ‹å¾…å¥³è¶³çš„æˆç»©æ¯”ç”·è¶³å¥½è¿™ä¹ˆå¤šï¼Ÿ&lt;/h3&gt;

&lt;p&gt;å¥³è¶³æœ‰è¿‡æ¯”ç”·è¶³æ›´å…‰è¾‰çš„å†å²ï¼šå¥¥è¿ä¼šé“¶ç‰Œã€ä¸–ç•Œæ¯äºšå†›ã€‚ä½†æ˜¯éœ€è¦è®¤è¯†åˆ°ï¼Œè¿™äº›æˆç»©çš„å–å¾—ï¼Œå·²ç»å¹´ä»£ä¹…è¿œï¼Œè·ç¦»ç°åœ¨æœ‰20å¤šå¹´äº†ã€‚&lt;/p&gt;

&lt;p&gt;å–å¾—è¿™äº›æˆç»©å¾ˆå¤§çš„åŸå› æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç”±äºå®—æ•™ã€å¦‡å¥³åœ°ä½ç­‰åŸå› ï¼Œå‚ä¸å¥³è¶³è¿åŠ¨çš„å›½å®¶å¹¶ä¸å¤šã€‚&lt;/li&gt;
&lt;li&gt;å½“æ—¶èŒä¸šåŒ–çš„å¥³è¶³å¹¶ä¸å¤šã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¯”å¦‚åœ¨äºšæ´²ï¼Œç”·è¶³è¦æ‰“ä¸–ç•Œæ¯é¢„é€‰èµ›ã€äºšæ´²æ¯å†³èµ›è¿™æ ·çš„æ¯”èµ›ï¼Œéƒ½è¦å…ˆè¿›è¡Œä¸€è½®é¢„é€‰èµ›ï¼Œå› ä¸ºæœ‰50å¤šä¸ªå›½å®¶å‚ä¸ï¼›è€Œå¥³è¶³å¯¹åº”çš„æ¯”èµ›ï¼Œåˆ™æ— éœ€é¢„é€‰èµ›ï¼Œå› ä¸ºå‚ä¸çš„é˜Ÿä¼å®åœ¨ä¸å¤šï¼Œæ¯”å¦‚ä¸€å¤§æ‰¹ç›¸å¯¹è½åçš„å›½å®¶æ´¾ä¸å‡ºå¥³è¶³ï¼Œæ¯”å¦‚é˜¿æ‹‰ä¼¯å›½å®¶ä¹Ÿä¸è®©å¥³è¶³å‚èµ›ï¼ˆè¿™æ¬¡å¥³è¶³äºšæ´²æ¯ä¼Šæœ—å€’æ˜¯å‚èµ›äº†ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œè¯´åˆ°å¥³è¶³èŒä¸šåŒ–ã€‚éšç€æ¬§ç¾å¥³è¶³èŒä¸šè”èµ›çš„å‘å±•ï¼Œå¥¹ä»¬çš„æ°´å¹³æé«˜äº†å¾ˆå¤šï¼Œæ­¤æ¶ˆå½¼é•¿ï¼Œè¿™å°±æ˜¯åæ¥åŒ—äº¬å¥¥è¿ä¼šã€ä¸œäº¬å¥¥è¿ä¼šå¤§æ¯”åˆ†è¾“çƒï¼Œä»¥åŠä¸–ç•Œæ’åä¸€è·¯æ»‘åˆ°19åçš„åŸå› ã€‚&lt;/p&gt;

&lt;p&gt;åšä¸€ä¸ªå¯èƒ½ä¸æ­£ç¡®çš„ç±»æ¯”ï¼š10ä¸ªäººå‚åŠ çš„æ¯”èµ›é‡Œï¼Œå–å¾—ç¬¬3åçš„æˆç»©ï¼Œç¡®å®æ¯”50ä¸ªäººå‚åŠ çš„æ¯”èµ›é‡Œå–å¾—ç¬¬10åï¼Œçœ‹èµ·æ¥å¥½çœ‹ä¸€äº›ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå³ä¾¿æŠ›å¼€èŒä¸šåŒ–ã€å•†ä¸šåŒ–ã€å‚èµ›é˜Ÿä¼åŸºæ•°ç­‰å› ç´ ï¼Œæœ‰ä¸€è¯´ä¸€ï¼Œå¥³è¶³çš„ç²¾æ°”ç¥ç¡®å®æ¯”ç”·è¶³è¦é«˜å‡ºä¸€å¤§æˆªæ¥ï¼Œå°¤å…¶åœ¨æ˜¥èŠ‚å¯†é›†å¾—çœ‹äº†å‡ åœºç”·è¶³ã€å¥³è¶³çš„æ¯”èµ›å¯¹æ¯”å°±æ›´æ˜æ˜¾äº†ã€‚&lt;/p&gt;

&lt;p&gt;è±†ç“£ä¸Šæœ‰äººæ•´ç†äº†æœ¬å±Šå¥³è¶³äºšæ´²æ¯ç°å½¹å›½å®¶é˜Ÿæˆå‘˜çš„ä»‹ç»ï¼š&lt;a href=&#34;https://www.douban.com/group/topic/258215115/?_dtcc=1&amp;amp;_i=4158490DTua3Gc&#34;&gt;ä¸­å›½å¥³è¶³ç°å½¹å›½å®¶é˜Ÿé˜Ÿå‘˜ä»‹ç»ï¼ˆäºšæ´²æ¯æ¥äº†ï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;æ˜¯å¦ä¸€å®šè¦-æå¥½è¶³çƒ&#34;&gt;æ˜¯å¦ä¸€å®šè¦â€œæå¥½è¶³çƒâ€ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;è¿™ä¸ªé—®é¢˜è§ä»è§æ™ºï¼Œæˆ‘ä¸è®¤ä¸ºä¸€å®šæœ‰â€œæå¥½è¶³çƒâ€çš„å¿…è¦ï¼Œæ¯•ç«Ÿæ¯”è¿™ä¸ªäº‹æƒ…é‡è¦çš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼Œâ€œè¶³çƒâ€ä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ä¸€ä¸ªå›½å®¶çš„ç»¼åˆå›½åŠ›ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘æ¯”è¾ƒåŒæ„çŸ¥ä¹è¿™ä¸ªå›ç­”é‡Œçš„å‡ æ®µè¯ï¼š&lt;a href=&#34;https://www.zhihu.com/question/310636566/answer/1830192531&#34;&gt;ä¸ºä»€ä¹ˆæ•´ä¸ªä¸­å›½éƒ½çŸ¥é“ä¸­å›½è¶³çƒçš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ²¡æœ‰åŠæ³•è§£å†³ï¼Ÿ - çŸ¥ä¹&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºå’Œæ•´ä¸ªå›½å®¶è¦è§£å†³çš„é—®é¢˜æ¥æ¯”ï¼Œä¸­å›½è¶³çƒä¸é‡è¦ã€‚&lt;/p&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;æœ‰åŸºå»ºé‡è¦å—ï¼Ÿæœ‰å›½é˜²é‡è¦å—ï¼Ÿæœ‰æ•™è‚²é‡è¦å—ï¼Ÿæœ‰åŒ»ç–—é‡è¦å—ï¼Ÿæœ‰æ‰¶è´«æ”»åšé‡è¦å—ï¼Ÿæœ‰æŠ—å‡»ç–«æƒ…é‡è¦å—ï¼Ÿâ€¦â€¦ä¸‰ç™¾å…­åè¡Œï¼Œè‡³å°‘å¾—æœ‰ä¸‰ç™¾è¡Œæ’åœ¨ç«æŠ€ä½“è‚²å‰é¢å¥½ä¸å¥½ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸­å›½äººå–œæ¬¢è¶³çƒå—ï¼Ÿä¸­å›½äººåªå–œæ¬¢çœ‹è¶³çƒï¼Œè€Œä¸”æ˜¯å¯æœ‰å¯æ— çš„é‚£ç§å–œæ¬¢ã€‚çœŸå–œæ¬¢è¸¢ï¼ŒæŠ•èº«è¶³çƒäº‹ä¸šçš„ä¸ä¼šåªæœ‰è¿™ä¹ˆç‚¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä½†æ˜¯ä¸åŒæ„å›ç­”é‡Œçš„è¿™å¥è¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ä¸­å›½è¶³çƒçš„é—®é¢˜ä¸æ˜¯æ²¡æœ‰åŠæ³•è§£å†³ï¼Œè¦è§£å†³ä¸­å›½è¶³çƒçš„é—®é¢˜ï¼Œé›†å›½å®¶åŠ›é‡æœ‰ä¸€ä¸‡ç§åŠæ³•è§£å†³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ¯•ç«Ÿæˆ‘ä»¬è¿˜ä»æ¥æ²¡æœ‰è§£å†³è¿‡ï¼Œå®äº‹æ±‚æ˜¯ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æ€»ç»“ä¸€ä¸‹æˆ‘çš„è§‚ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è¶³çƒå±äºå•†ä¸šåŒ–ã€èŒä¸šåŒ–ç¨‹åº¦å¾ˆé«˜çš„ç«æŠ€ä½“è‚²é¡¹ç›®ï¼Œâ€œä¸¾å›½ä½“åˆ¶â€ä»ç›®å‰æ¥çœ‹ä¸é€‚ç”¨äºè¿™æ ·çš„é¢†åŸŸã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è¶³çƒåœ¨ä¸­å›½å±äºâ€œå‚ä¸åº¦ä½ã€å…³æ³¨åº¦é«˜â€çš„é¡¹ç›®ï¼Œçœ‹ç€å¾ˆçƒ­é—¹ï¼Œå®é™…çœŸæ­£å‚ä¸ã€ä»ä¸šçš„äººå¹¶ä¸å¤šã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å› ä¸ºæ—©æœŸæˆ‘ä»¬åªå…³æ³¨å¥¥è¿ä¼šçš„é‡‘é“¶ç‰Œï¼Œæ‰€ä»¥é›†ä¸­åŠ›é‡å‘å±•å†·é—¨é¡¹ç›®æ›´å®¹æ˜“å‡ºæˆç»©ã€‚å¤§éƒ¨åˆ†äººåªå…³æ³¨ç®€å•çš„æ•°å­—ã€é‡‘é“¶ç‰Œï¼Œä¸ä¼šå…³æ³¨èƒŒåçš„éš¾æ˜“ç¨‹åº¦ï¼Œâ€œ10ä¸ªäººå‚åŠ çš„æ¯”èµ›é‡Œï¼Œå–å¾—ç¬¬3åçš„æˆç»©ï¼Œç¡®å®æ¯”50ä¸ªäººå‚åŠ çš„æ¯”èµ›é‡Œå–å¾—ç¬¬10åï¼Œçœ‹èµ·æ¥å¥½çœ‹ä¸€äº›ã€‚â€&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æˆ‘å¹¶ä¸è®¤ä¸ºï¼Œæœ‰ä¸€å®šè¦â€œæå¥½è¶³çƒâ€çš„å¿…è¦æ€§ï¼Œè‡³å°‘ç°åœ¨æ²¡æœ‰ï¼Œå› ä¸ºè¿˜æœ‰æ›´é‡è¦çš„äº‹æƒ…éœ€è¦åšã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;è¶³çƒåœ¨æˆ‘çœ‹æ¥æ˜¯â€œå¤§å‹ç¤¾ä¼šå®éªŒâ€ï¼Œæ˜¯â€œå®¢è§‚è§„å¾‹çš„å…·è±¡ä»£è¨€äººâ€ï¼Œè§„åˆ™é€æ˜ã€ç»“æœå…¬å¼€ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´å…³æ³¨è¿™ä¸ªé¢†åŸŸã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;åªæ­¤é’ç»¿-åƒé‡Œæ±Ÿå±±å›¾-å’Œç‹å¸Œå­Ÿ&#34;&gt;ã€Šåªæ­¤é’ç»¿ã€‹ã€ã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹å’Œç‹å¸Œå­Ÿ&lt;/h1&gt;

&lt;p&gt;è™å¹´æ˜¥æ™šä¸ªäººè®¤ä¸ºæœ€å¥½çš„èŠ‚ç›®æ˜¯è„±èƒäºä¼ ä¸–åç”»&lt;a href=&#34;https://baike.baidu.com/item/%E5%8D%83%E9%87%8C%E6%B1%9F%E5%B1%B1%E5%9B%BE/386355&#34;&gt;ã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹&lt;/a&gt;çš„èˆå‰§&lt;a href=&#34;https://www.youtube.com/watch?v=OZlUvIV50Ww&#34;&gt;ã€Šåªæ­¤é’ç»¿ã€‹&lt;/a&gt;ï¼š&lt;/p&gt;

&lt;p&gt;æœ€è¿‘å‡ å¹´çœ‹äº†å¥½å‡ ä¸ªè®²è¿°ã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹çš„çºªå½•ç‰‡ï¼Œæ¯”å¦‚&lt;a href=&#34;https://www.youtube.com/watch?v=UYz1njDuqr4&#34;&gt;[å›½å®¶å®è—]ç‹å¸Œå­Ÿã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹å·&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®‹å¾½å®—èµµä½¶å›ºç„¶æ˜¯ä¸€ä¸ªç³Ÿç³•çš„çš‡å¸ï¼Œå†å²æƒ¨æ¡ˆâ€œé–åº·ä¹‹è€»â€å¤§åŠçš„é”…éƒ½æ˜¯ä»–çš„ã€‚ä½†æ˜¯ä¹Ÿä¸èƒ½å¦è®¤ä»–åœ¨è‰ºæœ¯ä¸Šçš„æˆå°±ï¼Œå‘æ˜ã€åŸ¹å…»äº†å¤©æ‰å°‘å¹´ç‹å¸Œå­Ÿï¼Œæ‰èƒ½æœ€åè®©ã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹ä¼ ä¸–åƒå¹´ã€‚å¯æƒœçš„æ˜¯ï¼Œç‹å¸Œå­Ÿå°±è¿™ä¸€å¹…ä½œå“ï¼Œåä¸–å†æ²¡æœ‰å…³äºè¿™ä¸ªäººçš„æ›´å¤šèµ„æ–™äº†ã€‚&lt;/p&gt;

&lt;p&gt;èµµä½¶åæ¥æŠŠè¿™å¹…ç”»èµèµç»™äº†è”¡äº¬ï¼Œè”¡äº¬è·‹é‡Œèƒ½å‹‰å¼ºçœ‹åˆ°ä¸€äº›ç‹å¸Œå­Ÿä½œç”»æ—¶çš„ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ­¤å·æ”¿å’Œä¸‰å¹´é–å››æœˆä¸€æ—¥è³œã€‚å¸Œå­Ÿå¹´åå…«åµ—ï¼Œæ˜”åœ¨ç•«å­¸ç‚ºç”Ÿå¾’ï¼Œå¬å…¥ç¦ä¸­æ–‡æ›¸åº«ï¼Œæ•¸ä»¥ç•«ç»ï¼Œæœªç”šå·¥ã€‚ä¸ŠçŸ¥å…¶æ€§å¯æ•™ï¼Œé‚èª¨è«­ä¹‹ï¼Œè¦ªæˆå…¶æ³•ï¼Œä¸è¸°åŠåµ—ï¼Œä¹ƒä»¥æ­¤åœ–é€²ï¼Œä¸Šå˜‰ä¹‹ï¼Œå› ä»¥è³œè‡£äº¬ï¼Œè¬‚å¤©ä¸‹å£«åœ¨ä½œä¹‹è€Œå·²ã€‚ä»Šå¸Œå­Ÿå·²æ­»ï¼Œå±•å·æ·±ç‚ºæ‚¼æƒœã€‚æ”¿å’Œäº”å¹´å­£æ˜¥æœ›å¤ªå¸«é­¯åœ‹å…¬è‡£äº¬è¬¹è¨˜&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™å‡ å¥è¯é‡Œäº¤ä»£äº†å‡ ä¸ªä¿¡æ¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‹å¸Œå­Ÿä½œç”»çš„æ—¶å€™æ‰18å²ã€‚&lt;/li&gt;
&lt;li&gt;æœ€å¼€å§‹ï¼Œç‹å¸Œå­Ÿå¹¶ä¸å‡ºè‰²ï¼Œä½†æ˜¯èµµä½¶çœ‹ä»–æ½œåŠ›ä¸é”™ï¼Œäºæ˜¯äº²è‡ªä¼ æˆæŠ€æ³•ã€‚&lt;/li&gt;
&lt;li&gt;ç‹å¸Œå­Ÿå®Œæˆè¿™å¹…ç”»ï¼Œåªç”¨äº†ä¸åˆ°åŠå¹´çš„æ—¶é—´ã€‚è¦çŸ¥é“ï¼Œã€Šåƒé‡Œæ±Ÿå±±å›¾ã€‹å¯æ˜¯é•¿è¾¾20ç±³çš„å·¨å¹…ç”»ä½œã€‚&lt;/li&gt;
&lt;li&gt;è”¡äº¬é¢˜è·‹çš„æ—¶å€™ï¼Œç‹å¸Œå­Ÿå·²ç»æ­»äº†ã€‚ï¼ˆ&lt;code&gt;ä»Šå¸Œå­Ÿå·²æ­»ï¼Œå±•å·æ·±ç‚ºæ‚¼æƒœ&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ç‰¹åˆ«å–œæ¬¢é™ˆä¸¹é’åœ¨&lt;a href=&#34;https://v.youku.com/v_show/id_XMTI2MDk4MTA5Ng==.html?spm=a2h0c.8166622.PhoneSokuProgram_1.dselectbutton_16&amp;amp;showid=cc117696c7cb11e4b432&#34;&gt;å±€éƒ¨ ç¬¬ä¸€å­£ åƒé‡Œæ±Ÿå±±å›¾&lt;/a&gt;é‡Œè¯„ä»·åå…«å²ç‹å¸Œå­Ÿçš„è¿™æ®µè¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;é€šå¸¸æˆå¹´çš„è€ç†Ÿçš„å¤§å¸ˆï¼Œå–œæ¬¢åšå‡æ³•ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“å–èˆå’Œæ¦‚æ‹¬ï¼Œå¯åå…«å²è‹±å¹´çš„ç‹å¸Œå­Ÿå‘¢ï¼Œä»–æ˜¯å¿™ç€åšåŠ æ³•ã€‚äººåœ¨åå…«å²å¹´çºªï¼Œæ‰ä¼šæœ‰è¿™è‚¡å­é›„å¿ƒå’Œç»†å¿ƒï¼Œä¸€ç‚¹ä¸ä¹±ã€‚ä¸æè”“ï¼Œä¸ç¹æ‚ï¼Œé€šç¯‡è´µæ°”ï¼Œæ¸…ç§€é€¼äººã€‚é‚£å°±æ˜¯ä»–çš„å¤©èµ‹äº†ã€‚&lt;/p&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;åå…«å²å¹²çš„äº‹ï¼Œå¤šåŠå…¶å®æ˜¯ä¸è‡ªçŸ¥çš„ï¼Œä»–å¥½ä¹Ÿå¥½åœ¨ä¸è‡ªçŸ¥ã€‚ç…§è¥¿æ´‹äººçš„è¯´æ³•ï¼Œé‚£æ˜¯ä¸Šå¸è®©ä»–å¹²äº†è¿™ä»¶äº‹æƒ…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘å›æƒ³èµ·æ¥æˆ‘åœ¨è¿™ä¸ªå²æ•°çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯åœ¨â€œåšåŠ æ³•â€ï¼Œå¤©åœ°å¹¿é˜”ä»»æˆ‘é¨æ¸¸ï¼›å¹´çºªå¤§äº†ï¼Œæ…¢æ…¢çŸ¥é“è‡ªå·±çš„è¾¹ç•Œåœ¨å“ªé‡Œï¼Œäºæ˜¯æ…¢æ…¢â€œåšå‡æ³•â€ï¼Œå‡æ‰è‡ªå·±åšä¸åˆ°çš„äº‹æƒ…ã€‚&lt;/p&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;æ­¦ä¾ é£æ ¼çš„æ»‘é›ªåˆ›æ„çŸ­ç‰‡&#34;&gt;æ­¦ä¾ é£æ ¼çš„æ»‘é›ªåˆ›æ„çŸ­ç‰‡&lt;/h2&gt;

&lt;p&gt;å†¬å¥¥ä¼šæ­£åœ¨è¿›è¡Œä¸­ï¼ŒBç«™ä¸Šçœ‹åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æ­¦ä¾ é£æ ¼çš„æ»‘é›ªåˆ›æ„çŸ­ç‰‡ï¼š&lt;a href=&#34;https://www.bilibili.com/video/BV16q4y1h7v7&#34;&gt;æˆ‘æ‚åˆ€æ„¿ç§°ä½ ä¸ºæœ€è¡Œ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç½®èº«äº‹å†…&#34;&gt;ã€Šç½®èº«äº‹å†…ã€‹&lt;/h2&gt;

&lt;p&gt;ä¸€æœ¬è®²è§£ä¸­å›½æ”¿ç»ä½“åˆ¶çš„å¥½ä¹¦ï¼Œå¼ºçƒˆæ¨èï¼Œçœ‹å®Œä¹‹åèƒ½å¯¹å›½å®¶å±‚é¢å®è§‚çš„å¾ˆå¤šæ”¿ç­–ç­‰æœ‰æ›´å¥½çš„ç†è§£ï¼Œæ¯”å¦‚åŸå¸‚åŒ–ã€åœŸåœ°è´¢æ”¿æ”¿ç­–ã€åŸå¸‚åŒ–ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://book.douban.com/subject/35546622/&#34;&gt;ç½®èº«äº‹å†… (è±†ç“£)&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;paxosåŸç†çš„ç›´è§‚è§£é‡Š&#34;&gt;PaxosåŸç†çš„ç›´è§‚è§£é‡Š&lt;/h2&gt;

&lt;p&gt;è¿™æ˜¯ç›®å‰çœ‹åˆ°è¿™ä¹ˆå¤šçš„PaxosåŸç†è§£é‡Šçš„æ–‡ç« é‡Œå†™çš„æœ€æ¸…æ™°çš„ä¸€ç¯‡äº†ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://blog.openacid.com/algo/paxos/&#34;&gt;å¯é åˆ†å¸ƒå¼ç³»ç»Ÿ-paxosçš„ç›´è§‚è§£é‡Š - OpenACID Blog&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä»–å¾ˆå¤šæ–‡ç« å¤šæ˜¯å›«å›µåæ£å¼çš„è®ºæ–‡ç¿»è¯‘ï¼Œè¿™ç¯‡æ–‡ç« æœ‰ä½œè€…è‡ªå·±çš„ç†è§£å’Œè§£é‡Šï¼ˆå›¾ç¤ºã€ä¾‹å­ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&#34;testing-distributed-systems&#34;&gt;Testing Distributed Systems&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://asatarin.github.io/testing-distributed-systems/&#34;&gt;Testing Distributed Systems | Curated list of resources on testing distributed systems&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åˆ—ä¸¾äº†å„ç§åˆ†å¸ƒå¼ç³»ç»Ÿã€æ•°æ®åº“çš„æµ‹è¯•æ–¹æ¡ˆã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç°</title>
      <link>https://www.codedump.info/post/20220201-sqlite-btree-5-btree/</link>
      <pubDate>Tue, 01 Feb 2022 15:55:40 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220201-sqlite-btree-5-btree/</guid>
      <description>

&lt;p&gt;ã€Šsqlite3.36ç‰ˆæœ¬ btreeå®ç°ã€‹ç³»åˆ—æ–‡ç« ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-0/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆé›¶ï¼‰- èµ·æ­¥åŠæ¦‚è¿° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-1-pagecache/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸€ï¼‰- ç®¡ç†é¡µé¢ç¼“å­˜ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211218-sqlite-btree-2-concurrency-control/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäºŒï¼‰- å¹¶å‘æ§åˆ¶æ¡†æ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211222-sqlite-btree-3-journal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸‰ï¼‰- journalæ–‡ä»¶å¤‡ä»½æœºåˆ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h1&gt;

&lt;p&gt;å‰é¢çš„å†…å®¹é‡Œï¼Œè¯¦ç»†ä»‹ç»äº†é¡µé¢ç®¡ç†å™¨éƒ¨åˆ†çš„å†…å®¹ï¼Œå›é¡¾ä¸€ä¸‹é¡µé¢ç®¡ç†å™¨å’ŒBtreeæ¨¡å—çš„åˆ†å·¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é¡µé¢ç®¡ç†å™¨ï¼šæä¾›é¡µé¢çº§åˆ«çš„ç‰©ç†ç®¡ç†ï¼Œå¦‚ç¼“å­˜ã€è¯»å–ã€å†™å…¥ã€é¡µé¢å¤‡ä»½ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Btreeï¼šæ ¹æ®btreeæ•°æ®ç»“æ„æä¾›é¡µé¢åœ¨é€»è¾‘ä¸Šçš„ç»„ç»‡ï¼Œä»¥åŠå•ä¸ªé¡µé¢å†…çš„åˆ’åˆ†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿˜è®°å¾—æœ€å¼€å§‹ï¼Œç ”ç©¶ç”Ÿäº§çº§åˆ«btreeå®ç°æ—¶çš„å‡ ä¸ªç–‘é—®ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“æ•™ç§‘ä¹¦ä¸­ï¼Œæ¼”ç¤ºbtreeç®—æ³•æ—¶ï¼Œä½¿ç”¨çš„éƒ½æ˜¯å®šé•¿çš„ç®€å•æ•°æ®ã€‚å®é™…åº”ç”¨ä¸­ï¼Œå­˜å‚¨çš„æ•°æ®éƒ½æ˜¯å˜é•¿çš„ï¼Œé‚£ä¹ˆåº”è¯¥å¦‚ä½•å­˜å‚¨å˜é•¿çš„æ•°æ®å‘¢ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€è¡Œæ•°æ®çš„å¤§å°ï¼Œè¶…è¿‡äº†ä¸€ä¸ªç‰©ç†é¡µé¢çš„å¤§å°ï¼Œåˆè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åˆ é™¤ä¸€è¡Œæ•°æ®ä¹‹åï¼Œå®ƒç•™ä¸‹çš„ç©ºé—´å¦‚ä½•å›æ”¶åˆ©ç”¨ï¼Ÿè€Œå›æ”¶åˆ©ç”¨æ—¶ï¼Œä¸å¯é¿å…çš„ä¼šå‡ºç°ç¢ç‰‡çš„é—®é¢˜ï¼Œæ¯”å¦‚åŸå…ˆ10å­—èŠ‚çš„æ•°æ®è¢«å›æ”¶ï¼Œç”¨æ¥å­˜å‚¨9å­—èŠ‚çš„æ•°æ®ï¼Œå¤šå‡ºæ¥çš„1å­—èŠ‚æ•°æ®å°±è¢«æµªè´¹äº†ï¼Œç¢ç‰‡é—®é¢˜åº”è¯¥å¦‚ä½•è§£å†³ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™äº›é—®é¢˜ï¼Œéƒ½ä¸â€œä¸€ä¸ªç‰©ç†é¡µé¢å†…æ•°æ®å¦‚ä½•ç»„ç»‡â€è¿™ä¸ªæ ¸å¿ƒé—®é¢˜æ¯æ¯ç›¸å…³ï¼Œå¸¦ç€è¿™äº›é—®é¢˜å±•å¼€btreeå®ç°çš„è®¨è®ºã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸‹æ–‡ä¸­ï¼Œä¸ä¼šè®¨è®ºbtreeç®—æ³•çš„ç»†èŠ‚ï¼Œè¿™éƒ¨åˆ†ä¸ç†Ÿæ‚‰çš„ï¼Œå¯ä»¥å›çœ‹ä¹‹å‰çš„æ–‡ç« æˆ–è€…æ•™ç§‘ä¹¦ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200609-btree-1/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸Šï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200615-btree-2/&#34;&gt;Bæ ‘ã€B+æ ‘ç´¢å¼•ç®—æ³•åŸç†ï¼ˆä¸‹ï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç‰©ç†é¡µé¢çš„æ•°æ®ç»„ç»‡&#34;&gt;ç‰©ç†é¡µé¢çš„æ•°æ®ç»„ç»‡&lt;/h1&gt;

&lt;h2 id=&#34;æ•°æ®è¡¨çš„é€»è¾‘ç»„ç»‡å’Œé¡µé¢ç±»å‹&#34;&gt;æ•°æ®è¡¨çš„é€»è¾‘ç»„ç»‡å’Œé¡µé¢ç±»å‹&lt;/h2&gt;

&lt;p&gt;åœ¨å±•å¼€å…·ä½“çš„æ ¼å¼è®¨è®ºä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆäº†è§£ä¸€ä¸‹æ•°æ®åº“æ–‡ä»¶çš„å¤§ä½“ç»“æ„ï¼Œå·²ç»ä¸åŒçš„é¡µé¢ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;sqliteä¸­æ‰€è°“çš„&lt;code&gt;æ•°æ®åº“æ–‡ä»¶&lt;/code&gt;æ˜¯å•ä¸€æ–‡ä»¶ï¼ŒæŒ‰ç…§ç‰©ç†é¡µé¢ï¼ˆ2çš„æ¬¡æ–¹ï¼‰çš„å¤§å°æ¥åˆ’åˆ†ä¸ºå¤šä¸ªé¡µé¢ã€‚å…¶ä¸­ï¼Œæ¯ä¸ªè¡¨åœ¨æ•°æ®åº“æ–‡ä»¶ä¸­æ˜¯ä¸€æ£µbtreeçš„ç»“æ„æ¥ç»„ç»‡ï¼Œè€Œä¸åŒç±»å‹çš„btreeè¿˜åŒºåˆ†äº†ä¸åŒçš„é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸‹å›¾ä¸­ï¼Œå°†å¹³é¢çš„æ•°æ®åº“æ–‡ä»¶ï¼ŒæŒ‰ç…§é¢œè‰²åˆ’åˆ†æˆå­˜å‚¨ä¸¤ä¸ªè¡¨çš„btreeï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/database-file.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„ç‰©ç†é¡µé¢ç»„ç»‡å’Œé€»è¾‘é¡µé¢ç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šå›¾ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸ŠåŠéƒ¨åˆ†è¡¨ç¤ºï¼Œåœ¨ç‰©ç†çš„ç»„ç»‡ä¸Šï¼Œä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ä»¥ä¸€ä¸ªç‰©ç†é¡µé¢ä¸ºåŸºæœ¬å•ä½æ¥å­˜å‚¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‹åŠéƒ¨åˆ†è¡¨ç¤ºï¼Œåœ¨é€»è¾‘çš„ç»„ç»‡ä¸Šï¼Œä¸åŒçš„è¡¨éƒ½æœ‰è‡ªå·±çš„btreeæ ‘å½¢ç»“æ„ï¼Œè¿™æ˜¯ç‰©ç†é¡µé¢åœ¨é€»è¾‘ä¸Šçš„ç»„ç»‡æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å› ä¸ºæ¯ä¸ªè¡¨éƒ½æœ‰è‡ªå·±çš„btreeæ ‘å½¢ç»“æ„ï¼Œå¦‚æœæ¯ä¸ªè¡¨éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ ¹é¡µé¢ç¼–å·ï¼Œæ¯”å¦‚å›¾ä¸­çš„ä¸¤ä¸ªè¡¨ï¼Œå¯¹åº”çš„æ ‘å½¢ç»“æ„ä¸­ï¼Œæ ¹èŠ‚ç‚¹æ‰€åœ¨çš„é¡µé¢åˆ†åˆ«æ˜¯1å’Œ2ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ç€æ¥çœ‹ä¸åŒçš„é¡µé¢ç±»å‹ï¼Œä»¥åŠå­˜å‚¨ä¸Šçš„å·®å¼‚ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼Œåˆ›å»ºä»¥ä¸‹çš„æ•°æ®åº“ï¼Œæ’å…¥æ•°æ®ï¼Œä»¥åŠç´¢å¼•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// åˆ›å»ºæ•°æ®åº“COMPANY
CREATE TABLE COMPANY(
   ID             INT      NOT NULL,
   NAME           TEXT    NOT NULL,
   AGE            INT     NOT NULL,
   ADDRESS        CHAR(50),
   SALARY         REAL
);

// åˆ›å»ºç´¢å¼•
CREATE INDEX id_index ON COMPANY (id);

// æ’å…¥2æ¡æ•°æ®
INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY) VALUES (1, &#39;Paul&#39;, 32, &#39;California&#39;, 20000.00 );
INSERT INTO COMPANY (ID,NAME,AGE,ADDRESS,SALARY)
VALUES (2, &#39;Allen&#39;, 25, &#39;Texas&#39;, 15000.00 );

// æŸ¥è¯¢æ•°æ®
sqlite&amp;gt; select * from COMPANY;
1|Paul|32|California|20000.0
2|Allen|25|Texas|15000.0

// æŸ¥è¯¢rowidå’Œæ•°æ®
sqlite&amp;gt; select rowid,* from COMPANY;
1|1|Paul|32|California|20000.0
2|2|Allen|25|Texas|15000.0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„æµç¨‹é‡Œï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªè¡¨&lt;code&gt;COMPANY&lt;/code&gt;ï¼Œæ³¨æ„è¿™ä¸ªè¡¨åœ¨æœ€å¼€å§‹æ˜¯æ²¡æœ‰ä»»ä½•ç´¢å¼•çš„ã€‚&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥ï¼Œä»¥å­—æ®µ&lt;code&gt;id&lt;/code&gt;æ¥åˆ›å»ºä¸€ä¸ªç´¢å¼•ï¼Œæ’å…¥2æ¡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥ï¼Œåˆ†åˆ«ä½œäº†ä¸¤æ¬¡æŸ¥è¯¢ï¼šä¸€æ¬¡æŸ¥è¯¢å…¨é‡çš„æ•°æ®ï¼Œç¬¬äºŒæ¬¡å‡ºç°äº†ä¸€ä¸ªåœ¨ä¸Šé¢æ²¡æœ‰å‡ºç°çš„ä¸€ä¸ªå­—æ®µ&lt;code&gt;rowid&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ°äº†è¿™é‡Œï¼Œé—®é¢˜å°±æ¥äº†ï¼Œ&lt;code&gt;rowid&lt;/code&gt;æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šè‡ªåŠ¨å­˜åœ¨è¿™ä¸ªå­—æ®µï¼Œèµ·äº†ä»€ä¹ˆä½œç”¨ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;code&gt;rowid&lt;/code&gt;æ˜¯sqliteä¸­çš„ä¸€ä¸ªéšè—åˆ—ï¼šæ•´æ•°ç±»å‹ï¼Œè‡ªå¢ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªéšè—åˆ—ï¼Ÿæœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä»¥&lt;code&gt;rowid&lt;/code&gt;ä¸ºé”®ï¼Œæ¥å­˜å‚¨ä¸€è¡Œæ•°æ®çš„å…¨é‡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰äº†&lt;code&gt;rowid&lt;/code&gt;åšä¸ºä¸€è¡Œæ•°æ®çš„é”®ï¼Œå…¶å®ƒç´¢å¼•å­˜å‚¨çš„å€¼å°±å¯ä»¥æ˜¯è¿™è¡Œæ•°æ®çš„&lt;code&gt;rowid&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å³ï¼š&lt;code&gt;rowid&lt;/code&gt;åœ¨sqliteä¸­æ˜¯åšä¸º&lt;code&gt;èšç°‡ç´¢å¼•ï¼ˆcluster indexï¼‰&lt;/code&gt;å‡ºç°çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸Šé¢ä¸ºä¾‹ï¼Œåœ¨sqliteçš„btreeä¸­å¤§ä½“å°±æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/btree-rowid.png&#34; alt=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; title=&#34;æ•°æ®åº“æ–‡ä»¶çš„rowidå…¨é‡æ•°æ®è¡¨å’Œç´¢å¼•è¡¨&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šå›¾ä¸­å­˜åœ¨ä¸¤ä¸ªè¡¨ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä»¥&lt;code&gt;rowid&lt;/code&gt;ä¸ºé”®çš„å…¨é‡æ•°æ®è¡¨ï¼Œåœ¨sqliteä¸­å­˜å‚¨è¿™ç±»å‹æ•°æ®çš„btreeè¢«ç§°ä¸ºâ€œtable treeâ€ã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨idç´¢å¼•çš„ç´¢å¼•è¡¨ï¼Œè¿™ç±»btreeè¢«ç§°ä¸ºâ€œindex treeâ€ï¼Œå› æ­¤å­˜å‚¨çš„æ˜¯ç´¢å¼•æ•°æ®ã€‚è¿™ä¸ªè¡¨çš„é”®æ˜¯&lt;code&gt;id&lt;/code&gt;ï¼Œè€Œå€¼æ˜¯&lt;code&gt;rowid&lt;/code&gt;ï¼Œè¿™æ ·æ ¹æ®&lt;code&gt;id&lt;/code&gt;ç´¢å¼•æ¥æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå…¶å®å°±æ˜¯ä¸¤æ­¥ï¼š

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œæ ¹æ®&lt;code&gt;id&lt;/code&gt;æ‰¾åˆ°å¯¹åº”çš„&lt;code&gt;rowid&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å†æ ¹æ®&lt;code&gt;rowid&lt;/code&gt;åˆ°å…¨é‡æ•°æ®è¡¨é‡ŒæŸ¥è¯¢å…·ä½“çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»ä¸Šé¢çš„è¿™ä¸ªä¾‹å­é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œâ€œé€»è¾‘æ„ä¹‰â€ä¸Šçš„ä¸€ä¸ªæ•°æ®è¡¨ï¼Œä¸å®é™…å­˜å‚¨æ—¶åœ¨btreeä¸­çš„è¡¨å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œç”±äºç´¢å¼•è¡¨çš„å­˜åœ¨ï¼Œå¯èƒ½æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†å‰é¢çš„å¯¹&lt;code&gt;rowid&lt;/code&gt;ä»¥åŠç´¢å¼•è¡¨ã€å…¨é‡æ•°æ®è¡¨çš„ç†è§£ï¼Œå°±å¯ä»¥å±•å¼€è®¨è®ºä¸åŒçš„é¡µé¢ç±»å‹äº†ã€‚&lt;/p&gt;

&lt;p&gt;sqliteä¸­åˆ†ä¸ºå‡ ç±»é¡µé¢ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä»¥æ•´æ•°ä¸ºé”®çš„é¡µé¢ï¼šè¿™ç±»é¡µé¢æ˜¯ä»¥&lt;code&gt;b+tree&lt;/code&gt;æ¨¡å¼æ¥ç»„ç»‡çš„ã€‚å³ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å†…éƒ¨èŠ‚ç‚¹éƒ½åªæœ‰é”®ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®éƒ¨åˆ†éƒ½å­˜å‚¨åœ¨å¶å­é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ˜¾ç„¶ï¼Œå…¨é‡æ•°æ®è¡¨çš„é¡µé¢å°±æ˜¯è¿™ç±»é¡µé¢ï¼Œå³å…¨é‡æ•°æ®è¡¨æ›´å‡†ç¡®çš„æ˜¯&lt;code&gt;b+tree&lt;/code&gt;ç»“æ„ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å…¶ä»–ç±»å‹çš„é¡µé¢ï¼šå…¶ä»–è¡¨éƒ½æ˜¯ä»¥æ•´æ•°ä¸ºå€¼ï¼Œè¿™ç±»å‹çš„é¡µé¢éƒ½æ˜¯&lt;code&gt;btree&lt;/code&gt;ç±»å‹ï¼Œå³å†…éƒ¨èŠ‚ç‚¹ã€å¶å­èŠ‚ç‚¹éƒ½ä¸€æ ·å­˜å‚¨ç€é”®å’Œå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸ºäº†è¡¨ç¤ºè¿™äº›é¡µé¢ï¼Œæœ‰å¦‚ä¸‹å‡ ç§é¡µé¢æ ‡å¿—ä½ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/*
** Page type flags.  An ORed combination of these flags appear as the
** first byte of on-disk image of every BTree page.
*/
#define PTF_INTKEY    0x01
#define PTF_ZERODATA  0x02
#define PTF_LEAFDATA  0x04
#define PTF_LEAF      0x08
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;PTF_INTKEYï¼ˆ1ï¼‰ï¼šè¡¨ç¤ºkeyä¸ºintç±»å‹æ•°æ®ï¼Œä¸€èˆ¬æ˜¯rowidï¼Œå³å‰é¢çš„&lt;code&gt;å…¨é‡æ•°æ®è¡¨&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;PTF_ZERODATAï¼ˆ2ï¼‰ï¼šè¡¨ç¤ºè¿™æ˜¯ç´¢å¼•è¡¨çš„é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;PTF_LEAFDATAï¼ˆ4ï¼‰ï¼šæ•°æ®å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ ‡å¿—ä½è¦å’ŒPTF_INTKEYä¸€èµ·ä½œç”¨ã€‚å³ï¼škeyä¸ºintç±»å‹æ•°æ®çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§é¡µé¢ï¼šä¸€ç§åªå­˜å‚¨intç±»å‹çš„keyï¼Œä¸€ç§åªå­˜å‚¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;PTF_LEAFï¼ˆ8ï¼‰ï¼šä»…ç”¨äºè¡¨ç¤ºè¯¥é¡µé¢æ˜¯å¦å¶å­é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é¡µé¢æ ‡å¿—ä½åªå¯èƒ½æ˜¯ä»¥ä¸‹å‡ ç§ç»„åˆï¼Œå…¶ä½™ç»„åˆéƒ½è®¤ä¸ºæ–‡ä»¶æŸåäº†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;PTF_ZERODATAï¼šè¡¨ç¤ºè¿™æ˜¯ç´¢å¼•è¡¨çš„å†…éƒ¨é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;PTF_ZERODATA | PTF_LEAFï¼šè¡¨ç¤ºè¿™æ˜¯ç´¢å¼•è¡¨çš„å¶å­é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;PTF_LEAFDATA | PTF_INTKEYï¼šè¡¨ç¤ºæ•°æ®è¡¨çš„å†…éƒ¨é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;PTF_LEAFDATA | PTF_INTKEY | PTF_LEAFï¼šè¡¨ç¤ºæ•°æ®è¡¨çš„å¶å­é¡µé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¯´æ˜ï¼Œå…¶å®ä»¥ä¸Šå°±æ˜¯åˆ†æˆäº†ä¸¤ç»„&lt;code&gt;PTF_ZERODATA&lt;/code&gt;å’Œ&lt;code&gt;PTF_LEAFDATA | PTF_INTKEY&lt;/code&gt;ä¸&lt;code&gt;PTF_LEAF&lt;/code&gt;çš„ç»„åˆï¼ˆè§å‡½æ•°&lt;code&gt;decodeFlags&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;PTF_ZERODATAï¼šè‚¯å®šæ²¡æœ‰æ•°æ®ï¼ˆ&lt;code&gt;hasData&lt;/code&gt;ä¸€å®šä¸º0ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;PTF_LEAFDATA | PTF_INTKEYï¼šæ˜¯å¦æœ‰æ•°æ®ï¼Œå–å†³äºæ˜¯å¦æœ‰&lt;code&gt;PTF_LEAF&lt;/code&gt;æ ‡å¿—ä½ï¼ˆ&lt;code&gt;hasData&lt;/code&gt;å–å†³äºleaf ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ç‰©ç†é¡µé¢çš„å¤§ä½“åˆ’åˆ†&#34;&gt;ç‰©ç†é¡µé¢çš„å¤§ä½“åˆ’åˆ†&lt;/h2&gt;

&lt;p&gt;æ¥çœ‹çœ‹sqliteä»£ç ä¸­&lt;code&gt;btreeInt.h&lt;/code&gt;æ–‡ä»¶é‡Œå¯¹btreeä¸€ä¸ªç‰©ç†é¡µé¢å†…æ•°æ®ç»„ç»‡çš„æ³¨é‡Šï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;** Each btree pages is divided into three sections:  The header, the
** cell pointer array, and the cell content area.  Page 1 also has a 100-byte
** file header that occurs before the page header.
**
**      |----------------|
**      | file header    |   100 bytes.  Page 1 only.
**      |----------------|
**      | page header    |   8 bytes for leaves.  12 bytes for interior nodes
**      |----------------|
**      | cell pointer   |   |  2 bytes per cell.  Sorted order.
**      | array          |   |  Grows downward
**      |                |   v
**      |----------------|
**      | unallocated    |
**      | space          |
**      |----------------|   ^  Grows upwards
**      | cell content   |   |  Arbitrary order interspersed with freeblocks.
**      | area           |   |  and free space fragments.
**      |----------------|
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/page-format.png&#34; alt=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; title=&#34;é¡µé¢å†…æ•°ç»„çš„ç»„ç»‡&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;æŒ‰ç…§è¿™é‡Œçš„è¯´æ³•ï¼Œä¸€ä¸ªç‰©ç†é¡µé¢åœ¨btreeä¸­åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ–‡ä»¶å¤´ï¼ˆfile headerï¼‰ï¼š100å­—èŠ‚ï¼Œä½†æ˜¯åªæœ‰ç¬¬ä¸€ä¸ªé¡µé¢æ‰ä¼šå­˜åœ¨æ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢å¤´ï¼ˆpage headerï¼‰ï¼šæ¯ä¸ªé¡µé¢éƒ½ä¼šæœ‰é¡µé¢å¤´ï¼Œæ ¹æ®é¡µé¢çš„ç±»å‹åŒºåˆ†ï¼Œå¦‚æœæ˜¯å¶å­é¡µé¢å°±æ˜¯8å­—èŠ‚å¤§å°ï¼Œå¦‚æœæ˜¯å†…éƒ¨èŠ‚ç‚¹å°±æ˜¯12å­—èŠ‚å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;å­˜å‚¨cellæŒ‡é’ˆçš„æ•°ç»„ï¼ˆcell pointer arrayï¼‰ï¼šæ¯ä¸ªcellæŒ‡é’ˆå¤§å°ä¸º2å­—èŠ‚ï¼ŒæŒ‰ç…§å­˜å‚¨çš„cellåœ°å€å¤§å°æ’åºï¼Œè¿™ä¸ªæ•°ç»„ä¸å®šé•¿ï¼Œå› æ­¤æ˜¯ä»ä½ä½å¾€é«˜ä½åœ°å€å¢é•¿çš„ã€‚è‡³äºä»€ä¹ˆæ˜¯&lt;code&gt;cell&lt;/code&gt;ï¼Œåé¢å±•å¼€è¯´ã€‚&lt;/li&gt;
&lt;li&gt;cellå†…å®¹ç©ºé—´ï¼ˆcell content areaï¼‰ï¼šå­˜å‚¨cellæ•°æ®çš„ç©ºé—´ï¼Œä»ä¸€ä¸ªç‰©ç†é¡µé¢çš„æœ€é«˜ä½ç½®å¾€ä½ä½å¢é•¿ã€‚&lt;/li&gt;
&lt;li&gt;æœªåˆ†é…ç©ºé—´ï¼ˆunallocated spaceï¼‰ï¼šä¸Šé¢ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€éƒ¨åˆ†ä»ä»é«˜å¾€ä½å¢é•¿ï¼Œå¦ä¸€éƒ¨åˆ†åä¹‹ï¼Œè€Œæœªåˆ†é…ç©ºé—´å°±å¤¹åœ¨è¿™ä¸¤è€…ä¸­é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æœ‰äº†è¿™é‡Œå¤§ä½“çš„åˆ’åˆ†ï¼Œæˆ‘ä»¬æ¥å±•å¼€çœ‹çœ‹å…·ä½“çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;file-header-æ–‡ä»¶å¤´&#34;&gt;file headerï¼ˆæ–‡ä»¶å¤´ï¼‰&lt;/h2&gt;

&lt;p&gt;å…¶ä¸­ï¼Œfile headeréƒ¨åˆ†åªæœ‰ç¬¬ä¸€é¡µæ‰æœ‰ï¼Œå›ºå®šé•¿åº¦100å­—èŠ‚ï¼Œå­˜å‚¨æ•´ä¸ªæ•°æ®åº“æ–‡ä»¶çš„å…ƒä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;é¡µé¢1æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é¡µé¢ï¼Œå…¶å‰100ä¸ªå­—èŠ‚æ˜¯æ•´ä¸ªæ•°æ®åº“çš„headeréƒ¨åˆ†ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;**   OFFSET   SIZE    DESCRIPTION
**      0      16     Header string: &amp;quot;SQLite format 3\000&amp;quot;
**     16       2     Page size in bytes.  
**     18       1     File format write version
**     19       1     File format read version
**     20       1     Bytes of unused space at the end of each page
**     21       1     Max embedded payload fraction
**     22       1     Min embedded payload fraction
**     23       1     Min leaf payload fraction
**     24       4     File change counter
**     28       4     Reserved for future use
**     32       4     First freelist page
**     36       4     Number of freelist pages in the file
**     40      60     15 4-byte meta values passed to higher layers
**
** All of the integer values are big-endian (most significant byte first).
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€ä¸ªè§£æè¿™ä¸ªheaderé‡Œçš„å†…å®¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-16å­—èŠ‚ï¼šmagic stringã€‚&lt;/li&gt;
&lt;li&gt;16-18å­—èŠ‚ï¼šé¡µé¢å¤§å°ï¼Œä¸èƒ½å°äº512æˆ–è€…å¤§äº32768ï¼ŒåŒæ—¶éœ€è¦æ˜¯8ä½å¯¹é½ã€‚&lt;/li&gt;
&lt;li&gt;18-19ï¼šå¤§äº1è¡¨ç¤ºæ•°æ®åº“åªè¯»ã€‚&lt;/li&gt;
&lt;li&gt;19-20ï¼šå¿…é¡»å¤§äº1ã€‚&lt;/li&gt;
&lt;li&gt;20-21ï¼šæ¯ä¸ªé¡µé¢æœ€åæ— ç”¨ç©ºé—´çš„å¤§å°ã€‚å³å¯ç”¨ç©ºé—´=é¡µé¢å¤§å°-æ— ç”¨ç©ºé—´ï¼Œè¿™éƒ¨åˆ†ç©ºé—´ä¸å¾—å°äº500å­—èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;21-23ï¼šå†™æ­»äº†å¿…é¡»æ˜¯&amp;rdquo;\100\040\040&amp;rdquo;ã€‚å…¶ä¸­ï¼š

&lt;ul&gt;
&lt;li&gt;21ï¼šMax embedded payload fractionï¼Œå†™æ­»äº†æ˜¯64ã€‚&lt;/li&gt;
&lt;li&gt;22ï¼šMin embedded payload fractionï¼Œå†™æ­»äº†æ˜¯32ã€‚&lt;/li&gt;
&lt;li&gt;23ï¼šMin leaf payload fraction&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;24-28ï¼šFile change counter&lt;/li&gt;
&lt;li&gt;32-36ï¼šç¬¬ä¸€ä¸ªç©ºé—²é¡µé¢ç¼–å·ã€‚&lt;/li&gt;
&lt;li&gt;36-40ï¼šç©ºé—²é¡µé¢æ•°é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;page-header-é¡µé¢å¤´&#34;&gt;page headerï¼ˆé¡µé¢å¤´ï¼‰&lt;/h2&gt;

&lt;p&gt;é™¤äº†ç¬¬ä¸€é¡µä»¥å¤–ï¼Œå…¶ä»–æƒ…å†µä¸‹é¡µé¢å¤´åœ¨é¡µé¢çš„å¼€å§‹ä½ç½®ï¼ˆå³åç§»é‡ä¸º0å¼€å§‹ï¼‰ï¼Œç¬¬ä¸€é¡µä»åç§»é‡100å¼€å§‹ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;** The page headers looks like this:
**
**   OFFSET   SIZE     DESCRIPTION
**      0       1      Flags. 1: intkey, 2: zerodata, 4: leafdata, 8: leaf
**      1       2      byte offset to the first freeblock
**      3       2      number of cells on this page
**      5       2      first byte of the cell content area
**      7       1      number of fragmented free bytes
**      8       4      Right child (the Ptr(N) value).  Omitted on leaves.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ†æå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-1ï¼šè¡¨ç¤ºé¡µé¢ç±»å‹çš„æ ‡å¿—ä½ï¼Œè‡³äºé¡µé¢çš„ç±»å‹ä¸Šé¢å·²ç»æœ‰é˜è¿°ã€‚&lt;/li&gt;
&lt;li&gt;1-2ï¼šé¦–ä¸ªç©ºé—²blockåœ¨é¡µé¢å†…çš„åç§»é‡ã€‚&lt;/li&gt;
&lt;li&gt;3-5ï¼šcellæ•°ç»„çš„å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;5-7ï¼šcell contentçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;7-8ï¼šç¢ç‰‡ç©ºé—´æ€»å¤§å°ï¼ˆæ³¨æ„ä¸æ˜¯ç©ºé—²ç©ºé—´ï¼‰ï¼Œsqliteä¸­å°†å°äº4å­—èŠ‚çš„ç©ºé—²ç©ºé—´ç§°ä¸º&lt;code&gt;ç¢ç‰‡ç©ºé—´&lt;/code&gt;ï¼Œä¸€æ—¦ç¢ç‰‡ç©ºé—´å¤§å°ç´¯ç§¯åˆ°ä¸€å®šç¨‹åº¦ï¼Œå°±éœ€è¦è¿›è¡Œç¢ç‰‡æ•´ç†ï¼Œè¿™åœ¨ä¸‹é¢å±•å¼€è¯´æ˜ã€‚&lt;/li&gt;
&lt;li&gt;8-12ï¼ˆå¶å­é¡µé¢æ²¡æœ‰è¿™éƒ¨åˆ†å†…å®¹ï¼‰ï¼šå³å­æ ‘é¡µé¢çš„é¡µé¢ç¼–å·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é‡ç‚¹è§£é‡Šå…¶ä¸­çš„å‡ éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;h3 id=&#34;cellæ•°ç»„&#34;&gt;cellæ•°ç»„&lt;/h3&gt;

&lt;p&gt;cellæ•°ç»„ä¸­ï¼Œæ¯ä¸ªå…ƒç´ å¤§å°ä¸º2å­—èŠ‚ï¼ŒæŒ‡å‘å¯¹åº”cellå†…å®¹åœ¨é¡µé¢ä¸­çš„ä½ç½®ã€‚ç”±äºä¸€ä¸ªé¡µé¢ä¸ä¼šè¶…è¿‡65535å­—èŠ‚å¤§å°ï¼Œæ‰€ä»¥2å­—èŠ‚æ˜¯è¶³å¤Ÿè¡¨ç¤ºè¿™ä¸ªé¡µé¢å†…çš„åç§»é‡çš„ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œcellæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ˜¯æŒ‰ç…§keyçš„å¤§å°æœ‰å°åˆ°å¤§æŒ‰é¡ºåºæ’åˆ—çš„ï¼Œè¿™æ ·æ‰èƒ½æ–¹ä¾¿æŸ¥æ‰¾ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†å¯¹ç‰©ç†é¡µé¢å†…æ•°æ®ç»„ç»‡çš„äº†è§£ï¼Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥æ‰¾æ•°æ®æ—¶ï¼Œé¦–å…ˆæŒ‰ç…§æŒ‰ç…§btreeçš„ç®—æ³•ï¼Œå®šä½åˆ°æ•°æ®æ‰€åœ¨çš„é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;å†åœ¨é¡µé¢å†…çš„cellæ•°ç»„ä¸­ï¼Œæ ¹æ®keyå¤§å°è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/find-key.png&#34; alt=&#34;æŸ¥æ‰¾keyçš„æµç¨‹&#34; title=&#34;æŸ¥æ‰¾keyçš„æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h3 id=&#34;ç©ºé—²ç©ºé—´é“¾è¡¨&#34;&gt;ç©ºé—²ç©ºé—´é“¾è¡¨&lt;/h3&gt;

&lt;p&gt;æ‰€è°“çš„â€œç©ºé—²ç©ºé—´â€ï¼Œå°±æ˜¯å¤¹åœ¨&lt;code&gt;cellæ•°ç»„&lt;/code&gt;å’Œ&lt;code&gt;cellå†…å®¹æ•°ç»„&lt;/code&gt;ä¸­é—´çš„éƒ¨åˆ†ï¼Œæœ€å¼€å§‹æ˜¯ä¸€å¤§æ•´å—çš„ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯éšç€å†™å…¥æ“ä½œè¿›è¡Œï¼Œæ¯”å¦‚ä¸€è¡Œæ•°æ®è¢«åˆ é™¤ä¹‹åï¼Œå›æ”¶çš„ç©ºé—´å°±ä¼šæ”¾åˆ°ç©ºé—²ç©ºé—´é“¾è¡¨ä¸Šã€‚ç©ºé—²ç©ºé—´é“¾è¡¨å°±æ˜¯ç”¨æ¥ç»„ç»‡ç°åœ¨ç©ºé—²ç©ºé—´çš„æ•°æ®çš„ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸º4å­—èŠ‚ï¼Œå…¶å†…å®¹æ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    **    SIZE    DESCRIPTION
    **      2     Byte offset of the next freeblock
    **      2     Bytes in this freeblock
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-2å­—èŠ‚ï¼šä¸‹ä¸€å—ç©ºé—²ç©ºé—´é“¾è¡¨çš„é¡µå†…åç§»é‡ã€‚&lt;/li&gt;
&lt;li&gt;3-4å­—èŠ‚ï¼šå½“å‰è¿™å—ç©ºé—²ç©ºé—´çš„å¤§å°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦å¤–ï¼Œç©ºé—²ç©ºé—´é“¾è¡¨æ˜¯æŒ‰ç…§èµ·å§‹åœ°å€é€’å¢è¿›è¡Œæ’åºçš„ï¼Œè¿™æ ·æ‰èƒ½åœ¨ä»ç©ºé—²ç©ºé—´ä¸­åˆ†é…ç©ºé—´æ—¶é«˜æ•ˆæŸ¥æ‰¾æœ€åˆé€‚çš„ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/freelist.png&#34; alt=&#34;ç©ºé—²åŒºé“¾è¡¨&#34; title=&#34;ç©ºé—²åŒºé“¾è¡¨&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h3 id=&#34;ç¢ç‰‡ç©ºé—´æ€»å¤§å°&#34;&gt;ç¢ç‰‡ç©ºé—´æ€»å¤§å°&lt;/h3&gt;

&lt;p&gt;å¦‚å‰æ‰€è¿°ï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºé—²ç©ºé—´è‡³å°‘éœ€è¦4å­—èŠ‚ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªç©ºé—²ç©ºé—´ä¸è¶³4å­—èŠ‚æ—¶ï¼Œæ˜¾ç„¶æ˜¯ä¸åˆ’ç®—çš„ã€‚æ‰€ä»¥ï¼Œå°†æ‰€æœ‰ç©ºé—²çš„ã€ä¸”å°äº4å­—èŠ‚çš„ç©ºé—´ï¼Œç§°ä¸ºâ€œç¢ç‰‡ç©ºé—´â€ï¼Œå…¶æ€»å¤§å°è®°å½•åœ¨å¤´çš„7-8å­—èŠ‚å¤„ï¼Œå½“è¿™ä¸ªå€¼è¶…è¿‡æŸä¸ªé˜ˆå€¼æ—¶å°†è¿›è¡Œé¡µé¢ç¢ç‰‡ç©ºé—´æ•´ç†ã€‚&lt;/p&gt;

&lt;h3 id=&#34;é¡µé¢æ ‡å¿—ä½&#34;&gt;é¡µé¢æ ‡å¿—ä½&lt;/h3&gt;

&lt;p&gt;è§å‰é¢&lt;code&gt;é¡µé¢ç±»å‹&lt;/code&gt;éƒ¨åˆ†çš„è§£é‡Šã€‚&lt;/p&gt;

&lt;h2 id=&#34;cellçš„ç»“æ„&#34;&gt;cellçš„ç»“æ„&lt;/h2&gt;

&lt;p&gt;ä¸€ä¸ª&lt;code&gt;cell&lt;/code&gt;ï¼Œå°±æ˜¯å­˜å‚¨ä¸€è¡Œæ•°æ®çš„å•ä½ï¼Œç”±äºè¦è€ƒè™‘ä¸€è¡Œæ•°æ®æœ‰ä¸åŒçš„é•¿åº¦ï¼Œå› æ­¤&lt;code&gt;cell&lt;/code&gt;é‡Œé¢å°±è¦æœ‰åº”å¯¹å˜é•¿æ•°æ®çš„å‡†å¤‡ï¼Œæ¥çœ‹&lt;code&gt;cell&lt;/code&gt;çš„ç»“æ„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;** The content of a cell looks like this:
**
**    SIZE    DESCRIPTION
**      4     Page number of the left child. Omitted if leaf flag is set.
**     var    Number of bytes of data. Omitted if the zerodata flag is set.
**     var    Number of bytes of key. Or the key itself if intkey flag is set.
**      *     Payload
**      4     First page of the overflow chain.  Omitted if no overflow
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€ä¸ªè§£é‡Šï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-4ï¼šå·¦å­æ ‘çš„é¡µé¢ç¼–å·ï¼ˆå¦‚æœæ˜¯å¶å­é¡µé¢è¿™éƒ¨åˆ†æ²¡æœ‰ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å˜é•¿ï¼šæ•°æ®éƒ¨åˆ†çš„å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;å˜é•¿ï¼škeyéƒ¨åˆ†çš„å¤§å°ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªé¡µé¢æ˜¯&lt;code&gt;intkey&lt;/code&gt;é¡µé¢ï¼Œè¿™éƒ¨åˆ†ç›´æ¥ç”¨æ¥ä¿å­˜intç±»å‹çš„keyï¼Œå³è¿™ç§æƒ…å†µä¸‹intç±»å‹keyä¸ä¼šå‡ºç°åœ¨åé¢çš„payloadéƒ¨åˆ†ï¼Œè€Œæ˜¯ç›´æ¥å­˜åœ¨åœ¨keyéƒ¨åˆ†å¤§å°çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;li&gt;å˜é•¿ï¼špayloadã€‚&lt;/li&gt;
&lt;li&gt;4å­—èŠ‚ï¼šå¦‚æœå­˜åœ¨overflowé¡µé¢çš„è¯ï¼Œè¿™é‡Œå­˜å‚¨ç¬¬ä¸€ä¸ªoverflowé¡µé¢çš„é¡µé¢ç¼–å·ï¼Œä½•ä¸ºæº¢å‡ºé¡µé¢ä¸‹é¢å†åšè§£é‡Šã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å› ä¸ºå¶å­é¡µé¢æ²¡æœ‰å·¦å­æ ‘ï¼Œæ‰€ä»¥ä¸éœ€è¦å­˜å‚¨&lt;code&gt;å·¦å­æ ‘é¡µé¢ç¼–å·&lt;/code&gt;ï¼Œå› ä¸ºå¦‚æœæ˜¯å¶å­é¡µé¢çš„è¯ï¼Œé¡µé¢å¤´çš„å¤§å°å°±åªæœ‰8å­—èŠ‚ï¼Œåä¹‹å¦‚æœæ˜¯å†…éƒ¨èŠ‚ç‚¹å°±éœ€è¦12å­—èŠ‚ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/cell-content-format.png&#34; alt=&#34;cellç»“æ„&#34; title=&#34;cellç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä¸­ï¼Œæ ¹æ®è¡¨ç±»å‹çš„ä¸åŒï¼Œkeyã€dataã€payloadéƒ¨åˆ†çš„å¤§å°å…³ç³»å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;intç±»å‹çš„keyï¼ˆå³table treeï¼‰ï¼šnPayload ä¸ nDataæ’ç›¸ç­‰ï¼Œå› ä¸ºintç±»å‹çš„è¡¨ï¼Œç”±äºkeyå°±æ˜¯ä¸€ä¸ªæ•´å‹æ•°ï¼Œæ‰€ä»¥ä¸æµªè´¹ç©ºé—´å­˜å‚¨è¿™ä¸ªæ•´å‹æ•°çš„å€¼ï¼Œè€Œæ˜¯ç›´æ¥æ”¾åœ¨keyå¤§å°éƒ¨åˆ†ã€‚åŒºåˆ†æ˜¯å¦æœ‰æ•°æ®ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ— æ•°æ®ï¼ˆå³å†…éƒ¨èŠ‚ç‚¹ï¼‰ï¼šå› ä¸ºnPayload ä¸ nDataæ’ç›¸ç­‰ï¼Œæ‰€ä»¥è¿™æ—¶å€™nData = nPayload = 0ã€‚ï¼ˆåˆ†æè¿™ç±»å‹é¡µé¢cellæ•°æ®çš„å…¥å£å‡½æ•°æ˜¯&lt;code&gt;btreeParseCellPtrNoPayload&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;æœ‰æ•°æ®ï¼ˆå³å¶å­é¡µé¢ï¼‰ï¼šnData = nPayload = å˜é•¿æ•°æ®çš„å¤§å°ã€‚ï¼ˆåˆ†æè¿™ç±»å‹é¡µé¢cellæ•°æ®çš„å…¥å£å‡½æ•°æ˜¯&lt;code&gt;btreeParseCellPtr&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;éintç±»å‹çš„è¡¨ï¼ˆå³index treeï¼‰ï¼š&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ç§ç±»å‹çš„é¡µé¢ï¼Œè‚¯å®šæ²¡æœ‰æ•°æ®éƒ¨åˆ†ï¼Œåªæœ‰keyéƒ¨åˆ†ï¼Œæ‰€ä»¥è¿™æ—¶å€™nPayload = nKeyã€‚ï¼ˆåˆ†æè¿™ç±»å‹é¡µé¢cellæ•°æ®çš„å…¥å£å‡½æ•°æ˜¯&lt;code&gt;btreeParseCellPtrIndex&lt;/code&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆéintç±»å‹çš„è¡¨ï¼Œä¼šæ²¡æœ‰æ•°æ®éƒ¨åˆ†ï¼Ÿè¿™æ˜¯å› ä¸ºï¼Œå®Œæ•´çš„æ•°æ®ï¼Œéƒ½ä»¥rowidä¸ºkeyçš„æƒ…å†µï¼Œå­˜å‚¨åœ¨äº†intç±»å‹çš„è¡¨ä¸­ï¼›è€Œéintç±»å‹çš„è¡¨ï¼Œåªè¦å­˜å‚¨è¿™ä¸ªè¡¨çš„é”®å€¼æ•´æ•°å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;è€Œæº¢å‡ºé¡µé¢çš„ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;** Overflow pages form a linked list.  Each page except the last is completely
** filled with data (pagesize - 4 bytes).  The last page can have as little
** as 1 byte of data.
**
**    SIZE    DESCRIPTION
**      4     Page number of next overflow page
**      *     Data
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å³ï¼šå¯¹äºå­˜å‚¨æº¢å‡ºæ•°æ®çš„é¡µé¢è€Œè¨€ï¼Œå¤´éƒ¨çš„4å­—èŠ‚å­˜å‚¨ä¸‹ä¸€ä¸ªæº¢å‡ºé¡µé¢çš„é¡µé¢ç¼–å·ï¼ˆå¦‚æœè¿˜æœ‰æº¢å‡ºé¡µé¢çš„è¯ï¼‰ï¼Œè€Œå‰©ä½™åˆ™å­˜å‚¨æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;ç»“åˆèµ·æ¥ï¼Œä¸€ä¸ªå­˜å‚¨äº†æº¢å‡ºæ•°æ®ï¼ˆå³å½“å‰é¡µé¢ä¸è¶³ä»¥å­˜å‚¨è¿™ä¸ªcellçš„æ‰€æœ‰æ•°æ®ï¼‰çš„ç»“æ„å¤§ä½“æ˜¯ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/cell-overflow.png&#34; alt=&#34;æœ‰æº¢å‡ºé¡µé¢çš„cellç»“æ„&#34; title=&#34;æœ‰æº¢å‡ºé¡µé¢çš„cellç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h1 id=&#34;ç©ºé—´åˆ©ç”¨å’Œç¢ç‰‡æ•´ç†&#34;&gt;ç©ºé—´åˆ©ç”¨å’Œç¢ç‰‡æ•´ç†&lt;/h1&gt;

&lt;p&gt;äº†è§£äº†ä¸€ä¸ªç‰©ç†é¡µé¢å†…éƒ¨çš„ç»“æ„ï¼Œæ¥ä¸‹æ¥çœ‹ç¢ç‰‡æ•´ç†çš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;è™½ç„¶æœ‰ç©ºé—²é“¾è¡¨ç”¨äºç»„ç»‡å·²è¢«å›æ”¶çš„ç©ºé—´ï¼Œä½†æ˜¯éšç€åˆ†é…çš„è¿›è¡Œï¼Œè¿˜æ˜¯ä¼šäº§ç”Ÿå„ç§å¤§å°çš„ç¢ç‰‡ã€‚å¯èƒ½ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼šè™½ç„¶ç©ºé—²ç©ºé—´çš„æ€»å¤§å°å¤Ÿç”¨ï¼Œä½†æ˜¯ç”±äºæ•£è½åœ¨å„å—ç¢ç‰‡ç©ºé—´é‡Œï¼Œä»¥è‡³äºæ— æ³•åˆ†é…æˆåŠŸã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œå°±éœ€è¦&lt;code&gt;ç¢ç‰‡æ•´ç†&lt;/code&gt;æµç¨‹ï¼Œè¿™ä¸ªæµç¨‹åšå®Œä¹‹åï¼Œè¦è¾¾åˆ°è¿™æ ·çš„ç›®çš„ï¼šç©ºé—²é“¾è¡¨ä¸Šåªæœ‰ä¸€å—å¤§çš„æ•´ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;æ¥çœ‹çœ‹&lt;code&gt;ç¢ç‰‡æ•´ç†&lt;/code&gt;çš„è§¦å‘æ¡ä»¶å’Œè¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ç¢ç‰‡æ•´ç†çš„è§¦å‘æ¡ä»¶&#34;&gt;ç¢ç‰‡æ•´ç†çš„è§¦å‘æ¡ä»¶&lt;/h2&gt;

&lt;p&gt;åˆ†é…ç©ºé—´çš„å…¥å£å‡½æ•°æ˜¯&lt;code&gt;allocateSpace&lt;/code&gt;ï¼Œå…¶å…¥å‚&lt;code&gt;nByte&lt;/code&gt;è¡¨ç¤ºéœ€è¦ä»é¡µé¢ä¸­åˆ†é…å¤§å°ä¸º&lt;code&gt;nByte&lt;/code&gt;çš„ç©ºé—´è¿”å›ã€‚è¿›å…¥è¿™ä¸ªå‡½æ•°æ—¶ï¼Œéƒ½ä¼šé¦–å…ˆåˆ¤æ–­ï¼šé¡µé¢å‰©ä½™çš„ç©ºé—²ç©ºé—´æ˜¯è¶³å¤Ÿæ»¡è¶³&lt;code&gt;nByte&lt;/code&gt;çš„ï¼Œä½†æ˜¯å³ä¾¿å¦‚æ­¤ä¹Ÿå¯èƒ½ç”±äºç¢ç‰‡å¤ªå¤šå¯¼è‡´ä¸èƒ½å†åˆ†é…äº†ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªå‡½æ•°çš„å¤§ä½“é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å°è¯•åœ¨ç©ºé—²é“¾è¡¨ä¸­æ‰¾åˆ°åˆé€‚çš„ç©ºé—´åˆ†é…ã€‚ï¼ˆå‡½æ•°&lt;code&gt;pageFindSlot&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸Šé¢åˆ†é…ä¸æˆåŠŸï¼Œä¸”å½“å‰ç”šè‡³åœ¨cellæŒ‡é’ˆæ•°ç»„ä¸­éƒ½åˆ†é…ä¸å‡º2å­—èŠ‚æ¥å­˜å‚¨æ–°åˆ†é…å‡ºæ¥çš„cellåœ°å€ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œç¢ç‰‡æ•´ç†ã€‚ï¼ˆå‡½æ•°&lt;code&gt;defragmentPage&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ç¢ç‰‡æ•´ç†ç»“æŸä¹‹åï¼Œåˆ’å‡ºè¶³å¤Ÿçš„ç©ºé—´ï¼ˆ2å­—èŠ‚çš„cellæŒ‡é’ˆ+å¯¹åº”å¤§å°çš„cellå¤§å°ï¼‰è¿”å›ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œåˆ†åˆ«æ¥çœ‹ä¸Šé¢ä¸¤ä¸ªæ¡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæ¥çœ‹ä»€ä¹ˆæƒ…å†µä¸‹åœ¨ç©ºé—²é“¾è¡¨ä¸­åˆ†é…ä¸å‡ºé€‚åˆçš„ç©ºé—´ï¼Œå…¥å£å‡½æ•°æ˜¯&lt;code&gt;pageFindSlot&lt;/code&gt;ï¼Œæœ‰ä¸¤ç§å¯èƒ½ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å› ä¸ºç©ºé—²é“¾è¡¨æ˜¯æŒ‰ç…§ç©ºé—²å—å¤§å°ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œå› æ­¤é¦–å…ˆæŒ‰åºæ‰¾åˆ°ç¬¬ä¸€å—æ»¡è¶³&lt;code&gt;nByte&lt;/code&gt;å¤§å°çš„ç©ºé—²å—ï¼Œå‡è®¾è¿™ä¸ªç©ºé—²å—åˆ’æ‰&lt;code&gt;nByte&lt;/code&gt;å¤§å°ä¹‹åä¸º&lt;code&gt;x&lt;/code&gt;ï¼Œè‹¥è¿™ä¸ª&lt;code&gt;x&lt;/code&gt;å°äº4å­—èŠ‚é‚£ä¹ˆè®¤ä¸ºæ˜¯ä¸€ä¸ª&lt;code&gt;ç¢ç‰‡&lt;/code&gt;ï¼Œå‡å¦‚å½“å‰çš„ç¢ç‰‡ç´¯åŠ èµ·æ¥è¶…è¿‡60å­—èŠ‚äº†ï¼Œé‚£ä¹ˆè®¤ä¸ºç¢ç‰‡è¿‡å¤šï¼Œè¿™æ—¶å€™å³ä¾¿èƒ½æ»¡è¶³åˆ†é…ä¹Ÿä¸èƒ½ç»§ç»­åˆ†é…ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è‡³äºä¸ºä»€ä¹ˆå°äº4å­—èŠ‚è®¤ä¸ºæ˜¯ç¢ç‰‡ï¼Œä»¥åŠä¸ºä»€ä¹ˆç¢ç‰‡æ€»å¤§å°è¶…è¿‡60å­—èŠ‚å°±è®¤ä¸ºç¢ç‰‡è¿‡å¤šï¼Œå¯èƒ½æ˜¯ä½œè€…çš„ç»éªŒå€¼ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬äºŒç§æƒ…å†µï¼Œå°±æ˜¯éå†äº†æ•´ä¸ªé“¾è¡¨éƒ½æ²¡æœ‰æ‰¾åˆ°æ»¡è¶³&lt;code&gt;nByte&lt;/code&gt;å¤§å°çš„ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœå½“å‰cellæ•°ç»„ç»“æŸä½ç½®ï¼Œè·ç¦»cellå†…å®¹åŒºåŸŸä¸è¶³2å­—èŠ‚ï¼Œå³æ— æ³•å†åˆ†é…ä¸€ä¸ªcellæŒ‡é’ˆå‡ºæ¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦è¿›è¡Œç¢ç‰‡æ•´ç†äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/defragment.png&#34; alt=&#34;è§¦å‘ç¢ç‰‡æ•´ç†çš„æ¡ä»¶&#34; title=&#34;è§¦å‘ç¢ç‰‡æ•´ç†çš„æ¡ä»¶&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;æ€»ç»“ä¸€ä¸‹è§¦å‘ç¢ç‰‡æ•´ç†çš„æ¡ä»¶ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä»ç©ºé—²é“¾è¡¨ä¸­åˆ†é…ç©ºé—´å¤±è´¥ã€‚&lt;/li&gt;
&lt;li&gt;ä¸”ï¼Œåœ¨&lt;code&gt;cellæŒ‡é’ˆæ•°ç»„&lt;/code&gt;ä»¥åŠ&lt;code&gt;cellå†…å®¹åŒºåŸŸ&lt;/code&gt;çš„ç©ºé—´ï¼Œå·²ç»ä¸è¶³2å­—èŠ‚ï¼Œå³è¿å¯¹åº”çš„cellæŒ‡é’ˆéƒ½æ— æ³•åˆ†é…å‡ºæ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ç¢ç‰‡æ•´ç†çš„æµç¨‹&#34;&gt;ç¢ç‰‡æ•´ç†çš„æµç¨‹&lt;/h2&gt;

&lt;p&gt;ç¢ç‰‡æ•´ç†çš„æµç¨‹ï¼Œå…¶å®ç›¸å¯¹ç®€å•ï¼Œç®€è€Œè¨€ä¹‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æŠŠå„å—cellå†…å®¹ï¼Œå…¨éƒ¨æ•´ç†åˆ°ä»é¡µé¢ç»“å°¾å¼€å§‹çš„ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·ï¼Œå°±èƒ½æŠŠæ•£è½åœ¨å„å¤„çš„ç©ºé—²ç©ºé—´é‡æ–°åˆå¹¶åœ¨ä¸€èµ·å½¢æˆä¸€å¤§å—çš„ç©ºé—²ç©ºé—´äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220201-sqlite-btree-5-btree/defragmentPage.png&#34; alt=&#34;ç¢ç‰‡æ•´ç†å‰å&#34; title=&#34;ç¢ç‰‡æ•´ç†å‰å&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ç¢ç‰‡æ•´ç†çš„æ•´ä½“æµç¨‹åœ¨å‡½æ•°&lt;code&gt;defragmentPage&lt;/code&gt;ä¸­ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œé˜…è¯»ã€‚&lt;/p&gt;

&lt;h1 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;sqliteä¸­åˆ†ä¸ºtable treeï¼ˆå­˜å‚¨å…¨é‡æ•°æ®ï¼‰å’Œindex treeï¼ˆå­˜å‚¨ä»»æ„ç´¢å¼•åˆ°rowidçš„å¯¹åº”å…³ç³»ï¼‰ï¼Œtable treeæœ¬è´¨æ˜¯ä¸€æ£µb+treeï¼Œè€Œindex treeæ˜¯ä¸€æ£µbtreeã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç‰©ç†é¡µé¢å†…éƒ¨ï¼Œæœ‰æ ¹æ®keyå¤§å°æ’åºçš„cellæ•°ç»„ï¼ŒæŸ¥æ‰¾æ•°æ®æ—¶åˆ†ä¸ºä¸¤æ­¥ï¼š

&lt;ul&gt;
&lt;li&gt;é¦–å…ˆæ ¹æ®btreeç®—æ³•å®šä½åˆ°æ•°æ®æ‰€åœ¨çš„ç‰©ç†é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶ååœ¨è¯¥ç‰©ç†é¡µé¢å†…éƒ¨çš„cellæ•°ç»„ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾å®šä½keyçš„ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç‰©ç†é¡µé¢å†…çš„ç©ºé—²ç©ºé—´ä½¿ç”¨é“¾è¡¨ç»´æŠ¤èµ·æ¥ï¼Œå°äº4å­—èŠ‚çš„ç©ºé—²ç©ºé—´è¢«ç§°ä¸ºâ€œç¢ç‰‡ç©ºé—´â€ï¼Œå½“ç¢ç‰‡ç©ºé—´ç´¯è®¡å¤§å°è¶…è¿‡60å­—èŠ‚æ—¶ï¼Œå°±ä¼šè¿›è¡Œç¢ç‰‡æ•´ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://sqlite.org/btreemodule.html&#34;&gt;SQLite B-Tree Module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sqlite.org/fileformat.html&#34;&gt;Database File Format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://barbra-coco.dyndns.org/sqlite/fileformat.html&#34;&gt;SQLite Database File Format&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬3æœŸï¼‰ï¼šä¸€ä¸ªå‰æ¸¸æˆå¼€å‘è€…çœ¼ä¸­çš„æ¸¸æˆåç«¯æŠ€æœ¯</title>
      <link>https://www.codedump.info/post/20220129-weekly-3/</link>
      <pubDate>Sat, 29 Jan 2022 14:21:20 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220129-weekly-3/</guid>
      <description>

&lt;hr /&gt;

&lt;p&gt;å¼•è¨€ï¼šåœ¨æˆ‘ä¹‹å‰çš„å·¥ä½œé‡Œï¼Œå› ä¸ºå„ç§åŸå› ï¼Œæ–­ç»­åœ¨æ¸¸æˆè¡Œä¸šé‡Œæœ‰è¿‡æ€»å…±å¤§æ¦‚å››å¹´å·¦å³çš„ä»ä¸šæ—¶é—´ï¼Œä»Šå¤©æƒ³ä»æˆ‘çš„è§†è§’èŠèŠæ¸¸æˆè¡Œä¸šåç«¯å¼€å‘ç›¸å…³çš„æŠ€æœ¯ï¼Œä¾›é‚£äº›æƒ³åœ¨è¿™ä¸ªè¡Œä¸šä»ä¸šï¼Œå°¤å…¶æ˜¯åç«¯å¼€å‘ä»ä¸šäººå‘˜ä¸€äº›å‚è€ƒã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;ä¸€ä¸ªå‰æ¸¸æˆå¼€å‘è€…çœ¼ä¸­çš„æ¸¸æˆåç«¯æŠ€æœ¯&#34;&gt;ä¸€ä¸ªå‰æ¸¸æˆå¼€å‘è€…çœ¼ä¸­çš„æ¸¸æˆåç«¯æŠ€æœ¯&lt;/h1&gt;

&lt;p&gt;ç”±äºæˆ‘ä»ä¸šçš„æ–¹å‘éƒ½æ˜¯åç«¯å¼€å‘ï¼Œæ‰€ä»¥è¿™é‡Œä»…è°ˆè®ºæ¸¸æˆå¼€å‘åç«¯çš„æŠ€æœ¯ã€‚&lt;/p&gt;

&lt;p&gt;æ¸¸æˆæœ¬è´¨æ˜¯ä¸ªå†…å®¹è¡Œä¸šï¼Œæ‰€ä»¥æ¸¸æˆå¼€å‘æ—¶ç›¸å½“ä¸€éƒ¨åˆ†å·¥ä½œå†…å®¹ï¼Œå°±æ˜¯ä¸åœçš„æ›´æ–°æ–°çš„å†…å®¹å‡ºæ¥ç»™ç©å®¶æ¶ˆè´¹ã€‚è¿™äº›å†…å®¹åŒ…æ‹¬ä½†ä¸é™äºï¼šæ–°çš„è‹±é›„ã€æŠ€èƒ½ã€ç©æ³•ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;è€Œè¦æ”¯æ’‘è¿™äº›ç©æ³•ï¼Œç›¸å½“ä¸€éƒ¨åˆ†æ˜¯ç­–åˆ’çš„é…è¡¨æ•°æ®ï¼Œå³ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¨‹åºå‘˜æŠŠç©æ³•çš„æ¡†æ¶ã€é€»è¾‘æ­å»ºå¥½ï¼Œç•™å‡ºè¯»ç©æ³•æ•°æ®çš„æ¥å£æ¥ã€‚&lt;/li&gt;
&lt;li&gt;ç©æ³•æ•°æ®ç”±è´Ÿè´£è¯¥ç©æ³•çš„ç­–åˆ’æ¥é…è¡¨å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™å…¶å®å°±æ˜¯å¾ˆæœ´ç´ çš„â€œè¡¨é©±åŠ¨â€çš„ç¼–ç¨‹æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæ‰€ä»¥æ¸¸æˆæœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œè¦åŠ è½½ç›¸å½“å¤šçš„æ•°æ®ï¼Œä¸»è¦æœ‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç©å®¶çš„æ•°æ®ï¼ŒåŒ…æ‹¬è´¦å·ã€è§’è‰²ã€å¸®æ´¾ã€é‡‘é’±ç­‰æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;ç©æ³•ç›¸å…³çš„ç­–åˆ’é…è¡¨æ•°æ®ã€‚æ¯”å¦‚ä¸€ä¸ªåœºæ™¯çš„åæ ‡ä½ç½®ã€NPCçš„åæ ‡ä½ç½®ã€ä»»åŠ¡ï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç”±äºéœ€è¦åœ¨å¯åŠ¨çš„æ—¶å€™è¦åŠ è½½å¾ˆå¤šæ•°æ®ï¼Œæ¸¸æˆæœåŠ¡å™¨æ‰èƒ½å®Œæˆåˆå§‹åŒ–ï¼Œæ‰€ä»¥â€œç¼–è¯‘å‹â€è¯­è¨€åœ¨æ¸¸æˆå¼€å‘é‡Œå¹¶ä¸é€‚ç”¨æ¥ç¼–å†™æ¸¸æˆç©æ³•é€»è¾‘ï¼Œè¯•æƒ³ä¸‹é¢çš„å¼€å‘åœºæ™¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç­–åˆ’æå‡ºäº†æ–°çš„ç©æ³•éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘ä½¿ç”¨å¦‚C++è¿™æ ·çš„ç¼–è¯‘å‹è¯­è¨€ç¼–ç å®ç°ç©æ³•ã€‚&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘æ–°ä¿®æ”¹çš„ä»£ç ï¼šè¿™é‡Œé¢æœ‰åŒ…æ‹¬äº†ç¼–è¯‘ã€ä¿®æ”¹ç¼–è¯‘ä¸é€šè¿‡æ—¶å€™çš„æŠ¥é”™ï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;åœæ­¢æœåŠ¡å™¨ï¼Œé‡å¯æœåŠ¡å™¨æ¥éªŒè¯ç©æ³•çš„é€»è¾‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå§‘ä¸”ä¸è®ºå…¶ä»–å› ç´ ï¼Œå•æ˜¯æ¯æ¬¡éªŒè¯ä»£ç ä¿®æ”¹æ—¶éœ€è¦åœæœã€é‡å¯æœåŠ¡å™¨çš„æµç¨‹ï¼Œè€Œé‡å¯æ—¶åˆè¦åŠ è½½ä¸€å †æ•°æ®æ‰èƒ½å®Œæˆåˆå§‹åŒ–ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ä¸¥é‡å½±å“å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;

&lt;p&gt;æ¢è¨€ä¹‹ï¼Œâ€œç¼–è¯‘å‹â€è¯­è¨€å¹¶ä¸é€‚åˆäºç”¨æ¥ç¼–ç åœ¨æ¸¸æˆå¼€å‘é‡Œéœ€è¦ç»å¸¸å˜æ›´çš„ç©æ³•é€»è¾‘ã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯ï¼Œä¸€ç§æ–°çš„å¼€å‘æ¶æ„å‡ºç°äº†ï¼Œè§ä¸‹å›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220129-weekly-3/game-server-arch.png&#34; alt=&#34;æ¸¸æˆåç«¯çš„æ¶æ„åˆ†å±‚&#34; title=&#34;æ¸¸æˆåç«¯çš„æ¶æ„åˆ†å±‚&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å›¾ä¸­ï¼Œå°†æ¸¸æˆæœåŠ¡å™¨æ¶æ„åˆ†ä¸ºäº†ä¸¤å±‚ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¼•æ“å±‚ï¼šè¿™éƒ¨åˆ†ç”±C++ç¼–ç ï¼Œå®ç°äº†æ¸¸æˆå¼€å‘ä¸­ä¸å…·ä½“é€»è¾‘å…³ç³»ä¸å¤§ã€ä¸”ä¸å¤ªä¼šå˜æ›´çš„éƒ¨åˆ†ï¼Œå¦‚ç½‘ç»œæ•°æ®æ”¶å‘ã€æ•°æ®åº“è®¿é—®ï¼Œç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;è„šæœ¬å±‚ï¼šè¿™éƒ¨åˆ†ç”±Pythonã€Luaè¿™æ ·çš„è„šæœ¬è¯­è¨€å®ç°ï¼Œä¸»è¦å°±æ˜¯å„ç§ç©æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;é‡‡ç”¨è¿™æ ·çš„æ¶æ„æœ€ä¸»è¦çš„ä¼˜ç‚¹ï¼Œå°±æ˜¯è§£å†³å‰é¢æåˆ°çš„å¼€å‘æ•ˆç‡é—®é¢˜ã€‚ç”±äºPythonã€Luaè¿™æ ·çš„è„šæœ¬è¯­è¨€ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œå³â€œä¸éœ€è¦é‡å¯è¿›ç¨‹ä¹Ÿèƒ½æ›´æ–°æœ€æ–°çš„ä»£ç â€ï¼Œè¿™æ ·å¼€å‘æ¨¡å¼å°±å˜æˆäº†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç­–åˆ’æå‡ºäº†æ–°çš„ç©æ³•éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;å¼€å‘ä½¿ç”¨å¦‚Pythonã€Luaè¿™æ ·çš„è„šæœ¬å‹è¯­è¨€ç¼–ç å®ç°ç©æ³•ã€‚&lt;/li&gt;
&lt;li&gt;çƒ­æ›´æ–°è„šæœ¬ä»£ç ï¼Œè°ƒè¯•ç©æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œç”±äºæ”¯æŒâ€œçƒ­æ›´æ–°â€ï¼Œçœå»äº†åœæœã€é‡å¯ã€åŠ è½½æ•°æ®çš„æ­¥éª¤ï¼Œä¸€ä¸‹å­å¼€å‘æ•ˆç‡å°±æå‡äº†å¾ˆå¤šã€‚&lt;/p&gt;

&lt;p&gt;å¤šè¯´ä¸€å¥ï¼Œâ€œçƒ­æ›´æ–°â€è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼šå‡å¦‚çº¿ä¸Šå‡ºé—®é¢˜æ—¶ï¼Œæ€»ä¸å¯èƒ½åœæœä¸‹æ¥ä¿®å¤ï¼Œçƒ­æ›´æ–°ä¸éœ€è¦é‡å¯å°±èƒ½æ›´æ–°æœ€æ–°ä»£ç çš„ç‰¹ç‚¹åœ¨è¿™é‡Œåˆå‘æŒ¥äº†ä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä»è¿™ä¸ªå¼€å‘æ¶æ„é‡Œï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ¸¸æˆæœåŠ¡å™¨äººå‘˜çš„æ„æˆï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¼•æ“å±‚åªæœ‰å°‘æ•°äººèƒ½å¤Ÿå»ç»´æŠ¤ï¼Œè¦æ±‚ç¨³å®šã€é«˜æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;ç»å¤§éƒ¨åˆ†äººï¼Œéƒ½åœ¨è„šæœ¬å±‚ç”¨è„šæœ¬è¯­è¨€æ¥å†™å„ç§ç©æ³•é€»è¾‘ï¼Œç±»ä¼¼äºwebå¼€å‘ä¸­çš„CRUDã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸ªæ¶æ„å·²ç»å¾ˆä¹…æ²¡å˜åŒ–äº†ï¼Œè€Œä¸”æ¯ä¸ªå…¬å¸éƒ½æœ‰è‡ªå·±ä¸€å¥—ï¼ˆç”šè‡³å‡ å¥—ï¼‰ç»´æŠ¤å¾—è¾ƒä¸ºç¨³å®šçš„æœåŠ¡å™¨å¼•æ“ï¼Œè¿™ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æŠ€æœ¯æ¼”è¿›æ…¢ã€‚åå‡ å¹´å‰çš„æ¶æ„åˆ°ç°åœ¨åŸºæœ¬æ²¡å˜ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºæ¼”è¿›æ…¢ï¼Œè€Œä¸”å¯¹ç¨³å®šæ€§çš„è¦æ±‚é«˜ï¼Œå®é™…ä¸Šæ–°äººä¹Ÿå¾ˆéš¾æ‰¾åˆ°æœºä¼šåœ¨å¼•æ“å±‚å‘æŒ¥ä½œç”¨ï¼Œå¼•æ“å±‚çš„ä»£ç é€šå¸¸ä¹Ÿä¸ä¼šè®©è„šæœ¬å±‚å·¥ä½œçš„äººçœ‹åˆ°ï¼Œè¿™æ ·å°±è¿›å…¥ä¸åˆ°è¿™ä¸€å±‚çš„å¼€å‘ï¼Œè€Œä¸”å¼•æ“å±‚ç»å¤§éƒ¨åˆ†çš„é—®é¢˜å·²ç»è¢«å‰äººè§£å†³äº†ï¼Œç”¨ç°åœ¨çš„è¯æ¥è¯´ï¼Œè¿™éƒ¨åˆ†æŠ€æœ¯â€œå›ºåŒ–â€äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸ºäº†è¯å®æˆ‘çš„è§‚ç‚¹ï¼Œæˆ‘æ‰¾æ¥äº†å»å¹´åˆšå‡ºç‰ˆçš„&lt;a href=&#34;https://book.douban.com/subject/35669430/&#34;&gt;ã€Šè…¾è®¯æ¸¸æˆå¼€å‘ç²¾ç²¹â…¡ ã€‹&lt;/a&gt;è¿™æœ¬ä¹¦ï¼Œæ¥çœ‹çœ‹ä¹¦é‡Œå…³äºæ¸¸æˆæœåŠ¡å™¨éƒ½æœ‰å“ªäº›å†…å®¹ã€‚å…¨ä¹¦ä¸€å…±21ç« ï¼Œä¸æ¸¸æˆæœåŠ¡å™¨ç›¸å…³çš„åªæœ‰ä¸‰ç« ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;éƒ¨åˆ†â…¤ æœåŠ¡ç«¯æ¶æ„å’ŒæŠ€æœ¯&lt;/p&gt;

&lt;p&gt;ç¬¬15ç«  é¢å‘æ¸¸æˆçš„é«˜æ€§èƒ½æœåŠ¡ç½‘æ ¼TbusppMesh 304&lt;/p&gt;

&lt;p&gt;15.1ã€€TbusppMeshæ‘˜è¦ 304&lt;/p&gt;

&lt;p&gt;15.2ã€€TbusppMeshæ•°æ®é€šä¿¡ 305&lt;/p&gt;

&lt;p&gt;15.3ã€€TbusppMeshç»„ç½‘ç­–ç•¥ 309&lt;/p&gt;

&lt;p&gt;15.4ã€€TbusppMeshæœ‰çŠ¶æ€æœåŠ¡ 315&lt;/p&gt;

&lt;p&gt;15.5ã€€æ€»ç»“ 321&lt;/p&gt;

&lt;p&gt;ç¬¬16ç«  æ¸¸æˆé…ç½®ç³»ç»Ÿè®¾è®¡ 322&lt;/p&gt;

&lt;p&gt;16.1ã€€æ¸¸æˆé…ç½®ç³»ç»Ÿæ¦‚è¿° 322&lt;/p&gt;

&lt;p&gt;16.2ã€€æ¸¸æˆé…ç½®ç®€ä»‹ 322&lt;/p&gt;

&lt;p&gt;16.3ã€€æ¸¸æˆé…ç½®ç³»ç»Ÿ 323&lt;/p&gt;

&lt;p&gt;16.4ã€€é…ç½®è®¾è®¡ä¸å‘å¸ƒ 324&lt;/p&gt;

&lt;p&gt;16.5ã€€é…ç½®Webç®¡ç†ç³»ç»Ÿ 328&lt;/p&gt;

&lt;p&gt;16.6ã€€æ€»ç»“ 330&lt;/p&gt;

&lt;p&gt;ç¬¬17ç«  æ¸¸æˆæ•æ·è¿è¥ä½“ç³»æŠ€æœ¯ 331&lt;/p&gt;

&lt;p&gt;17.1ã€€æ¸¸æˆè¿è¥æ¦‚å†µ 331&lt;/p&gt;

&lt;p&gt;17.2ã€€DataMoreå¤§æ•°æ®è®¡ç®—ä½“ç³»å»ºè®¾ 335&lt;/p&gt;

&lt;p&gt;17.3ã€€åŸºç¡€å¹³å° 343&lt;/p&gt;

&lt;p&gt;17.4ã€€æ€»ç»“ 360&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è€Œä¸”ï¼Œå…¶ä¸­ä¸€ç« è¿˜æ˜¯è®²çš„åè¿è¥ä½“ç³»ã€å¤§æ•°æ®æ–¹é¢çš„å†…å®¹ï¼Œè¿™éƒ¨åˆ†å†…å®¹è·Ÿâ€œæ¸¸æˆå¼€å‘â€æœ¬èº«ç›¸å…³æ€§ä¸å¤§ã€‚é€ æˆè¿™æ ·çš„åŸå› ï¼Œæ˜¯å› ä¸ºæ¸¸æˆæœåŠ¡å™¨ç”¨è„šæœ¬å†™ç©æ³•é€»è¾‘ï¼Œè¿™å®åœ¨æ²¡æœ‰å¤ªå¤šå¯ä»¥è¯´çš„:)ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™æ ·ä¸€ä¸ªæ¼”è¿›æ…¢ã€æŠ€æœ¯å›ºåŒ–çš„é¢†åŸŸé‡Œï¼Œæ–°äººå¤§éƒ¨åˆ†æ—¶å€™éƒ½æŒ¤åœ¨äº†å†™ç©æ³•é€»è¾‘çš„è„šæœ¬å±‚é‡Œã€‚è¿™æ˜¯æ¸¸æˆè¡Œä¸šæ–°äººéœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼šä¸€æ—¦è½åˆ°è„šæœ¬å±‚å¼€å‘ï¼ŒæŠ€æœ¯ç§¯ç´¯å¾ˆæ…¢å¾ˆå°‘ï¼Œä¹Ÿä¼šå¾ˆç´¯ã€åŠ ç­å¾ˆå¤šã€‚è¿™è¿˜æ˜¯ç”±äºå‰é¢è®²è¿°çš„æ¸¸æˆè¡Œä¸šçš„ç‰¹ç‚¹å¯¼è‡´çš„ï¼šæ¸¸æˆæœ¬è´¨æ˜¯ä¸ªå†…å®¹è¡Œä¸šï¼Œè€Œâ€œå†…å®¹â€è½åˆ°å¼€å‘åˆ†å·¥ä¸Šï¼Œä¸»è¦å°±æ˜¯ç”±è„šæœ¬å±‚çš„å¼€å‘æ¥å®Œæˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æ€»ç»“ä¸€ä¸‹æˆ‘çš„è§‚ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¸¸æˆæœ¬è´¨æ˜¯ä¸ªå†…å®¹è¡Œä¸šï¼Œæ¸¸æˆå¼€å‘å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯ç”Ÿäº§â€œå†…å®¹â€ç»™ç©å®¶æ¶ˆè´¹ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºç”Ÿäº§æ¸¸æˆå†…å®¹çš„è¿‡ç¨‹ç¹æ‚ï¼Œä¸”å¯åŠ¨æ¸¸æˆæœåŠ¡å™¨æ—¶éœ€è¦åŠ è½½å¤§é‡æ•°æ®ï¼Œç¼–è¯‘å‹è¯­è¨€å¹¶ä¸é€‚åˆæ¥å†™æ¸¸æˆç©æ³•é€»è¾‘ã€‚&lt;/li&gt;
&lt;li&gt;äºæ˜¯äº§ç”Ÿäº†ç¼–è¯‘å‹è¯­è¨€ç¼–å†™å¼•æ“+è„šæœ¬å‹è¯­è¨€ç¼–å†™ç©æ³•é€»è¾‘çš„æ¶æ„ã€‚&lt;/li&gt;
&lt;li&gt;è€Œè¿™ç§æ¶æ„å·²ç»æ²¿ç”¨äº†å¾ˆå¤šå¹´ï¼Œæ¸¸æˆæœåŠ¡å™¨åç«¯æŠ€æœ¯é¢†åŸŸï¼ŒæŠ€æœ¯æ¼”è¿›æ…¢ã€å›ºåŒ–ä¸¥é‡ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªå›ºåŒ–ä¸¥é‡çš„æŠ€æœ¯é¢†åŸŸï¼Œæ–°äººå¾ˆéš¾æ‰¾åˆ°æœºä¼šã€‚è¿™ä¸ªç»“è®ºä¸ä»…é€‚ç”¨äºæ¸¸æˆè¡Œä¸šçš„å¼€å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;ç•ªå¤–&#34;&gt;ç•ªå¤–&lt;/h1&gt;

&lt;h2 id=&#34;luaçš„å…´èµ·&#34;&gt;Luaçš„å…´èµ·&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.lua.org/&#34;&gt;Lua&lt;/a&gt;æ˜¯ä¸€é—¨å‘æºäºå·´è¥¿çš„è„šæœ¬è¯­è¨€ï¼Œæˆ‘ä¹‹å‰æ·±å…¥ç ”ç©¶è¿‡Lua 5.1.4ç‰ˆæœ¬çš„ä»£ç ï¼Œå†™è¿‡å…¶åˆ†æçš„æ–‡æ¡£ï¼ˆ&lt;a href=&#34;https://github.com/lichuang/Lua-Source-Internal&#34;&gt;Lua source internal&lt;/a&gt;ï¼‰ï¼Œåç»­è¢«å‡ºç‰ˆä¸ºæ­£å¼å‡ºç‰ˆç‰©&lt;a href=&#34;https://book.douban.com/subject/27108476/&#34;&gt;ã€ŠLuaè®¾è®¡ä¸å®ç°ã€‹&lt;/a&gt;ã€‚æˆ‘åœ¨å†™ä½œæœ¬ä¹¦çš„æ—¶å€™ï¼Œç ”ç©¶è¿‡ä¸€äº›Luaçš„å‘å±•å†å²ã€‚å¯ä»¥è¯´ï¼ŒLuaåœ¨æ¸¸æˆè¡Œä¸šå¼€å§‹æµè¡Œèµ·æ¥å°±æ˜¯æºè‡ªä¸Šé¢çš„è„šæœ¬+å¼•æ“è¿™æ ·çš„æ¶æ„ä½“ç³»ï¼Œèƒ½å¤Ÿæé«˜æ¸¸æˆå¼€å‘è€…çš„å¼€å‘æ•ˆç‡ã€‚è¿™éƒ¨åˆ†å†…å®¹å‚è§&lt;a href=&#34;https://www.lua.org/history.html&#34;&gt;The evolution of an extension language: a history of Lua&lt;/a&gt;ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;It turned out that Bret Mogilefsky was the lead programmer on Grim Fandango, the main adventure game LucasArts released in 1997. In another message he told us that &amp;ldquo;A TREMENDOUS amount of this game is written in Lua&amp;rdquo; (his emphasis). This first use of Lua in a game attracted the attention of many game developers around the world to the language. Soon after, Lua started to appear frequently in game newsgroups, such as &lt;code&gt;rec.games.programmer&lt;/code&gt; and &lt;code&gt;comp.ai.games&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;äººä»¬ä¸ºä»€ä¹ˆéœ€è¦æ¸¸æˆ&#34;&gt;äººä»¬ä¸ºä»€ä¹ˆéœ€è¦æ¸¸æˆï¼Ÿ&lt;/h2&gt;

&lt;p&gt;æ¸¸æˆä¸€ç›´æ˜¯ä¸ªæœ‰å¾ˆå¤§äº‰è®®çš„è¡Œä¸šï¼šæ€æˆ®ã€åˆ©ç”¨äººæ€§é˜´æš—é¢ã€æœªæˆå¹´äººæ²‰è¿·å¯¼è‡´çš„å„ç§é—®é¢˜ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘åœ¨ä»ä¸šçš„æ—¶å€™ï¼Œä¹Ÿä¼šçº ç»“åœ¨è¿™äº›é—®é¢˜é‡Œã€‚&lt;/p&gt;

&lt;p&gt;å†åæ¥ï¼Œæˆ‘æ‰¾åˆ°ä¸€ä¸ªè§£é‡Šç»™è‡ªå·±çš„ç†ç”±ï¼šç”±äºäººä»¬çš„è‚‰èº«ï¼Œå—æ—¶ç©ºèŒƒå›´çš„é™åˆ¶ï¼Œæ‰€ä»¥éœ€è¦æ¸¸æˆæ¥å¸®åŠ©äººä»¬æ‰©å±•äººç”Ÿä½“éªŒçš„èŒƒå›´ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ï¼Œå¦‚æœæ²¡æœ‰&lt;code&gt;FootballManager&lt;/code&gt;è¿™æ¬¾æ¸¸æˆï¼Œæˆ‘å¦‚ä½•éƒ½ä½“ä¼šä¸åˆ°æ‰§æ•™ã€ç®¡ç†ä¸€ä¸ªçƒé˜Ÿçš„ä½“éªŒã€‚&lt;/p&gt;

&lt;p&gt;ã€Šåº„å­ã€‹é‡Œæœ‰æ‰€è°“â€œåº„å‘¨æ¢¦è¶â€çš„æ•…äº‹ï¼Œå…¶å¤§æ„æ˜¯ï¼šåº„å­ä¸€å¤©åšæ¢¦ï¼Œæ¢¦è§è‡ªå·±å˜æˆäº†ä¸€åªè´è¶ã€‚é†’æ¥ä¹‹åä»–å‘ç°è‡ªå·±è¿˜æ˜¯åº„å­ï¼Œäºæ˜¯ä»–ä¸çŸ¥é“è‡ªå·±åˆ°åº•æ˜¯å˜æˆåº„å­çš„è´è¶å‘¢ï¼Œè¿˜æ˜¯æ¢¦ä¸­å˜æˆè´è¶çš„åº„å­ã€‚åº„å­è®¤ä¸ºäººä¸èƒ½ç¡®åˆ‡çš„åŒºåˆ†â€œçœŸå®â€å’Œâ€œè™šå¹»â€ï¼Œæ¸¸æˆæŸç§ç¨‹åº¦ä¸Šä»¥æ„å»ºåœ¨æ•°å­—ä¸Šçš„â€œè™šå¹»â€ï¼Œæ¥ç»™äº†æˆ‘ä»¬ä¸åŒæ—¶ç©ºä¸Šçš„â€œçœŸå®â€ä½“éªŒã€‚&lt;/p&gt;

&lt;p&gt;ä»è¿™ä¸€ç‚¹çœ‹ï¼Œæ¸¸æˆçš„å†…å®¹ï¼Œå’Œä¹¦ç±ã€å½±è§†å‰§ï¼Œå…¶å®æ²¡æœ‰å¤ªå¤šçš„åŒºåˆ«ï¼šè½½ä½“ä¸åŒï¼Œä½†éƒ½è®©äººæ‰©å±•äº†ä½“éªŒçš„èŒƒå›´ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå› ä¸ºè¿™æ ·ï¼Œå¤§å®¶éƒ½æ˜¯â€å†…å®¹æ¶ˆè´¹è¡Œä¸šâ€œï¼Œæ‰€ä»¥æ¸¸æˆçš„ç«äº‰å¯¹æ‰‹ï¼Œé™¤äº†æ¸¸æˆè¡Œä¸šä»¥å†…ï¼Œè¿˜æœ‰å„ç§èƒ½å¤Ÿæ¶ˆè´¹æ—¶é—´çš„äº§å“ï¼šè§†é¢‘ã€ä¹¦ç±ã€ç”µè§†ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨äººå£å¢é€Ÿæ”¾ç¼“ä¹‹åï¼Œæ¢ç®—æˆèƒ½ç”¨æ¥æ¶ˆè´¹è¿™äº›å†…å®¹çš„æ€»æ—¶é—´ä¹Ÿæ”¾ç¼“äº†ï¼Œå†åŠ ä¸Šå‰é¢æåˆ°å„ç§æ¶ˆè´¹æ—¶é—´çš„äº§å“è¶Šæ¥è¶Šå¤šï¼Œå„ç§æ¸¸æˆä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥è¿™ä¸ªé¢†åŸŸæ˜¯å¾ˆéš¾çš„ï¼ˆå½“ç„¶å¤§å®¶éƒ½éš¾ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å…³äºâ€æ¸¸æˆæ˜¯å†…å®¹è¡Œä¸šâ€œè¿™ä¸ªè¯é¢˜ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€ç¯‡ä¸é”™çš„æ–‡ç« ï¼š&lt;a href=&#34;https://mp.weixin.qq.com/s/NkNLbkRG26M8dqt5t8hvxA&#34;&gt;ç§‘æŠ€å·¨å¤´çš„æ¸¸æˆé‡å¿ƒä¸ºä½•ç»å¸¸ä»¥å¤±è´¥å‘Šç»ˆï¼Ÿ&lt;/a&gt;ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å‚è€ƒä¸€èµ·çœ‹çœ‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æˆ‘ä¸ºä»€ä¹ˆç¦»å¼€æ¸¸æˆè¡Œä¸š&#34;&gt;æˆ‘ä¸ºä»€ä¹ˆç¦»å¼€æ¸¸æˆè¡Œä¸šï¼Ÿ&lt;/h2&gt;

&lt;p&gt;æ€»ç»“èµ·æ¥æœ‰ä»¥ä¸‹çš„åŸå› ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¤ªç´¯ï¼šæ¯å‘¨éƒ½æœ‰ç‰ˆæœ¬æ›´æ–°ï¼ˆæ³¨æ„æ˜¯æ¯å‘¨ï¼‰ï¼Œæ¯åˆ°ç‰ˆæœ¬æ›´æ–°çš„æ—¥å­ï¼Œå…¨ç»„éƒ½è¦ä¸€èµ·å¾…åˆ°ç‰ˆæœ¬å‘å¸ƒï¼Œç»å¸¸å°±æåˆ°äº†æ™šä¸Šåç‚¹åï¼Œæ‰“è½¦å›å®¶åªèƒ½æ´—æ´—ç¡äº†ã€‚ç¬¬äºŒå¤©è¿˜è¦æ—©æ—©èµ·æ¥ï¼Œèµ¶ç‰ˆæœ¬æ›´æ–°ä¹‹åã€è¿˜æœªå¤–æ”¾å‰çš„éªŒè¯å·¥ä½œï¼Œå¦‚æœæœ‰é—®é¢˜è¦é©¬ä¸Šçº¿ä¸Šä¿®å¤ã€‚é™¤æ­¤ä»¥å¤–ï¼Œå…¶ä»–æ—¶å€™æœ‰ä¸¥é‡çš„çº¿ä¸Šé—®é¢˜ï¼Œè¿˜è¦é©¬ä¸Šæ›´æ–°ä¿®å¤ï¼ˆçƒ­æ›´æ–°æ€§è´¨å†æ¬¡æ•‘äº†æ¸¸æˆå¼€å‘è€…ï¼‰ã€‚è¿™ä¸€ç®—ä¸‹æ¥ï¼Œæ¯å‘¨äº”ä¸ªå·¥ä½œæ—¥ï¼Œè‡³å°‘æœ‰ä¸¤å¤©æ˜¯åœ¨å¿«èŠ‚å¥ä¸‹å·¥ä½œçš„ã€‚è¿™æ ·çš„å·¥ä½œèŠ‚å¥ï¼Œå¯¹å¹´çºªå¤§çš„äººå¤ªä¸å‹å¥½äº†ã€‚&lt;/li&gt;
&lt;li&gt;å­¦ä¸åˆ°ä»€ä¹ˆæŠ€æœ¯ï¼šå°±æ˜¯æˆ‘ä¸Šé¢è¯´çš„æŠ€æœ¯å›ºåŒ–ã€æ¼”è¿›æ…¢ç­‰å› ç´ ã€‚å¤©å¤©ç”¨è„šæœ¬å†™å„ç§ç©æ³•ï¼Œç§¯ç´¯ä¸å‡ºä»€ä¹ˆä¸ªäººæŠ€æœ¯å£å’æ¥ã€‚æˆ‘ä¸€ç›´å¯¹â€è¢«å¹³å°ã€å·¥ä½œæ‰€ä½“åˆ¶åŒ–â€œçš„äº‹æƒ…ä¿æŒç€è­¦æƒ•ï¼Œè§æˆ‘ä¹‹å‰çš„å‘¨åˆŠï¼š&lt;a href=&#34;https://www.codedump.info/post/20220123-weekly-2/&#34;&gt;å‘¨åˆŠï¼ˆç¬¬2æœŸï¼‰ï¼šä»ç¬”è®°è½¯ä»¶è°ˆè¢«ä½“åˆ¶åŒ– - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æ¨è&#34;&gt;æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;æ¸¸æˆæœåŠ¡å™¨å’Œæ™®é€šæœåŠ¡å™¨æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;æ¸¸æˆæœåŠ¡å™¨å’Œæ™®é€šæœåŠ¡å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;è¿™æ˜¯çŸ¥ä¹ä¸Šçš„ä¸€ä¸ªé—®é¢˜ï¼š&lt;a href=&#34;https://www.zhihu.com/question/23508968&#34;&gt;æ¸¸æˆæœåŠ¡å™¨ä¸æ™®é€šæœåŠ¡å™¨æœ‰ä»€ä¹ˆåŒºåˆ«? - çŸ¥ä¹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ€»ç»“å‰é¢åˆ†æçš„æ¸¸æˆè¡Œä¸šçš„ç‰¹ç‚¹ã€å¼€å‘æ¶æ„ï¼Œæˆ‘åšä¸€ä¸ªç®€çŸ­çš„å›ç­”ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¸¸æˆè¦æ¨¡æ‹Ÿå„ç§è™šæ‹Ÿä¸–ç•Œçš„åœºæ™¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šç¤¾äº¤ã€æˆ˜æ–—ã€ç©å®¶å¯è§æ€§ï¼ˆæ¯”å¦‚ä¹°äº†ä¸€ä¸ªè£…å¤‡ï¼Œä»€ä¹ˆæ ·çš„ç©å®¶èƒ½çœ‹åˆ°ï¼Œæ¶‰åŠåˆ°è¿™ä¸ªå±æ€§çš„å¹¿æ’­èŒƒå›´ç­‰é—®é¢˜ï¼‰ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ¸¸æˆå¼€å‘æœ‰æ—¶å€™åœ¨æ¸¸æˆé‡Œå°±æ˜¯é€ ä¸–ä¸»ä¸€èˆ¬çš„å­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ï¼Œæ¸¸æˆæœåŠ¡æ˜¯â€œæœ‰çŠ¶æ€çš„â€æœåŠ¡ã€‚è¿™ç‚¹æ˜¯è·Ÿä¸€èˆ¬çš„webæœåŠ¡æœ€å¤§çš„åŒºåˆ«ï¼šwebæœåŠ¡é€šå¸¸ä¸€ä¸ªçŸ­é“¾æ¥è¯·æ±‚è¿‡æ¥ï¼ŒæŸ¥è¯¢ä¸€æ®µæ•°æ®ï¼Œå®Œäº‹äº†å¯èƒ½å°±æ–­å¼€äº†ï¼›è€Œæ¸¸æˆæœåŠ¡å™¨ï¼Œç”±äºè¦ç»´æŒçŠ¶æ€ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯é•¿è¿æ¥ï¼Œä¸€ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªç©å®¶è§’è‰²ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ç§‘æ™®æ¸¸æˆæœåŠ¡ç«¯æŠ€æœ¯çš„èµ„æ–™&#34;&gt;ç§‘æ™®æ¸¸æˆæœåŠ¡ç«¯æŠ€æœ¯çš„èµ„æ–™&lt;/h2&gt;

&lt;p&gt;å¦‚æœè§‰å¾—å‰é¢çš„è®²è§£å¤ªè¿‡ç²—ç³™ï¼Œè¿˜æƒ³å¤šäº†è§£è¿™æ–¹é¢çš„æŠ€æœ¯ï¼Œæ¨èä»¥ä¸‹å‡ ç¯‡æ–‡ç« ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/fingerpass/p/game-server-programming-paradigm.html&#34;&gt;æ¸¸æˆæœåŠ¡ç«¯ç©¶ç«Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ - fingerpass - åšå®¢å›­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.skywind.me/blog/archives/1265&#34;&gt;æ¸¸æˆæœåŠ¡ç«¯æ¶æ„å‘å±•å²ï¼ˆä¸Šï¼‰ - Skywind Inside&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.skywind.me/blog/archives/1301&#34;&gt;æ¸¸æˆæœåŠ¡ç«¯æ¶æ„å‘å±•å²ï¼ˆä¸­ï¼‰ - Skywind Inside&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¸Šé¢ä¸¤éƒ¨æ›²æ²¡æœ‰ä¸‹ç¯‡äº†ï¼Œä½œè€…å·²ç»é¸½äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;skywind&#34;&gt;skywind&lt;/h2&gt;

&lt;p&gt;è¿™æ˜¯æˆ‘æ¨èçš„ä¸€ä½å‰æ¸¸æˆè¡Œä¸šä»ä¸šè€…ã€çŸ¥ä¹ç­”ä¸»ã€åšå®¢ä½œè€…ã€ä»¥åŠå¼€æºé¡¹ç›®ä½œè€…ã€‚&lt;/p&gt;

&lt;p&gt;ä»–ä¸»è¦çš„é¢†åŸŸæœ‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¸¸æˆï¼ˆå¼•æ“ï¼‰å¼€å‘ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œä¼ è¾“ã€éŸ³è§†é¢‘å¼€å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™å‡ ä¸ªæ–¹é¢ï¼Œä»–æ˜¯æ—¢æœ‰ç†è®ºæŠ€æœ¯æ–‡ç« çš„è¾“å‡ºã€ä¹Ÿæœ‰å¼€æºé¡¹ç›®çš„ï¼Œæœ€å‡ºåçš„å¼€æºé¡¹ç›®å½“å±&lt;a href=&#34;https://github.com/skywind3000/kcp&#34;&gt;KCP - A Fast and Reliable ARQ Protocol&lt;/a&gt;ã€‚ï¼ˆæˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡ä¸å¤ªå¥½çš„ã€ä¸ªäººä¸ç”šæ»¡æ„çš„KCPåˆ†ææ–‡ç« ï¼Œè§ï¼š&lt;a href=&#34;https://www.codedump.info/post/20201105-kcp/&#34;&gt;KCP 1.4æºç åˆ†æ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;çŸ¥ä¹ï¼š&lt;a href=&#34;https://www.zhihu.com/people/skywind3000&#34;&gt;https://www.zhihu.com/people/skywind3000&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;githubï¼š&lt;a href=&#34;https://github.com/skywind3000&#34;&gt;https://github.com/skywind3000&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åšå®¢ï¼š&lt;a href=&#34;http://www.skywind.me/blog/&#34;&gt;http://www.skywind.me/blog/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ¨ç‰¹ï¼š&lt;a href=&#34;https://twitter.com/skywind3000&#34;&gt;https://twitter.com/skywind3000&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç”±äºä»–ä¹‹å‰ä¹Ÿæ˜¯æ¸¸æˆè¡Œä¸šçš„ä»ä¸šè€…ï¼Œæ‰€ä»¥ä¹Ÿå¯¹æ¸¸æˆé¢†åŸŸæœ‰è‡ªå·±çš„è§è§£ï¼Œè§ï¼š&lt;a href=&#34;http://www.skywind.me/blog/archives/1259&#34;&gt;ä½ ä¸ºä»€ä¹ˆä¼šç¦»å¼€æ¸¸æˆè¡Œä¸šï¼Ÿ - Skywind Inside&lt;/a&gt;ï¼Œä¹Ÿæ˜¯éš¾å¾—ä¸€è§çš„å¥½æ–‡ã€‚å¦å¤–ï¼ŒçŸ¥ä¹ä¸Šæœ‰å¾ˆå¤šä»–æœ‰è¶£çš„å›ç­”ã€‚&lt;/p&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;æ— ç©·ä¹‹è·¯-https-zh-wikipedia-org-wiki-e7-84-a1-e7-aa-ae-e4-b9-8b-e8-b7-af&#34;&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E7%84%A1%E7%AA%AE%E4%B9%8B%E8%B7%AF&#34;&gt;æ— ç©·ä¹‹è·¯&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;é¦™æ¸¯TVBç”µè§†å°åœ¨å†…åœ°æ‹æ‘„çš„ä¸€éƒ¨è®²è¿°å†…åœ°æ‰¶è´«æƒ…å†µçš„çºªå½•ç‰‡ã€‚æˆ‘è§‰å¾—è¿™ç±»å‹çš„ç‰‡ï¼Œç”±å†…åœ°åª’ä½“æ‹å‡ºæ¥ï¼Œå’Œé¦™æ¸¯åª’ä½“æ‹å‡ºæ¥ï¼Œæ„Ÿè§‰è¿˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œé¦™æ¸¯åª’ä½“çš„è§†è§’æ›´åƒç¬¬ä¸‰æ–¹çš„è§†è§’ã€‚åœ¨æ‹æ‘„æ—¶ï¼Œæœ‰æ—¶å€™ä¸»æŒäººä¹Ÿä¼šåˆ‡æ¢åˆ°è‡ªå·±ç”¨è‡ªæ‹æ†çš„è§†è§’æ¥æ‹æ‘„ï¼Œåˆå¤šäº†ä¸€äº›äº²åˆ‡çš„æ„Ÿè§‰ï¼Œä¸ä¼šé‚£ä¹ˆé«˜é«˜åœ¨ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;â€æ— ç©·ä¹‹è·¯â€œè¿™ä¸ªåå­—ä¹Ÿå¾ˆå¥½ï¼šâ€ç©·â€œæ—¢ä»£è¡¨è„±ç¦»è´«ç©·ï¼Œä¹Ÿå¯“æ„ç€å†…åœ°æœ‰å¾ˆå¤šç´ æå¯ä¾›é¦™æ¸¯åª’ä½“æ‹æ‘„è®°å½•ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œé¢è®©æˆ‘å°è±¡æœ€æ·±åˆ»çš„ï¼Œå°±æ˜¯ç¬¬ä¸€é›†çš„â€&lt;a href=&#34;https://baike.baidu.com/item/%E9%98%BF%E5%9C%9F%E5%88%97%E5%B0%94%E6%9D%91/13981071&#34;&gt;æ‚¬å´–æ‘&lt;/a&gt;â€œï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°å°±æ˜¯åœ¨æœ€è¿‘ï¼Œè¿˜æœ‰äººå±…ä½åœ¨è¿™ç§å¤©é™©ä¹‹åœ°ã€‚&lt;/p&gt;

&lt;p&gt;Bç«™æœ‰è§†é¢‘å…¨é›†&lt;a href=&#34;https://www.bilibili.com/bangumi/play/ss40050&#34;&gt;æ— ç©·ä¹‹è·¯-çºªå½•ç‰‡-å…¨é›†-é«˜æ¸…ç‹¬å®¶åœ¨çº¿è§‚çœ‹-bilibili-å“”å“©å“”å“©&lt;/a&gt;ï¼Œå¦‚æœèƒ½å¬æ‡‚ç²¤è¯­ä¹Ÿå¯ä»¥é€‰æ‹©å¬ç²¤è¯­åŸç‰ˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;deepl&#34;&gt;DeepL&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.deepl.com/zh/translator&#34;&gt;DeepLç¿»è¯‘&lt;/a&gt;æ˜¯ç”±å¾·å›½ä¸€å®¶AIåˆ›ä¸šå…¬å¸çš„æ¨å‡ºçš„ç¿»è¯‘æœåŠ¡ï¼Œä¸»æ‰“ä½¿ç”¨äººå·¥æ™ºèƒ½ã€æ·±åº¦å­¦ä¹ æŠ€æœ¯æ¥è¿›è¡Œç¿»è¯‘æœåŠ¡ï¼Œæ”¯æŒ ç®€ä½“ä¸­æ–‡ã€è‹±è¯­ã€å¾·è¯­ã€æ³•è¯­ã€æ—¥è¯­ã€è¥¿ç­ç‰™è¯­ã€æ„å¤§åˆ©è¯­ã€è·å…°è¯­åŠæ³¢å…°è¯­ä¹‹é—´çš„ç¿»è¯‘ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è‡ªå·±å°è¯•äº†ä¸€ä¸‹è¿™ä¸ªç¿»è¯‘å·¥å…·ï¼Œå°†æˆ‘åšå®¢çš„ä¸€ç¯‡ä¸­æ–‡åšæ–‡ç¿»è¯‘æˆè‹±æ–‡ï¼Œå‡ ä¹ä¸åŠ ä¿®æ”¹å°±èƒ½æ¯”è¾ƒé¡ºç•…äº†ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå¯¹æ¯”ä¸€ä¸‹æ•ˆæœï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20200605-how-to-read-code-v2020/&#34;&gt;å¦‚ä½•é˜…è¯»ä¸€ä»½æºä»£ç ï¼Ÿï¼ˆ2020å¹´ç‰ˆï¼‰ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20210215-how-to-read-code-en/&#34;&gt;How to Read Code(En Version) - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ„Ÿè§‰å¯¹äºæŠ€æœ¯ç±»æ–‡ç« çš„ç¿»è¯‘æ¥è¯´ï¼Œè¿™ä¸ªå·¥å…·çš„è¡¨ç°å·²ç»å¾ˆå¥½äº†ã€‚&lt;/p&gt;

&lt;p&gt;Macã€Winæ¡Œé¢ç‰ˆå¯ä»¥å…è´¹ä¸‹è½½ï¼Œä¹Ÿæœ‰ç½‘é¡µç‰ˆæœ¬ï¼Œä½†æ˜¯å…è´¹ç‰ˆæœ¬æœ‰æ¯æ¬¡ç¿»è¯‘çš„å­—æ•°é™åˆ¶ï¼Œæ–‡ç« é•¿äº†éœ€è¦è‡ªå·±å¤šå€’è…¾å‡ æ¬¡ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠï¼ˆç¬¬2æœŸï¼‰ï¼šä»ç¬”è®°è½¯ä»¶è°ˆè¢«ä½“åˆ¶åŒ–</title>
      <link>https://www.codedump.info/post/20220123-weekly-2/</link>
      <pubDate>Sun, 23 Jan 2022 15:38:31 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220123-weekly-2/</guid>
      <description>

&lt;h1 id=&#34;ä»ç¬”è®°è½¯ä»¶è°ˆè¢«ä½“åˆ¶åŒ–&#34;&gt;ä»ç¬”è®°è½¯ä»¶è°ˆè¢«ä½“åˆ¶åŒ–&lt;/h1&gt;

&lt;p&gt;å‰ä¸¤å‘¨ï¼Œä¸€åˆ™æ”¶è´­æ¶ˆæ¯ï¼Œåœ¨åŒå¤§çš„ä¸­æ–‡äº’è”ç½‘ä¸Šï¼Œå‡ ä¹æ²¡æœ‰æ€èµ·ä»»ä½•çš„è®¨è®ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/luImz3NFwN5zmNHsqvjmDg&#34;&gt;ä¸ºçŸ¥ç¬”è®°å¹¶å…¥ ONESï¼ŒWizNote X è¿æ¥æ–°çš„å¾ç¨‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘æ˜¯ä¸ºçŸ¥ç¬”è®°çš„è€ç”¨æˆ·äº†ï¼Œä» 2011 å¹´å°±å¼€å§‹ä½¿ç”¨ä¸ºçŸ¥ç¬”è®°ï¼Œå³ä¾¿æ˜¯ç°åœ¨ä¸æ€ä¹ˆä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå·²ç»æŠŠ VIP ä¼šå‘˜ç»­è´¹åˆ°äº† 2024 å¹´ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œä¸ºçŸ¥ç¬”è®°æ˜¯ä¸€ä¸ªæ°”è´¨ä¸ä¼—ä¸åŒçš„äº’è”ç½‘äº§å“ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨äº’è”ç½‘ä¸Šå‡ ä¹æ²¡çœ‹åˆ°è¿™æ¬¾äº§å“ä¸»åŠ¨æ¥å®£ä¼ è‡ªå·±ï¼Œéƒ½æ˜¯é ç”¨æˆ·çš„å£ç¢‘ä¼ æ’­ï¼Œæœ€å¼€å§‹æˆ‘ä¹Ÿæ˜¯é€šè¿‡ç”¨æˆ·çš„ä»‹ç»çŸ¥é“è¿™æ¬¾äº§å“çš„ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯æœ€æ—©æ”¯æŒ Markdown çš„ç¬”è®°æœ¬è½¯ä»¶ï¼Œè¿™åœ¨æˆ‘æœ€å¼€å§‹äº†è§£ MD å¹¶ä¸”å¼€å§‹ç”¨è¿™ä¸ªæ ¼å¼æ¥è®°å½•ç¬”è®°æ—¶èµ·äº†å¾ˆå¤§çš„å¸®åŠ©ã€‚&lt;/li&gt;
&lt;li&gt;ä»·æ ¼è‰¯å¿ƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥ï¼Œå½“çœ‹åˆ°ä¸ºçŸ¥ç¬”è®°è¢«æ”¶è´­çš„æ–°é—»ï¼Œå¿ƒæƒ…è¿˜æ˜¯æœ‰äº›å¤æ‚çš„ã€‚æˆ‘å¤§ä½“çŸ¥é“ä¸€äº›äº’è”ç½‘äº§å“çš„ç©æ³•ï¼ŒçŸ¥é“ä¸ºçŸ¥ç¬”è®°åº”è¯¥ç”Ÿå­˜çš„ä¸å¤ªå¥½ï¼Œè¢«æ”¶è´­äº†ä¹Ÿè®¸å¯¹å›¢é˜Ÿæ˜¯ä¸ªå¥½äº‹ã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯ï¼Œæˆ‘å¼€å§‹å›æƒ³èµ·æ¥ï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„å¥‘æœºï¼Œè®©æˆ‘å¼€å§‹æ…¢æ…¢æŠ›å¼ƒäº†ä¼ ç»Ÿçš„ç¬”è®°è½¯ä»¶ï¼Œä»¥åŠæˆ‘ç°åœ¨éƒ½ç”¨ä»€ä¹ˆæ–¹å¼è®°å½•ç¬”è®°ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Evernote åˆšå‡ºæ¥çš„æ—¶å€™ï¼Œå¤šç«¯å¯ç”¨ã€å¯ä»¥æ”¶è—æ–‡ç« ã€è®°å½•è‡ªå·±çš„ç¬”è®°ç­‰ç­‰ï¼Œæˆ‘ä¹Ÿå¤§æ¦‚æ˜¯é‚£æ—¶å€™å¼€å§‹è®°å½•ç¬”è®°çš„ï¼Œç„¶åå°±æ˜¯åæ¥ä½¿ç”¨ç½‘æ˜“äº‘ç¬”è®°ï¼Œå†åˆ°ä¸»åŠ›ä½¿ç”¨ä¸ºçŸ¥ç¬”è®°ã€‚&lt;/p&gt;

&lt;p&gt;è®©æˆ‘é€æ¸æ„è¯†åˆ°ä¸åº”è¯¥æŠŠç¬”è®°æ‰˜ç®¡åˆ°ç¬”è®°è½¯ä»¶ä¸Šï¼Œæœ‰é‚£ä¹ˆå‡ ä¸ªåŸå› ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç¬”è®°è½¯ä»¶ä¹‹é—´ç«äº‰æ¿€çƒˆï¼Œå¯èƒ½ä½ ä» A å®¶æ¢åˆ° B å®¶çš„äº§å“æ—¶ï¼Œæ•°æ®çš„è¿ç§»æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œæœ‰æ—¶å€™å°±ä¸å¾—ä¸ä¸¢æ‰ä¸€éƒ¨åˆ†éš¾è¿ç§»çš„æ•°æ®ã€‚æ¯”å¦‚æŠŠæ•°æ®ä» Evernote è¿ç§»å‡ºæ¥å°±å¾ˆéº»çƒ¦ï¼Œè¿˜å¥½æˆ‘ä¹‹å‰æ”¾åœ¨è¿™é‡Œçš„ç¬”è®°ä¹Ÿä¸å¤ªç”¨å¾—ä¸Šäº†ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Markdown æ ¼å¼å¼€å§‹æµè¡Œä»¥åã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘å¤§æ¦‚æ˜¯ä»2015å¹´å¼€å§‹ç”¨MDæ ¼å¼å¼€å§‹å†™ç¬”è®°çš„ï¼Œè¿™ç§æ ¼å¼é©¬ä¸Šå°±è®©æˆ‘çˆ±ä¸Šäº†è®°å½•ç¬”è®°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ ¼å¼å¯¹æ¯”LaTexæ¥è¯´å¤ªç®€å•äº†ï¼Œåªæœ‰å¸¸è§çš„å‡ ç§æ ¼å¼ï¼Œæ˜“å­¦æ˜“å†™ã€‚&lt;/li&gt;
&lt;li&gt;çº¯æ–‡æœ¬æ ¼å¼ï¼Œè¿™æ„å‘³ç€ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨å°±èƒ½æ‰“å¼€ã€‚&lt;/li&gt;
&lt;li&gt;æ­é…å¥½ç”¨çš„ç¼–è¾‘å™¨ï¼Œèƒ½è·å¾—â€æ‰€è§å³æ‰€å¾—â€œçš„ä½“éªŒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç”±æ­¤ï¼Œæˆ‘å¼€å§‹åæ€ä¹‹å‰å¯¹ç¬”è®°æœ¬è½¯ä»¶çš„ä½¿ç”¨ï¼šä»¥å¾€éƒ½å°†æ•°æ®çš„æ ¼å¼å’Œå…·ä½“çš„è½¯ä»¶ç»‘å®šäº†ï¼Œè¿™æ˜¯åé¢ä¸€ç³»åˆ—é—®é¢˜ï¼ˆè¿ç§»éš¾ã€æ–‡æœ¬ç¼–è¾‘å™¨æ‰“ä¸å¼€ï¼‰çš„æ ¸å¿ƒåŸå› ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·ï¼Œæˆ‘æ…¢æ…¢æ„è¯†åˆ°ï¼Œå¯¹è®°å½•ç¬”è®°å·¥å…·è¿™ä»¶äº‹æƒ…ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ ¼å¼é€šç”¨ï¼Œä¸”æ˜¯çº¯æ–‡æœ¬æ ¼å¼ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºä¸Šé¢è¿™ä¸ªé™åˆ¶æ¡ä»¶ï¼Œäºæ˜¯å°±èƒ½å°†æ ¼å¼å’Œå†™ä½œè½¯ä»¶è§£é™¤ç»‘å®šï¼Œæˆ‘èƒ½åœ¨ç”¨ä¸æƒ¯ä¸€æ¬¾å†™ä½œå·¥å…·çš„æ—¶å€™ï¼Œæ¯«ä¸è´¹åŠ›çš„ç”¨å¦ä¸€æ¬¾æ”¯æŒè¿™ä¸ªé€šç”¨æ ¼å¼çš„è½¯ä»¶ç»§ç»­å†™æˆ‘çš„ç¬”è®°ã€‚&lt;/li&gt;
&lt;li&gt;è€Œä¸ºçŸ¥ç¬”è®°ä¹‹ç±»çš„ç¬”è®°è½¯ä»¶ï¼Œå³ä¾¿åæ¥æ”¯æŒäº†MDæ ¼å¼ï¼Œä¹Ÿå­˜å‚¨ä¸ºè‡ªå·±çš„ç§æœ‰æ ¼å¼ï¼Œå¯¼è‡´äº†å¯¼å‡ºæ•°æ®éº»çƒ¦ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘åæ¥ä¹Ÿæ˜¯è¿™æ ·å®è·µçš„ï¼šæœ¬åœ°å»ºä¸€ä¸ªä»“åº“ï¼Œåœ¨é‡Œé¢å†™MDæ ¼å¼æ–‡ä»¶ï¼Œæ­é…é¡ºæ‰‹çš„MDç¼–è¾‘å™¨ï¼Œéœ€è¦å­˜å‚¨çš„æ—¶å€™å°†è¿™ä¸ªä»“åº“åŒæ­¥åˆ°äº‘ç«¯ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨çœ‹æ¥ï¼Œèƒ½è®©è¿™ä¸ªå†™ç¬”è®°æ–¹å¼å‘ç”Ÿå¾ˆå¤§å˜åŒ–ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªå¥‘æœºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;MDæ ¼å¼å¼€å§‹æµè¡Œã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºè¿™ä¸ªæ ¼å¼å¼€å§‹æµè¡Œï¼Œé›¨åæ˜¥ç¬‹èˆ¬å‡ºæ¥äº†å¾ˆå¤šç›¸å…³ç¼–è¾‘å™¨ã€‚ç”¨ç°åœ¨çš„è¯æ¥è¯´ï¼ŒMDç¼–è¾‘å™¨è¿™ä¸ªé¢†åŸŸå¼€å§‹å·äº†èµ·æ¥ï¼Œè¿™æ ·åšä¸ºç”¨æˆ·å°±æœ‰äº†å¾ˆå¤šé€‰æ‹©ï¼Œä¾èµ–å…³ç³»åè½¬ã€‚&lt;/li&gt;
&lt;li&gt;å¾®è½¯æ”¶è´­Githubä¹‹åï¼Œåˆ›å»ºç§äººä»“åº“å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚ï¼ˆæœ‰é’±ï¼ŒçœŸçš„èƒ½è®©ç”¨æˆ·ä¸ºæ‰€æ¬²ä¸ºã€‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â€ç¬”è®°æ ¼å¼ï¼Œåº”è¯¥å’Œç¬”è®°è½¯ä»¶è§£ç»‘â€œï¼Œè¿™æ ·æˆ‘å°±ä¸ä¼šè¢«ç»‘å®šåœ¨ä¸€ä¸ªå…·ä½“çš„è½¯ä»¶é‡Œé¢äº†ï¼Œå°±ä¸ä¼šè¢«ä¸€ä¸ªå…·ä½“çš„è½¯ä»¶æ‰€â€ä½“åˆ¶åŒ–â€œã€‚æˆ‘æ€€ç–‘è¿™ç±»æƒ³æ³•ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°æœ€å–œæ¬¢çš„ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹è¿™éƒ¨ç”µå½±çš„å½±å“ï¼šç”µå½±é‡Œåœ¨ç›‘ç‹±é‡Œç”Ÿæ´»äº†å‡ åå¹´çš„è€å¸ƒï¼Œå·²ç»è¢«ç›‘ç‹±â€ä½“åˆ¶åŒ–â€œï¼Œè¿™å¯¼è‡´ä»–å‡ºå»ç›‘ç‹±æ²¡å¤šä¹…å°±é€‚åº”ä¸äº†ä¸è¢«ä½“åˆ¶åŒ–çš„ç”Ÿæ´»ï¼Œé€‰æ‹©äº†ä¸ŠåŠè‡ªæ€ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;These walls are funny.First you hate them,then you get used to them;Enough time passes,gets so you depend on them.That&amp;rsquo;s institutionalized.&lt;/p&gt;

&lt;p&gt;ï¼ˆ&lt;strong&gt;è¿™äº›å¢™å¾ˆæœ‰è¶£ï¼Œåˆšå…¥ç‹±çš„æ—¶å€™ï¼Œä½ ç—›æ¨å‘¨å›´çš„é«˜å¢™ï¼›æ…¢æ…¢åœ°ï¼Œä½ ä¹ æƒ¯äº†ç”Ÿæ´»åœ¨å…¶ä¸­ï¼›æœ€ç»ˆä½ ä¼šå‘ç°è‡ªå·±ä¸å¾—ä¸ä¾é å®ƒè€Œç”Ÿå­˜ã€‚è¿™å°±å«ä½“åˆ¶åŒ–ã€‚&lt;/strong&gt;ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é™¤äº†ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹ä»¥å¤–ï¼Œæˆé•¿è¿‡ç¨‹ä¸­ç›®ç¹çˆ¶è¾ˆçš„äººå› ä¸ºä¸‹å²—è¢«ä½“åˆ¶ç”©å‡ºæ¥ï¼Œææ€•ä¹Ÿæ˜¯å½±å“æˆ‘æ€è€ƒä¸ªä½“å’Œä½“åˆ¶å…³ç³»çš„åŸå› ã€‚&lt;/p&gt;

&lt;p&gt;â€å»ä½“åˆ¶åŒ–â€œçš„æƒ³æ³•ï¼Œé™¤äº†å½±å“æˆ‘ç¬”è®°æ–¹å¼çš„é€‰æ‹©ä¹‹å¤–ï¼Œè¿˜åœ¨å…¶ä»–åœ°æ–¹æœ‰å½±å“ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å…¬å¸æ˜¯ä¸€ä¸ªä½“åˆ¶å¹³å°ï¼Œé›‡å‘˜è·Ÿå¹³å°ä¹‹é—´åº”è¯¥æ˜¯åŒèµ¢çš„å…³ç³»æ‰æ˜¯è‰¯æ€§çš„ï¼Œé›‡å‘˜åˆ‡ä¸èƒ½å°†è‡ªå·±çš„æŠ€èƒ½ç­‰å±€é™äºç‰¹å®šçš„å…¬å¸ã€å¹³å°ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;åå¹´å‰æˆ‘åˆšå¼€å§‹è‡ªå»ºåšå®¢å¼€å§‹å†™åšå®¢çš„æ—¶å€™ï¼Œç”¨çš„æ˜¯WordPressï¼Œè¿™ä¹Ÿæ˜¯ä¸€å¥—å°é—­çš„æŠ€æœ¯æ ˆã€‚åæ¥ä¹Ÿæ˜¯å…¨é¢æ¢ç”¨äº†MDæ–¹æ¡ˆï¼šMDå†™æ–‡å­—ã€hugoè´Ÿè´£æ¸²æŸ“MDå½¢æˆé™æ€æ–‡ä»¶ï¼Œå“ªä¸€å¤©æˆ‘ä¸çˆ½äº†ï¼Œå¯ä»¥æ¢å¦ä¸€ä¸ªhugoä¸»é¢˜ï¼Œç”šè‡³æŠŠhugoè¿™ä¸ªæ¸²æŸ“æ–¹æ¡ˆæ¢æ‰ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºç°åœ¨çš„è‡ªåª’ä½“å¹³å°ï¼Œæ¯”å¦‚å¾®ä¿¡å…¬ä¼—å·ä¹‹ç±»çš„ï¼Œåšä¸ºåˆ›ä½œè€…åº”è¯¥åˆ©ç”¨å¹³å°ï¼Œåˆ›ä½œè€…ä¸è¿™ç±»è‡ªåª’ä½“å¹³å°çš„å…³ç³»æ˜¯ä¾é™„å…³ç³»ï¼Œè¿™äº›å¹³å°æ˜¯æ¸ é“ä¹‹ä¸€ï¼Œè€Œä¸æ˜¯å”¯ä¸€æ¸ é“ï¼Œä¸€æ—¦å”¯ä¸€è¿™å°±å˜æˆäº†ä¾èµ–å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æœ‰ç±»ä¼¼çš„è¯è¯­å½¢å®¹è¿™ç§ä¾èµ–å…³ç³»ï¼šè·¯å¾„ä¾èµ–ï¼Œç™¾åº¦ç™¾ç§‘ä¸­å¯¹â€œè·¯å¾„ä¾èµ–â€çš„è§£é‡Šæ˜¯ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;è·¯å¾„ä¾èµ–ï¼ˆPath-Dependenceï¼‰ï¼Œåˆè¯‘ä¸ºè·¯å¾„ä¾èµ–æ€§ï¼Œå®ƒçš„ç‰¹å®šå«ä¹‰æ˜¯æŒ‡äººç±»ç¤¾ä¼šä¸­çš„æŠ€æœ¯æ¼”è¿›æˆ–åˆ¶åº¦å˜è¿å‡æœ‰ç±»ä¼¼äºç‰©ç†å­¦ä¸­çš„æƒ¯æ€§ï¼Œå³ä¸€æ—¦è¿›å…¥æŸä¸€è·¯å¾„ï¼ˆæ— è®ºæ˜¯â€œå¥½â€è¿˜æ˜¯â€œåâ€ï¼‰å°±å¯èƒ½å¯¹è¿™ç§è·¯å¾„äº§ç”Ÿä¾èµ–ã€‚
ä¸€æ—¦äººä»¬åšäº†æŸç§é€‰æ‹©ï¼Œå°±å¥½æ¯”èµ°ä¸Šäº†ä¸€æ¡ä¸å½’ä¹‹è·¯ï¼Œæƒ¯æ€§çš„åŠ›é‡ä¼šä½¿è¿™ä¸€é€‰æ‹©ä¸æ–­è‡ªæˆ‘å¼ºåŒ–ï¼Œå¹¶è®©ä½ è½»æ˜“èµ°ä¸å‡ºå»ã€‚ç¬¬ä¸€ä¸ªä½¿â€œè·¯å¾„ä¾èµ–â€ç†è®ºå£°åè¿œæ’­çš„æ˜¯é“æ ¼æ‹‰æ–¯Â·è¯ºæ–¯ï¼Œç”±äºç”¨â€œè·¯å¾„ä¾èµ–â€ç†è®ºæˆåŠŸåœ°é˜é‡Šäº†ç»æµåˆ¶åº¦çš„æ¼”è¿›ï¼Œé“æ ¼æ‹‰æ–¯Â·è¯ºæ–¯äº1993å¹´è·å¾—è¯ºè´å°”ç»æµå­¦å¥–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ€»ç»“èµ·æ¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å†…å®¹ï¼ˆæŠ€èƒ½ï¼‰åº”è¯¥æ˜¯å¼€æ”¾çš„ï¼Œä¸åº”å±€é™äºç‰¹å®šçš„è½¯ä»¶ï¼ˆå¹³å°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ªä½“å’Œå¹³å°ä¹‹é—´ï¼Œåº”è¯¥æ˜¯ä¾é™„å…³ç³»ï¼Œè€Œä¸æ˜¯ä¾èµ–å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;ä½“åˆ¶å®¹æ˜“è®©äººäº§ç”Ÿæƒ¯æ€§ï¼Œè€Œä¸€æ—¦è¿›å…¥æƒ¯æ€§ï¼Œå†èµ°å‡ºæ¥å°±ä¼šå¾ˆéš¾ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ°è¿™é‡Œï¼Œåªæ˜¯è°ˆäº†æˆ‘è®°å½•ç¬”è®°å·¥å…·æ–¹å¼çš„å˜åŒ–ï¼Œåé¢å†æ‰¾ä¸€æœŸä¸“é—¨è®²è®²æˆ‘è‡ªå·±æ˜¯æ€ä¹ˆè®°å½•ç¬”è®°çš„ã€‚&lt;/p&gt;

&lt;h1 id=&#34;ç›¸å…³æ¨è&#34;&gt;ç›¸å…³æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;ç‹å·å¾®åš&#34;&gt;ç‹å·å¾®åš&lt;/h2&gt;

&lt;p&gt;ç‹å·åœ¨å¾®åšä¸Šæ­£å¥½ä¹Ÿè°ˆåˆ°ä¸€äº›å·¥ä½œé€‰æ‹©ä¸Šçš„çœ‹æ³•ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://weibo.com/5339148412/LbKMJ8luF&#34;&gt;æé«˜è°ƒæ•´çº é”™çš„èƒ½åŠ›çš„&amp;hellip; - @ç¡…è°·ç‹å·çš„å¾®åš - å¾®åš&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;è¦ä»äº‹æµåŠ¨æ€§å¥½ï¼Œé€šç”¨ç¨‹åº¦é«˜ï¼Œè™šæ‹Ÿç¨‹åº¦é«˜çš„äº‹ä¸šã€‚&lt;/p&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;p&gt;é€šç”¨ç¨‹åº¦ä½çš„å·¥ä½œå’ŒæœåŠ¡ï¼Œä¸€æ—¦å¤±å»ç°æœ‰å®¢æˆ·ï¼Œå¾ˆéš¾æ‰¾åˆ°æ–°çš„å¸‚åœºå’Œåº”ç”¨ï¼Œå› æ­¤è¢«è¿«ä¸­æ­¢ï¼Œä¹‹å‰çš„åŠªåŠ›æ— æ³•é‡å¤åˆ©ç”¨ï¼Œå®Œå…¨ç™½è´¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘æƒ³è¿™é‡Œçš„è§‚ç‚¹ï¼Œæ˜¯ç±»ä¼¼çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;typora&#34;&gt;Typora&lt;/h2&gt;

&lt;p&gt;æˆ‘ç°åœ¨ä¸»åŠ›ç”¨çš„MDç¼–è¾‘å™¨æ˜¯&lt;a href=&#34;https://typora.io/&#34;&gt;Typora&lt;/a&gt;ï¼Œè¿™æ¬¾è½¯ä»¶ç»™æˆ‘å¾ˆæ£’çš„å†™ä½œä½“éªŒï¼ˆåŒ…æ‹¬æœ¬æ–‡ä¹Ÿæ˜¯ç”¨è¿™ä¸ªè½¯ä»¶å†™ä½œï¼‰ï¼Œå‰æ®µæ—¶é—´&lt;a href=&#34;https://support.typora.io/What&#39;s-New-1.0/&#34;&gt;Typora 1.0&lt;/a&gt;æ­£å¼ç‰ˆå®£å¸ƒæ”¶è´¹ä¹‹åæœæ–­ç¬¬ä¸€æ—¶é—´ä¹°äº†æ­£ç‰ˆæ”¯æŒã€‚&lt;/p&gt;

&lt;h2 id=&#34;logseq&#34;&gt;Logseq&lt;/h2&gt;

&lt;p&gt;ç¬”è®°æœ¬è½¯ä»¶æœ€è¿‘å‡ å¹´ç¡®å®å‡ºæ¥å¤ªå¤šç©å®¶ï¼Œâ€è½¯ä»¶å¤ªå¤šï¼Œç”¨æˆ·éƒ½ä¸å¤Ÿåˆ†äº†â€œã€‚å…¶ä¸­æœ‰ä¸€å®¶ä¸­å›½èµ·æ­¥çš„å¼€æºç¬”è®°è½¯ä»¶&lt;a href=&#34;https://logseq.com/&#34;&gt;Logseq&lt;/a&gt;ï¼Œä»ä¸ªäººå…´è¶£çˆ±å¥½å‡ºå‘ï¼Œåœ¨&lt;a href=&#34;https://github.com/logseq/logseq&#34;&gt;github&lt;/a&gt;ä¸Šå¼€æºå¸å¼•äº†å›½å†…å¤–çš„å¾ˆå¤šç”¨æˆ·ï¼Œæœ€åæˆç«‹äº†å…¬å¸ä¸“èŒåšè¿™æ¬¾äº§å“ã€‚å°å®‡å®™ä¸Šæœ‰åˆ›å§‹äººçš„è®¿è°ˆï¼š&lt;a href=&#34;https://www.xiaoyuzhoufm.com/episode/61c6cccac525309a443b5b36&#34;&gt;7. è·Ÿ Logseq çš„åˆ›é€ è€…å¤©ç”ŸèŠèŠ Logseq çš„æ•…äº‹&lt;/a&gt;ï¼Œæœ‰æ„æ€çš„æ˜¯ï¼Œå¾ˆå¤šæŠ•èµ„äººæ˜¯è¿™æ¬¾äº§å“çš„ä½¿ç”¨è€…ï¼Œç”šè‡³è¿˜æäº¤äº†PRï¼Œè¿™åº”è¯¥æ˜¯å¾ˆå°‘è§çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä¸ºçŸ¥ç¬”è®°åˆ›å§‹äººçš„è®¿è°ˆ&#34;&gt;ä¸ºçŸ¥ç¬”è®°åˆ›å§‹äººçš„è®¿è°ˆ&lt;/h2&gt;

&lt;p&gt;Teahourä¸Šæœ‰ä¸€æœŸä¸ºçŸ¥ç¬”è®°åˆ›å§‹äººçš„è®¿è°ˆèŠ‚ç›®ï¼Œç®—æ˜¯å¯¹è¿™æ¬¾äº§å“æœ‰äº†ä¸€äº›äº†è§£ï¼š&lt;a href=&#34;https://teahour.fm/46&#34;&gt;Teahour: #46 - å’Œä¸ºçŸ¥ç¬”è®°çš„ CTO èŠèŠä»–çš„ç»å†å’ŒæŠ€æœ¯&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;å…¶ä»–æ¨è&#34;&gt;å…¶ä»–æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;linux-cç¼–ç¨‹ä¸€ç«™å¼å­¦ä¹ &#34;&gt;ã€ŠLinux Cç¼–ç¨‹ä¸€ç«™å¼å­¦ä¹ ã€‹&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://book.douban.com/subject/4141733/&#34;&gt;ã€ŠLinux Cç¼–ç¨‹ä¸€ç«™å¼å­¦ä¹  ã€‹&lt;/a&gt;æ˜¯ä¸€æœ¬åœ¨å›½å†…å¹¿å—å¥½è¯„çš„Cè¯­è¨€åˆå­¦è€…æ•™ç¨‹ï¼Œè±†ç“£è¯„åˆ†9.0ã€‚&lt;/p&gt;

&lt;p&gt;å¯æƒœï¼Œåæ¥å·²ç»ä¸å†ç‰ˆï¼Œæ—©æœŸä½œè€…æ›¾ç»å¼€æ”¾äº†å…è´¹çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯å¯èƒ½å†…å®¹å’Œæ­£å¼ç‰ˆæœ‰ä¸å°‘åŒºåˆ«ï¼š
&lt;a href=&#34;https://akaedu.github.io/book/&#34;&gt;Linux Cç¼–ç¨‹ä¸€ç«™å¼å­¦ä¹ &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;è€Œä¸”ï¼Œç°åœ¨å…è´¹ç‰ˆæœ¬ä¹Ÿä¸å†æ›´æ–°äº†ã€‚&lt;/p&gt;

&lt;p&gt;å³ä¾¿æ˜¯ç°åœ¨ï¼Œå¾ˆå°‘äººä¼šç›´æ¥æ‹¿Cå†™ä»£ç ï¼ŒCè¯­è¨€æ…¢æ…¢å˜æˆäº†â€œäº‘æ—¶ä»£çš„æ±‡ç¼–è¯­è¨€â€ï¼Œä½†æ˜¯å­¦ä¹ ä¸€ç‚¹Cè¯­è¨€ï¼Œå¯¹äºäº†è§£ç³»ç»Ÿè¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¤§å¦ˆçš„ä¸–ç•Œ&#34;&gt;ã€Šå¤§å¦ˆçš„ä¸–ç•Œã€‹&lt;/h2&gt;

&lt;p&gt;æœ€åæ¨èæœ€è¿‘çœ‹çš„å‰§&lt;a href=&#34;https://movie.douban.com/subject/35715961/&#34;&gt;ã€Šå¤§å¦ˆçš„ä¸–ç•Œ ã€‹&lt;/a&gt;ï¼Œç”±87ç‰ˆã€Šè¥¿æ¸¸è®°ã€‹ç‰å…”ç²¾æ‰®æ¼”è€…æç²ç‰å‡ºæ¼”ï¼Œæ¯ä¸€é›†å¤§æ¦‚5åˆ†é’Ÿï¼Œä¸»é¢˜æ¶‰åŠåè¯ˆéª—ã€å¹¿åœºèˆã€äº’è”ç½‘ç­‰å¤§å¦ˆæ—¥å¸¸çš„ç”Ÿæ´»è¯é¢˜ï¼Œè½»æ¾æç¬‘ï¼Œåœ¨ä¸´è¿‘æ˜¥èŠ‚çš„æ—¶é—´ç‚¹ï¼Œå€’æ˜¯ä¸é”™çš„èƒ½å’Œçˆ¶æ¯ä¸€èµ·çœ‹çš„å‰§ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å‘¨åˆŠ(ç¬¬1æœŸ)ï¼šå¼€åˆŠï¼Œæ•°å­—åŒ–ç”Ÿæ´»æ•°æ®</title>
      <link>https://www.codedump.info/post/20220116-weekly-1/</link>
      <pubDate>Sun, 16 Jan 2022 10:00:54 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220116-weekly-1/</guid>
      <description>

&lt;h1 id=&#34;ä¸ºä»€ä¹ˆä¼šå†™å‘¨åˆŠ&#34;&gt;ä¸ºä»€ä¹ˆä¼šå†™å‘¨åˆŠ&lt;/h1&gt;

&lt;p&gt;æˆ‘ä¸ºå†™å‘¨åˆŠè¿™ä¸ªäº‹æƒ…æ€è€ƒäº†å°ä¸€é˜µå­ã€‚&lt;/p&gt;

&lt;p&gt;åˆ—ä¸¾äº†å¥½å‡ ä¸ªä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚æ¯”å¦‚ï¼Œä¼˜ç‚¹æœ‰èƒ½ä»¥è¾“å‡ºæ¥å€’é€¼è‡ªå·±çš„è¾“å…¥ï¼Œç¼ºç‚¹æœ‰æˆ‘çš„ç§¯ç´¯æ˜¯å¦èƒ½å¤Ÿè¶³ä»¥æ”¯æ’‘æˆ‘æ¯å‘¨å†™ä¸€ç‚¹ä¸œè¥¿ï¼Œä»¥åŠè¿™ç§æœ‰æ˜ç¡®æ—¶é—´é™åˆ¶çš„è¾“å‡ºï¼Œæ˜¯å¦ä¼šç»™æˆ‘å¸¦æ¥å¿ƒæ™ºè´Ÿæ‹…ï¼Œç­‰ç­‰ã€‚å†æ¯”å¦‚ï¼Œä»¥å¾€çš„åšå®¢å†…å®¹éƒ½æ˜¯å¾ˆâ€œç¡¬â€çš„æŠ€æœ¯å†…å®¹ï¼Œå‘¨åˆŠä¸å¯èƒ½ä¹Ÿä¸ä¼šæ¯å‘¨éƒ½æ›´æ–°ç¡¬æŠ€æœ¯æ–‡ç« ï¼Œä¼šä¸ä¼šå¯¼è‡´è¯»è€…ç¾¤æœ‰ç‚¹åˆ†è£‚ã€‚&lt;/p&gt;

&lt;p&gt;æ€è€ƒåˆ°æœ€åï¼Œæˆ‘è¿˜æ˜¯å†³å®šå†™å‘¨åˆŠã€‚&lt;/p&gt;

&lt;p&gt;ä»å»å¹´å¼€å§‹è¿œç¨‹å·¥ä½œï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨å®¶é‡Œã€‚ç”±äºæˆ‘åˆå¾ˆå®…ï¼Œç½‘è´­ä¹Ÿè¶³å¤Ÿçš„å‘è¾¾ï¼Œè¿™åˆè®©æˆ‘æ›´å®…äº†ã€‚ç„¶è€Œï¼Œâ€œç‰©ç†â€æ„ä¹‰ä¸Šçš„æ´»åŠ¨èŒƒå›´å˜å°ï¼Œå¹¶ä¸æ„å‘³ç€â€œé€»è¾‘â€ä¸Šèƒ½è§¦è¾¾çš„èŒƒå›´ä¹Ÿå˜å°äº†ï¼Œå®é™…æƒ…å†µæ˜¯ï¼Œç”±äºæŠŠé€šå‹¤æ—¶é—´èŠ‚çœä¸‹æ¥ï¼Œæˆ‘æœ‰æ›´å¤šæ—¶é—´çœ‹ä¹¦ã€è·‘æ­¥äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘éœ€è¦ä¸€ç§æ–¹å¼ï¼Œèƒ½è¾“å‡ºæˆ‘çœ‹åˆ°çš„ä¸€äº›ä¸œè¥¿ï¼Œæ¥ä¸å¤–ç•Œå‘ç”Ÿäº¤æµã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘åœ¨å¾®åšä¸Šçœ‹åˆ°äº†è¿™ä¹ˆä¸¤å¥è¯ï¼Œä¹Ÿåå‘è®©æˆ‘åšå®šäº†è¿™ä¹ˆåšçš„æ„ä¹‰ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ï¼ˆ&lt;a href=&#34;https://weibo.com/1244214071/LagQ8fzm0&#34;&gt;å®‹ä¸€æ¾SYSçš„å¾®åš&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;ç¤¾äº¤åª’ä½“åœ¨æˆ‘çœ‹æ¥æœ€å¤§çš„ä»·å€¼ï¼šå®ƒæ˜¯æœ€å¼€æ”¾çš„peer review system&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://weibo.com/5339148412/L6LhDE7Zu&#34;&gt;ç¡…è°·ç‹å·çš„å¾®åš&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;p&gt;è®©è¯»ä¹¦äº§ç”Ÿå¥½å¤„çš„æœ€ç®€å•åŠæ³•æ˜¯ï¼Œä¸€æ—¦æœ‰çµæ„Ÿå’Œæƒ³æ³•ä¹‹åï¼Œé©¬ä¸Šå†™å‡ºæ¥ï¼Œå…¬å¼€å‘å¸ƒåœ¨ç¤¾äº¤åª’ä½“ä¸Šï¼Œå³ä½¿ä¸æˆç†Ÿä¹Ÿæ²¡å…³ç³»ã€‚å†™çš„è¿‡ç¨‹ä¹Ÿæ˜¯è‡ªå·±æ·±åº¦æ€è€ƒçš„ä¸€ä¸ªæ­¥éª¤ï¼Œå¤–äººçš„æœ‰ä»·å€¼è¯„è®ºå¯å¸®ä½ ä¸æ–­æ¨æ•²ï¼Œæˆ–ç»™ä½ å¸¦æ¥æ–°çš„çº¿ç´¢ï¼Œç§¯ç´¯å¤šäº†è‡ªç„¶ä¼šå‡ºæ·±åˆ»çš„æ´è§ã€‚ä¸€ä¸ªäººå­¤ç«‹å°é—­çš„å‚»è¯»å†™ç¬”è®°ï¼Œå¾ˆéš¾è¿…é€Ÿæé«˜æ€è€ƒæ·±åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å‘¨åˆŠäºæˆ‘çš„æ„ä¹‰ï¼Œå°±æ˜¯èƒ½å®šæœŸæŠŠè‡ªå·±æƒ³åˆ°ã€çœ‹åˆ°çš„äº‹æƒ…éƒ½å…¬å¼€å‡ºå»ï¼Œåå‘çš„è®©è‡ªå·±å®šæœŸæ•´ç†ã€è¾“å‡ºï¼Œè¿™æ˜¯æˆ‘çªç ´â€œç‰©ç†â€ç•Œé™å’Œäººäº¤æµçš„æ‰‹æ®µä¹‹ä¸€ã€‚å†…å®¹å°†ä¼šä»¥è‡ªå·±çš„ä¸€äº›æƒ³æ³•ã€ä¸šç•Œçš„åŠ¨æ€ã€æ¨èã€è¯»ä¹¦ã€å½±è§†ç­‰ä¸ºå‡†ï¼Œä¸æˆ‘å†™çš„å…¶ä»–æŠ€æœ¯æ–‡ç« ç›¸æ¯”ï¼Œä¸ä¼šè¿™ä¹ˆâ€œç¡¬â€ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œå†™å‘¨åˆŠè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œä¹‹å‰æœ‰å¾ˆå¤šæƒ³æ³•ã€å¿µå¤´ä¼šæ•£è½åœ¨å„ç§ç¤¾äº¤å¹³å°è¿™æ ·çš„æ–°åª’ä½“ä¸Šï¼Œå®é™…å¯¹æ•´ç†ã€æ±‡æ€»ã€ç´¢å¼•ç­‰ä¹Ÿä¸å¥½ï¼ŒæŠŠå¿µå¤´æ±‡ä¹‹äºæ–‡ç« ï¼Œç”¨è¿™ç§æ›´è€å¼çš„ä¼ æ’­æ–¹å¼å¯ä»¥æ›´å¥½å¾—è®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;

&lt;h1 id=&#34;æ•°å­—åŒ–ç”Ÿæ´»æ•°æ®&#34;&gt;æ•°å­—åŒ–ç”Ÿæ´»æ•°æ®&lt;/h1&gt;

&lt;p&gt;æ—¢ç„¶è°ˆåˆ°äº†å‘¨åˆŠåšä¸ºä¸ªäººå¯¹å¤–è¾“å‡ºçš„ä¸€ä¸ªæ‰‹æ®µï¼Œæˆ‘å°±æƒ³èµ·æœ€è¿‘å‡ å¹´ä¸€ç›´åœ¨åšçš„äº‹æƒ…ï¼šæ•°å­—åŒ–å„ç§ç”Ÿæ´»æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;åšè¿‡ä¸€é˜µå­æ—¶åºæ•°æ®åº“çš„å¼€å‘ï¼Œæœ‰äº›äººå½“æ—¶å¹¶ä¸å¤ªäº†è§£ä»€ä¹ˆå«åšâ€œæ—¶åºæ•°æ®â€ï¼Œäºæ˜¯æˆ‘å½“æ—¶æƒ³äº†ä¸€ä¸‹ç”Ÿæ´»é‡Œçš„ç±»æ¯”ï¼Œå…¶å®â€œæ—¶åºæ•°æ®â€å°±å¥½æ¯”æˆ‘ä»¬çš„â€œæµæ°´è´¦â€ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;9:00ï¼šèµ·åºŠï¼Œæ´—æ¼±ã€‚&lt;/li&gt;
&lt;li&gt;9:30ï¼šå·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;12:00ï¼šåˆé¤ã€‚&lt;/li&gt;
&lt;li&gt;&amp;hellip;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€è°“â€œæ•°å­—åŒ–ç”Ÿæ´»æ•°æ®â€ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºæŠŠè¿™äº›è®°å½•ä¸‹æ¥ã€‚â€œæ—¶åºæ•°æ®â€ï¼Œè¯´ç™½äº†å°±æ˜¯æ—¶é—´å¼ºç›¸å…³çš„æ•°æ®ï¼Œä»¥æ—¶é—´ä¸ºç¬¬ä¸€ç»´åº¦æ¥å­˜å‚¨ã€æŸ¥è¯¢çš„æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;â€œæ•°å­—åŒ–å„ç§ç”Ÿæ´»æ•°æ®â€ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„æœ‰ä»€ä¹ˆï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œæœ‰è¿™äº›å¥½å¤„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å½¢æˆä¸Šé¢çš„â€œæ—¶åºæ•°æ®â€ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿è¿›è¡Œèšåˆã€ç»Ÿè®¡ã€æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;å®šæœŸè¿˜èƒ½ä¾èµ–äºå„ç§å·¥å…·æ¥è¿›è¡Œæ±‡æ€»ã€å›é¡¾ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¯”å¦‚ï¼Œæˆ‘æ¯å¤©éƒ½åœ¨ç”¨çš„&lt;code&gt;DayOne&lt;/code&gt; appï¼Œå°±æœ‰ä¸€ä¸ªâ€œæ¯å¹´ä»Šæ—¥â€çš„åŠŸèƒ½ï¼Œæé†’æˆ‘ä»¥å¾€çš„è¿™ä¸€å¤©æˆ‘éƒ½è®°å½•äº†ä»€ä¹ˆï¼Œè¿™å°±æ˜¯åŸºäºè¿™äº›æ—¶åºæ•°æ®çš„æ±‡æ€»ï¼›å†æ¯”å¦‚ï¼Œæ¯åˆ°å¹´åº•å„ç§appéƒ½ä¼šè‡ªåŠ¨ç»™ç”¨æˆ·æ±‡æ€»ç”Ÿæˆè¿™ä¸€å¹´çš„ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡æ•°æ®ï¼Œå‘Šè¯‰ä½ æœ€å–œæ¬¢çš„æ­Œã€å’Œä½ çˆ±å¥½æœ€åŒ¹é…çš„äººï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;è¿™äº›åŠŸèƒ½ï¼Œéƒ½ä¾èµ–äºä½ ä¹‹å‰ä¸ŠæŠ¥è¿‡çš„â€œæ—¶åºæ•°æ®â€ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå¤©è¦æ¨èçš„ä¸¤ä¸ªç›¸å…³çš„å¼€æºé¡¹ç›®ï¼Œä½œè€…éƒ½æ˜¯&lt;a href=&#34;https://github.com/yihong0618&#34;&gt;yihong0618 (yihong)&lt;/a&gt;ï¼Œä»–ä¹Ÿæ˜¯â€œæ•°å­—åŒ–ç”Ÿæ´»æ•°æ®â€çš„æå€¡è€…ï¼Œå¯ä»¥åœ¨å°å®‡å®™é‡Œæ”¶å¬ä»–çš„è®¿é—®ï¼š&lt;a href=&#34;https://www.xiaoyuzhoufm.com/episode/619896e8138b51cbd78f3912&#34;&gt;S01E03 ä¸“è®¿ YiHongï¼Œè‡ªå­¦æˆä¸ºæµè¡Œå¼€æºé¡¹ç›®ä½œè€…çš„ç‚¹æ»´ - å¼€æºé¢å¯¹é¢ | å°å®‡å®™ - å¬æ’­å®¢ï¼Œä¸Šå°å®‡å®™&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ä¸ªé¡¹ç›®æ˜¯&lt;a href=&#34;https://github.com/yihong0618/running_page&#34;&gt;yihong0618/running_page: Make your own running home page&lt;/a&gt;ï¼Œå¯ä»¥æŠ“å–ä¸»æµçš„å‡ ä¸ªè·‘æ­¥appæ•°æ®ï¼Œç”Ÿæˆå¥½çœ‹çš„è·‘æ­¥æ•°æ®å±•ç¤ºé¡µé¢ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-images.githubusercontent.com/15976103/98808834-c02f1d80-2457-11eb-9a7c-70e91faa5e30.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç¬¬äºŒä¸ªé¡¹ç›®æ˜¯&lt;a href=&#34;https://github.com/yihong0618/GitHubPoster&#34;&gt;yihong0618/GitHubPoster: Make everything a GitHub svg poster and Skyline!&lt;/a&gt;ï¼Œå¯ä»¥å°†åœ¨å„ç§appä¸Šï¼ˆtwitterã€å¤šé‚»å›½ã€æ‰‡è´ç­‰ï¼‰ä¸ŠæŠ¥çš„æ•°æ®å¯è§†åŒ–ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/yihong0618/GitHubPoster/raw/main/examples/summary_2021.svg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/yihong0618/GitHubPoster/raw/main/examples/strava_circular.svg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å¯è§†åŒ–å±•ç¤ºï¼Œä¼šç»™äººå¾ˆç›´è§‚çš„åé¦ˆã€‚äººçš„è¡Œä¸ºå¦‚æœèƒ½å¾—åˆ°å³æ—¶çš„åé¦ˆï¼ŒæŸç§ç¨‹åº¦ä¸Šä¼šæœ‰æ­£å‘ä½œç”¨ã€‚ä»¥æˆ‘æ¥è¯´ï¼Œå»å¹´9æœˆä»½å¼€å§‹è·‘æ­¥ï¼Œä¹Ÿæ˜¯forkäº†è¿™ä¸ªé¡¹ç›®æ¯å¤©ç”Ÿæˆè·‘æ­¥çš„å¯è§†åŒ–æ•°æ®åˆ°æˆ‘çš„ç½‘ç«™ï¼Œæ—¶ä¸æ—¶ä¼šçœ‹ä¸€çœ‹æ•°æ®ï¼ŒçŸ¥é“è‡ªå·±éƒ½åšäº†å“ªäº›åŠªåŠ›ï¼Œæ½œç§»é»˜åŒ–çš„ä¼šè®©æˆ‘æœ‰ä¸€äº›æˆå°±æ„Ÿã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªæƒ³æ³•ï¼šæœªæ¥ä¼šä¸ä¼šæœ‰ä¸€å¤©ï¼Œå¯ä»¥æ‹¿åˆ°ä¸€ä¸ªäººæ‰€æœ‰çš„æ•°å­—åŒ–æ•°æ®ï¼Œåœ¨è¿™ä¸ªäººå»ä¸–ä¹‹åä»¥è¿™äº›æ•°æ®é‡å¡‘å›ä¸€ä¸ªâ€œä¸€æ ·â€çš„äººï¼Ÿ&lt;/p&gt;

&lt;h1 id=&#34;æ¨è&#34;&gt;æ¨è&lt;/h1&gt;

&lt;h2 id=&#34;ç®—æ³•å¯è§†åŒ–äº¤äº’åŠ¨å›¾&#34;&gt;ç®—æ³•å¯è§†åŒ–äº¤äº’åŠ¨å›¾&lt;/h2&gt;

&lt;p&gt;æ—¢ç„¶è¿™ä¸€æœŸè®²åˆ°äº†æ•°å­—åŒ–æ•°æ®ä¹‹åæ–¹ä¾¿äº¤äº’æ¼”ç¤ºï¼Œå°±æ¥ç€æ¨èæ—§é‡‘å±±å¤§å­¦åˆ¶ä½œçš„ç³»åˆ—ç®—æ³•å¯è§†åŒ–äº¤äº’åŠ¨å›¾ï¼ŒåŒ…æ‹¬å¸¸è§çš„å †ã€æ ˆã€é˜Ÿåˆ—ç­‰ã€‚å­¦ä¹ ç®—æ³•æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œå¦‚æœèƒ½å›¾ç¤ºåŒ–çš„å±•ç°å…¶å˜åŒ–è¿‡ç¨‹ï¼Œç†è§£èµ·æ¥å°±ä¼šæ›´é¡ºç•…ï¼Œåœ¨å­¦ä¹ B+Treeç®—æ³•çš„æ—¶å€™ï¼Œæˆ‘å°±ç”¨è¿‡è¿™é‡Œçš„æ¼”ç¤ºæ¥ç†è§£æµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.cs.usfca.edu/~galles/visualization/Algorithms.html&#34;&gt;Data Structure Visualization&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;b-treeä¸­çš„-b-æ˜¯ä»€ä¹ˆæ„æ€&#34;&gt;B-Treeä¸­çš„â€œBâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;ä¸Šé¢æåˆ°äº†B+Treeï¼ŒB-Treeæ•°æ®ç»“æ„ä¸­çš„â€œBâ€åˆ°åº•æ˜¯ä»€ä¹ˆå•è¯çš„ç¼©å†™ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸‹æ„è¯†çš„ï¼Œéƒ½è®¤ä¸ºæ˜¯â€œbalanceâ€çš„ç¼©å†™ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€ä¸ªå¹³è¡¡çš„æ ‘å½¢æ•°æ®ç»“æ„ã€‚ä½†æ˜¯å…¶å®ï¼Œè¿å‡ ä½å‘æ˜äººï¼Œä¹Ÿä»æ¥æ²¡æœ‰è§£é‡Šè¿‡ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰å¯èƒ½æ˜¯â€œboeingâ€çš„ç¼©å†™ï¼Œå› ä¸ºä½œè€…å½“æ—¶å°±èŒäºæ³¢éŸ³å…¬å¸ï¼›è¿˜æœ‰å¯èƒ½æ˜¯ç¬¬ä¸€ä½œè€…Bayerçš„åå­—é¦–å­—æ¯ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;B-trees were invented by &lt;a href=&#34;https://en.wikipedia.org/wiki/Rudolf_Bayer&#34;&gt;Rudolf Bayer&lt;/a&gt; and &lt;a href=&#34;https://en.wikipedia.org/wiki/Edward_M._McCreight&#34;&gt;Edward M. McCreight&lt;/a&gt; while working at &lt;a href=&#34;https://en.wikipedia.org/wiki/Boeing&#34;&gt;Boeing Research Labs&lt;/a&gt;, for the purpose of efficiently managing index pages for large random-access files. The basic assumption was that indexes would be so voluminous that only small chunks of the tree could fit in main memory. Bayer and McCreight&amp;rsquo;s paper, &lt;em&gt;Organization and maintenance of large ordered indices&lt;/em&gt;,[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-bayer-mccreight-1970-1&#34;&gt;1]&lt;/a&gt; was first circulated in July 1970 and later published in &lt;em&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Acta_Informatica&#34;&gt;Acta Informatica&lt;/a&gt;&lt;/em&gt;.[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-FOOTNOTEBayerMcCreight1972-3&#34;&gt;3]&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Bayer and McCreight never explained what, if anything, the &lt;em&gt;B&lt;/em&gt; stands for: &lt;em&gt;Boeing&lt;/em&gt;, &lt;em&gt;balanced&lt;/em&gt;, &lt;em&gt;broad&lt;/em&gt;, &lt;em&gt;bushy&lt;/em&gt;, and &lt;em&gt;Bayer&lt;/em&gt; have been suggested.[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-FOOTNOTEComer1979123_footnote_1-4&#34;&gt;4]&lt;/a&gt;[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-herrenalb-5&#34;&gt;5]&lt;/a&gt;[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-6&#34;&gt;6]&lt;/a&gt; McCreight has said that &amp;ldquo;the more you think about what the B in B-trees means, the better you understand B-trees.&amp;rdquo;[&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree#cite_note-herrenalb-5&#34;&gt;5]&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/B-tree&#34;&gt;B-tree - Wikipedia&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç°</title>
      <link>https://www.codedump.info/post/20220106-sqlite-btree-4-wal/</link>
      <pubDate>Thu, 06 Jan 2022 21:48:18 +0800</pubDate>
      
      <guid>https://www.codedump.info/post/20220106-sqlite-btree-4-wal/</guid>
      <description>

&lt;p&gt;ã€Šsqlite3.36ç‰ˆæœ¬ btreeå®ç°ã€‹ç³»åˆ—æ–‡ç« ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-0/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆé›¶ï¼‰- èµ·æ­¥åŠæ¦‚è¿° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211217-sqlite-btree-1-pagecache/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸€ï¼‰- ç®¡ç†é¡µé¢ç¼“å­˜ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211218-sqlite-btree-2-concurrency-control/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäºŒï¼‰- å¹¶å‘æ§åˆ¶æ¡†æ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20211222-sqlite-btree-3-journal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆä¸‰ï¼‰- journalæ–‡ä»¶å¤‡ä»½æœºåˆ¶ - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220106-sqlite-btree-4-wal/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆå››ï¼‰- WALçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.codedump.info/post/20220201-sqlite-btree-5-btree/&#34;&gt;sqlite3.36ç‰ˆæœ¬ btreeå®ç°ï¼ˆäº”ï¼‰- Btreeçš„å®ç° - codedumpçš„ç½‘ç»œæ—¥å¿—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h1&gt;

&lt;p&gt;å‰é¢ä¸¤èŠ‚ï¼Œåˆ†åˆ«è®²è§£äº†sqliteä¸­å†™å…¥äº‹åŠ¡æ—¶çš„å¹¶å‘æ§åˆ¶æ¡†æ¶ï¼Œä»¥åŠjournalå¤‡ä»½æ–‡ä»¶çš„å®ç°æœºåˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;å›å¿†ä¸€ä¸‹journalå¤‡ä»½æ–‡ä»¶çš„å®ç°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡ä¸€ä¸ªæ–°çš„å†™äº‹åŠ¡å¼€å§‹ä¹‹å‰ï¼Œè¦é¦–å…ˆå†™journalæ–‡ä»¶çš„æ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;å†™äº‹åŠ¡è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¿®æ”¹äº†å“ªä¸ªé¡µé¢ï¼Œåœ¨ä¿®æ”¹ä¹‹å‰éœ€è¦é¦–å…ˆå°†è¿™ä¸ªé¡µé¢çš„å†…å®¹å†™å…¥åˆ°journalæ–‡ä»¶ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å†™äº‹åŠ¡å®Œæˆåï¼Œåœ¨åŒæ­¥æ‰€æœ‰ç¼“å­˜ä¸­è¢«ä¿®æ”¹çš„é¡µé¢åˆ°æ•°æ®åº“æ–‡ä»¶ä¹‹å‰ï¼Œè¦é¦–å…ˆå°†journalæ–‡ä»¶ä¸­çš„æ‰€æœ‰ä¿®æ”¹åŒæ­¥åˆ°ç£ç›˜ï¼Œç„¶åå†ä¿®æ”¹æ•°æ®åº“æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œjournalå¤‡ä»½çš„æ•´ä¸ªæµç¨‹éƒ½è¾ƒä¸ºåŸå§‹ï¼Œæ€§èƒ½ä¸é«˜ï¼Œæ‰€ä»¥åœ¨sqlite 3.7.0ç‰ˆæœ¬ï¼ˆ&lt;a href=&#34;https://www.sqlite.org/releaselog/3_7_0.html&#34;&gt;SQLite Release 3.7.0 On 2010-07-21&lt;/a&gt;ï¼Œ2010-07-21ï¼‰ä¸­ï¼Œå¼•å…¥äº†å¦ä¸€ç§å¤‡ä»½æœºåˆ¶ï¼šWALï¼ˆWrite Ahead Logï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬èŠ‚é¦–å…ˆä»‹ç»WALçš„å®ç°åŸç†ï¼Œç„¶åå†å±•å¼€å…¶å…·ä½“çš„å®ç°ã€‚&lt;/p&gt;

&lt;h1 id=&#34;walå·¥ä½œåŸç†&#34;&gt;WALå·¥ä½œåŸç†&lt;/h1&gt;

&lt;p&gt;ä»å‰é¢journalçš„å®ç°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå†™å…¥journalæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ˜¯å¾…ä¿®æ”¹é¡µé¢ä¿®æ”¹ä¹‹å‰çš„å†…å®¹ï¼Œè€ŒWALåˆ™ç›¸åï¼šè¢«ä¿®æ”¹çš„é¡µé¢å†…å®¹é¦–å…ˆå†™å…¥åˆ°WALä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ç”¨sqliteå®˜ç½‘çš„æ–‡å­—æ¥è¯´ï¼ŒWALæ–‡ä»¶çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The write-ahead log or &amp;ldquo;wal&amp;rdquo; file is a roll-forward journal that records transactions that have been committed but not yet applied to the main database.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å³WALæ–‡ä»¶ä¸­å­˜å‚¨çš„æ˜¯è¢«ä¿®æ”¹ä½†æ˜¯è¿˜æ²¡æœ‰å†™å…¥æ•°æ®åº“æ–‡ä»¶çš„é¡µé¢å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/page-backup.png&#34; alt=&#34;ä¸¤ç§é¡µé¢å¤‡ä»½æœºåˆ¶&#34; title=&#34;ä¸¤ç§é¡µé¢å¤‡ä»½æœºåˆ¶&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;WALæ•´ä½“çš„å®ç°æœºåˆ¶ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæµç¨‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¯¹é¡µé¢çš„ä¿®æ”¹ï¼Œå¯ä»¥åªå†™å…¥åˆ°WALæ–‡ä»¶ä¸­å°±è®¤ä¸ºå®Œæˆï¼Œä¸å¿…ä¸€å®šè¦è½ç›˜åˆ°æ•°æ®åº“æ–‡ä»¶æ‰èƒ½ç®—å®Œæˆï¼Œè¿™ä¸ªè®¾å®šä¿è¯äº†WALçš„ä¿®æ”¹æ“ä½œæ¯”journalæ€§èƒ½æœ‰å¾ˆå¤§çš„æå‡ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºä¸Šé¢çš„è¿™ä¸€ç‚¹ä¿è¯ï¼ŒåŒä¸€æ—¶é—´çš„å¹¶å‘è¯»æ“ä½œï¼Œèƒ½ç»§ç»­è¯»æ•°æ®åº“ä¸­æœªä¿®æ”¹çš„å†…å®¹ï¼Œæå¤§æå‡äº†è¯»å¹¶å‘çš„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å½“ç„¶WALä¹Ÿä¸èƒ½æ— é™åˆ¶çš„ä¸€ç›´å†™ä¸‹å»ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œè§¦å‘å°†ä¿å­˜åœ¨WALä¸­çš„é¡µé¢å†…å®¹å†™å…¥å›åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæµç¨‹è¢«ç§°ä¸º&lt;code&gt;checkpoint&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;walç›¸å…³æ–‡ä»¶ç»“æ„&#34;&gt;WALç›¸å…³æ–‡ä»¶ç»“æ„&lt;/h2&gt;

&lt;p&gt;åœ¨å·¥ä½œåŸç†éƒ¨åˆ†ï¼Œåªä¼šç®€å•è®²è§£WALç›¸å…³æ–‡ä»¶ç»“æ„ï¼Œå…·ä½“çš„æ ¼å¼ç­‰ç»†èŠ‚ç•™å¾…ä¸‹é¢çš„å®ç°éƒ¨åˆ†è¯¦ç»†è®²è§£ã€‚&lt;/p&gt;

&lt;p&gt;WALæ–‡ä»¶æœ¬èº«çš„æ ¼å¼å¾ˆç®€å•ï¼Œæœ‰å¦‚ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;WALæ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;ç´§è·Ÿç€æ–‡ä»¶å¤´ä¹‹åçš„ï¼Œå°±æ˜¯ç”±ä¿®æ”¹ä¹‹åçš„é¡µé¢å†…å®¹ç»„æˆçš„é¡µé¢å†…å®¹æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œå½“äº‹åŠ¡è¢«æäº¤æ—¶ï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ªç‰¹æ®Šçš„WALæ—¥å¿—ï¼Œæ ‡è®°è¿™ä¸ªäº‹åŠ¡æäº¤äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¢è¨€ä¹‹ï¼Œä¸€ä¸ªWALä¸­ï¼Œå¯èƒ½å…ˆåå­˜å‚¨äº†å¤šä¸ªäº‹åŠ¡çš„å†™å…¥ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºWALæ–‡ä»¶ä¿å­˜çš„&lt;strong&gt;ä¿®æ”¹é¡µé¢&lt;/strong&gt;çš„å†…å®¹ï¼ŒåŒä¸€ä¸ªé¡µé¢ï¼Œå¯èƒ½åœ¨ä¸€æ¬¡äº‹åŠ¡ä¸­è¢«å¤šæ¬¡ä¿®æ”¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/wal-and-index.png&#34; alt=&#34;WALåŠWALé¡µé¢ç´¢å¼•æ•°æ®&#34; title=&#34;WALåŠWALé¡µé¢ç´¢å¼•æ•°æ®&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;WALå­˜å‚¨äº†å››ä¸ªé¡µé¢æ•°æ®ï¼Œå…¶ä¸­é¡µé¢ç¼–å·1è¢«ä¿®æ”¹äº†ä¸¤æ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœåœ¨è¿™ä¸ªå†™æ“ä½œå®Œæˆä¹‹åï¼Œéœ€è¦è¯»è¿™äº›é¡µé¢çš„å†…å®¹ï¼Œéƒ½éœ€è¦è¯»åˆ°æœ€æ–°çš„å†…å®¹ã€‚æ‰€ä»¥ï¼ŒWALè¿˜æœ‰ä¸€ä¸ªå¯¹åº”çš„&lt;code&gt;WALé¡µé¢ç´¢å¼•&lt;/code&gt;æ•°æ®ï¼Œè¿™éƒ¨åˆ†ç´¢å¼•æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä½œç”¨æ˜¯æ ¹æ®é¡µé¢ç¼–å·ï¼ŒçŸ¥é“è¯¥é¡µé¢ç¼–å·å¯¹åº”çš„æœ€æ–°å†…å®¹ï¼Œå­˜å‚¨åœ¨WALæ–‡ä»¶ä¸­çš„å…·ä½“ä½ç½®ï¼Œä»¥å–å¾—æŸä¸ªé¡µé¢çš„æœ€æ–°é¡µé¢å†…å®¹ï¼›å¦‚æœåœ¨è¿™ä¸ªå†…å­˜ç´¢å¼•ä¸­æŸ¥ä¸åˆ°çš„æ•°æ®ï¼Œéƒ½éœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–ã€‚&lt;/p&gt;

&lt;h2 id=&#34;checkpoint&#34;&gt;checkpoint&lt;/h2&gt;

&lt;p&gt;éšç€WALæ–‡ä»¶çš„å¢é•¿ï¼Œç»ˆç©¶è¦å°†é‡Œé¢ä¿®æ”¹çš„å†…å®¹åŒæ­¥åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæµç¨‹è¢«ç§°ä¸ºâ€œcheckpointâ€ã€‚åªè¦WALæ–‡ä»¶è¢«â€œcheckpointâ€ï¼Œå°±å¯ä»¥ä»å¤´å¼€å§‹å†™è¿™ä¸ªæ–‡ä»¶ï¼Œé¿å…æ–‡ä»¶çš„æ— é™å¢å¤§ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºjournalå¤‡ä»½æœºåˆ¶è€Œè¨€ï¼Œåªæœ‰ä¸¤ç§æ“ä½œï¼šè¯»å’Œå†™ï¼›è€Œå¯¹äºWALæœºåˆ¶è€Œè¨€ï¼Œå®é™…æœ‰ä¸‰ç§æ“ä½œï¼šè¯»ã€å†™ã€checkpointã€‚è¿™ä¹Ÿæ˜¯ä¸¤ç§æœºåˆ¶çš„ä¸»è¦åŒºåˆ«ä¹‹ä¸€ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¹¶å‘çš„å®ç°&#34;&gt;å¹¶å‘çš„å®ç°&lt;/h2&gt;

&lt;p&gt;å‰é¢æåˆ°äº†ï¼ŒWALæœºåˆ¶çš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºï¼šåœ¨å†™æœªå®Œæˆä¹‹å‰ï¼Œå¯ä»¥å…è®¸åŒæ—¶å¹¶å‘å¤šä¸ªè¯»æ“ä½œï¼Œæ¥çœ‹çœ‹è¿™ä¸€ç‚¹æ˜¯å¦‚ä½•åšåˆ°çš„ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ¯æ¬¡è¯»æ“ä½œå¼€å§‹ä¹‹å‰ï¼Œéƒ½ä¼šè®°å½•ä¸‹æ¥å½“å‰æœ€åæäº¤äº‹åŠ¡çš„æäº¤è®°å½•ï¼Œè¿™æ¡è®°å½•è¢«ç§°ä¸ºâ€œend markâ€ã€‚å› ä¸ºWALä¼šéšç€å†™æ“ä½œçš„è¿›è¡Œä¸æ–­å¢åŠ ï¼Œé€šè¿‡è¯»æ“ä½œçš„â€œend markâ€ï¼Œå°±èƒ½çŸ¥é“å¯¹äºè¿™ä¸ªè¯»æ“ä½œè€Œè¨€ï¼Œé¡µé¢å†…å®¹åº”è¯¥ä»¥å½“å‰WALå†…å®¹ä¸ºå‡†ï¼Œè¿˜æ˜¯ä»¥æ•°æ®åº“æ–‡ä»¶ä¸ºå‡†ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹å›¾ä¸ºä¾‹æ¥åšä¸ªè¯´æ˜ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/read-concurrency.png&#34; alt=&#34;è¯»å¹¶å‘çš„å®ç°&#34; title=&#34;è¯»å¹¶å‘çš„å®ç°&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šå›¾ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;WALæ–‡ä»¶ä¸­å…ˆåè®°å½•äº†ä¸¤ä¸ªå†™äº‹åŠ¡ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå†™äº‹åŠ¡ä¿®æ”¹äº†é¡µé¢ç¼–å·1ã€2ï¼Œå·²ç»æäº¤å®Œæˆï¼›è¿˜æœ‰ä¸€ä¸ªåœ¨è¿›è¡Œè¿˜æœªå®Œæˆçš„å†™äº‹åŠ¡ï¼Œä¿®æ”¹äº†é¡µé¢ç¼–å·1ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ—¶å€™ï¼Œå¦‚æœæ¥äº†ä¸€ä¸ªè¯»äº‹åŠ¡ï¼Œé‚£ä¹ˆå°†è®°å½•ä¸‹æ¥æœ€åä¸€ä¸ªå®Œæˆäº‹åŠ¡çš„æäº¤è®°å½•åšä¸ºè‡ªå·±çš„â€œend markâ€ï¼Œå³å›¾ä¸­çš„æµ…è“è‰²çš„é‚£ä¸ªæäº¤è®°å½•ã€‚&lt;/li&gt;
&lt;li&gt;å‡è®¾ç°åœ¨è¿™ä¸ªè¯»äº‹åŠ¡ï¼Œä¾æ¬¡è¦è¯»å–é¡µé¢ç¼–å·1å’Œ2çš„é¡µé¢ï¼Œé‚£ä¹ˆï¼š

&lt;ul&gt;
&lt;li&gt;åˆ°é¡µé¢ç´¢å¼•ä¸­æŸ¥è¯¢é¡µé¢1çš„ä½ç½®ï¼Œå‘ç°ä½ç½®æ¯”è‡ªå·±çš„â€œend markerâ€æ›´å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé¡µé¢åœ¨ä¸Šä¸€æ¬¡å®Œæˆå†™äº‹åŠ¡ä¹‹åï¼Œè¢«å½“å‰è¿˜æœªå®Œæˆçš„å†™äº‹åŠ¡ä¿®æ”¹äº†ï¼Œäºæ˜¯å¹¶ä¸èƒ½è¯»WALçš„å†…å®¹ï¼Œå› ä¸ºè¿™éƒ¨åˆ†å†…å®¹å¯¹è¿™ä¸ªè¯»æ“ä½œæ¥è¯´è¿˜æ˜¯æœªæäº¤çš„ï¼Œæ‰€ä»¥é¡µé¢1éœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–ã€‚&lt;/li&gt;
&lt;li&gt;åˆ°é¡µé¢ç´¢å¼•ä¸­æŸ¥è¯¢é¡µé¢2çš„ä½ç½®ï¼Œå‘ç°ä½ç½®æ¯”è‡ªå·±çš„â€œend markerâ€æ›´å°ï¼Œä¹Ÿå°±æ˜¯åœ¨è‡ªå·±æ ‡è®°çš„å†™äº‹åŠ¡å®Œæˆä¹‹åå¹¶æœªè¢«ä¿®æ”¹è¿‡ï¼Œäºæ˜¯å¯ä»¥è¯»WALä¸­è¿™ä¸ªé¡µé¢çš„å†…å®¹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯è§ï¼Œæœ‰äº†â€œend markâ€è¿™ä¸€æ ‡è®°ä½ç½®ä¹‹åï¼ŒåŠ ä¸Šé¡µé¢ç´¢å¼•ï¼Œä»»æ„æ•°é‡çš„è¯»æ“ä½œéƒ½èƒ½å¿«é€Ÿåˆ¤æ–­è‡ªå·±åº”è¯¥è¯»WALæ–‡ä»¶è¿˜æ˜¯æ•°æ®åº“æ–‡ä»¶ï¼Œå†™æ“ä½œå¯ä»¥ç»§ç»­å†™ï¼Œè¯»å’Œå†™ä¹‹é—´å¹¶ä¸ä¼šå†²çªï¼Œæå¤§æå‡äº†è¯»å¹¶å‘çš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;åŒæ ·è¦çœ‹åˆ°çš„æ˜¯ï¼Œç”±äºåªæœ‰ä¸€ä¸ªWALæ–‡ä»¶ï¼ŒåŒä¸€æ—¶é—´ä¹‹å†…ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå†™æ“ä½œã€‚å³ï¼š&lt;strong&gt;sqliteçš„WALæ¨¡å¼ï¼Œåªèƒ½æ”¯æŒå•å†™å¤šè¯»çš„æ¨¡å¼ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;è¯»æ“ä½œå’Œcheckpointçš„è”ç³»&#34;&gt;è¯»æ“ä½œå’Œcheckpointçš„è”ç³»&lt;/h2&gt;

&lt;p&gt;å‰é¢è®²åˆ°äº†checkpointä»¥åŠè¯»å¹¶å‘çš„å®ç°ï¼Œä¸¤è€…å¯ä»¥å¹¶å‘ä¸€èµ·æ‰§è¡Œï¼Œä½†æ˜¯æŸäº›æ—¶åˆ»ä¼šæœ‰ä¸€äº›å…³è”ï¼Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºè¶…è¿‡è¯»æ“ä½œâ€œend markâ€çš„é¡µé¢ï¼Œè¯»æ“ä½œéœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–è¯¥é¡µé¢å†…å®¹ï¼Œé‚£ä¹ˆåè¿‡æ¥ï¼Œå½“checkpointæ“ä½œè¦å°†ä¸€ä¸ªè¶…è¿‡å½“å‰å¹¶å‘çš„&lt;strong&gt;ä»»æ„è¯»æ“ä½œ&lt;/strong&gt;â€œend markâ€çš„é¡µé¢è½åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­æ—¶ï¼Œå°±å¿…é¡»ç­‰å¾…è¿™ä¸ªè¯»æ“ä½œå®Œæˆæ‰èƒ½è¿›è¡Œã€‚&lt;/p&gt;

&lt;p&gt;ä»ç„¶ä»¥å‰é¢è¯»å¹¶å‘çš„ç¤ºæ„å›¾æ¥è§£é‡Šè¿™ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;checkpoint é¡µé¢ç¼–å·2çš„å†…å®¹åˆ°æ•°æ®åº“æ–‡ä»¶æ—¶ï¼Œè¯¥é¡µé¢æœ€ååœ¨WALæ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œå¹¶ä¸æ¯”å½“å‰çš„ä»»æ„è¯»æ“ä½œçš„â€œend markâ€œæ›´å¤§ï¼Œæ‰€ä»¥checkpointè¿™ä¸ªé¡µé¢çš„å†…å®¹åˆ°æ•°æ®åº“æ–‡ä»¶æ—¶æ— éœ€ç­‰å¾…å³å¯å®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;åè¿‡æ¥ï¼Œcheckpoint é¡µé¢ç¼–å·1çš„å†…å®¹åˆ°æ•°æ®åº“æ–‡ä»¶æ—¶ï¼Œè¯¥é¡µé¢æœ€ååœ¨WALæ–‡ä»¶ä¸­çš„ä½ç½®ï¼Œå¤§äºå½“å‰è¯»æ“ä½œçš„â€end markâ€œï¼Œæ‰€ä»¥è¿™ä¸ªé¡µé¢çš„å†…å®¹å°±éœ€è¦ç­‰å¾…è¯»æ“ä½œå®Œæˆæ‰èƒ½è¿›è¡Œä¸‹å»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¢è¨€ä¹‹ï¼šä¸€ä¸ªæ‰§è¡Œå¾ˆä¹…çš„è¯»æ“ä½œï¼Œå¯èƒ½ä¼šå½±å“åŒæ—¶åœ¨è¿›è¡Œçš„checkpointæ“ä½œçš„æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;è¢«é˜»å¡çš„checkpointå¿…é¡»ç­‰å¾…è¯»æ“ä½œå®Œæˆæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œå› æ­¤éœ€è¦ä¸€äº›é¢å¤–çš„ä¿¡æ¯æ¥ç»´æŠ¤å½“å‰checkpointæ‰§è¡Œçš„çŠ¶æ€ï¼Œè¿™äº›å…·ä½“çš„å®ç°ç»†èŠ‚éƒ½ä¼šåœ¨ä¸‹é¢å®ç°ç¯èŠ‚çš„åˆ†æä¸­æ¶‰åŠã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨å·²ç»å¤§ä½“æ¸…æ¥šWALçš„åŸç†äº†ï¼Œä¸‹é¢æ¥çœ‹å…·ä½“çš„å®ç°ã€‚&lt;/p&gt;

&lt;h1 id=&#34;walçš„å®ç°&#34;&gt;WALçš„å®ç°&lt;/h1&gt;

&lt;p&gt;sqliteä¸­ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;PRAGMA journal_mode=wal&lt;/code&gt;è®¾ç½®é¡µé¢å¤‡ä»½æœºåˆ¶ä¸ºwalï¼Œè¿™æ—¶å€™å°±ä¼šæœ‰ä¸‰ä¸ªä¸æ•°æ®åº“ç›¸å…³çš„æ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“æ–‡ä»¶ï¼Œå‡è®¾åå­—ä¸ºXã€‚&lt;/li&gt;
&lt;li&gt;WALæ–‡ä»¶ï¼Œåå­—ä¸ºâ€œX-walâ€ã€‚&lt;/li&gt;
&lt;li&gt;walç´¢å¼•æ–‡ä»¶ï¼Œåå­—ä¸ºâ€œX-shmâ€ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;walçš„æ–‡ä»¶æ ¼å¼&#34;&gt;WALçš„æ–‡ä»¶æ ¼å¼&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆæ¥çœ‹WALæ–‡ä»¶çš„æ ¼å¼ï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;WALæ–‡ä»¶å¤´ï¼šä¸€æ¬¡å†™äº‹åŠ¡ï¼Œå¯¹åº”ä¸€ä¸ªWALæ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;é™¤å»æ–‡ä»¶å¤´ï¼Œæ¯ä¸€é¡µæ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨â€œå¸§ï¼ˆframeï¼‰â€é‡Œï¼Œæ¯ä¸€å¸§åˆåŒ…æ‹¬ä¸¤éƒ¨åˆ†æ•°æ®ï¼š

&lt;ul&gt;
&lt;li&gt;å¸§å¤´éƒ¨ï¼šæè¿°å­˜å‚¨çš„è¿™ä¸€é¡µæ•°æ®çš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢æ•°æ®ï¼šå­˜å‚¨é¡µé¢æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;WALæ–‡ä»¶å¤´ï¼Œåªä¼šåœ¨æ¯æ¬¡å†™äº‹åŠ¡ä¸­å†™å…¥ä¸€æ¬¡ï¼Œè€Œå¸§å¯èƒ½åœ¨ä¸€æ¬¡å†™äº‹åŠ¡ä¸­å¤šå¤šä¸ªï¼Œå–å†³äºè¿™ä¸€æ¬¡å†™äº‹åŠ¡ä¿®æ”¹äº†å¤šå°‘é¡µé¢ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/wal-format.png&#34; alt=&#34;WALæ–‡ä»¶ç»“æ„&#34; title=&#34;WALæ–‡ä»¶ç»“æ„&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œä¾æ¬¡å­˜å‚¨äº†ä¸¤æ¬¡å†™äº‹åŠ¡çš„æ•°æ®ï¼Œå…¶ä¸­ç¬¬ä¸€æ¬¡å†™äº†ä¸¤å¸§æ•°æ®ï¼Œç¬¬äºŒæ¬¡å†™äº†ä¸€å¸§æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†ä»¥ä¸Šçš„æ¦‚å¿µï¼Œä¸‹é¢è¯¦ç»†çœ‹WALæ–‡ä»¶çš„ç»“æ„ã€‚&lt;/p&gt;

&lt;h3 id=&#34;walæ–‡ä»¶å¤´æ ¼å¼&#34;&gt;WALæ–‡ä»¶å¤´æ ¼å¼&lt;/h3&gt;

&lt;p&gt;ï¼ˆå¼•ç”¨è‡ª &lt;a href=&#34;https://www.sqlite.org/fileformat2.html&#34;&gt;Database File Format&lt;/a&gt; section 4.1ï¼‰&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Offset&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Size&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Magic number. 0x377f0682 or 0x377f0683&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;File format version. Currently 3007000.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;8&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Database page size. Example: 1024&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;12&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checkpoint sequence number&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;16&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Salt-1: random integer incremented with each checkpoint&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;20&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Salt-2: a different random number for each checkpoint&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;24&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checksum-1: First part of a checksum on the first 24 bytes of header&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;28&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checksum-2: Second part of the checksum on the first 24 bytes of header&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å…¶ä¸­çš„å¾ˆå¤šå­—æ®µè‡ªæœ‰è§£é‡Šï¼Œå…¶ä¸­å¤šæ•°æ¶‰åŠåˆ°é¡µé¢å†…å®¹çš„æ ¡éªŒï¼Œåé¢å†å±•å¼€è¯´ã€‚&lt;/p&gt;

&lt;h3 id=&#34;walå¸§å¤´éƒ¨æ ¼å¼&#34;&gt;WALå¸§å¤´éƒ¨æ ¼å¼&lt;/h3&gt;

&lt;p&gt;ï¼ˆå¼•ç”¨è‡ª &lt;a href=&#34;https://www.sqlite.org/fileformat2.html&#34;&gt;Database File Format&lt;/a&gt; section 4.1ï¼‰&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Offset&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Size&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;0&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Page number&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;For commit records, the size of the database file in pages after the commit. For all other records, zero.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;8&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Salt-1 copied from the WAL header&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;12&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Salt-2 copied from the WAL header&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;16&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checksum-1: Cumulative checksum up through and including this page&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;20&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checksum-2: Second half of the cumulative checksum.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¸§å¤´éƒ¨éœ€è¦å­˜å‚¨å¦‚ä¸‹çš„ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-4å­—èŠ‚ï¼šé¡µé¢ç¼–å·ã€‚&lt;/li&gt;
&lt;li&gt;4-8å­—èŠ‚ï¼šå¯¹äºæäº¤è®°å½•è€Œè¨€ï¼Œè¿™4å­—èŠ‚å­˜å‚¨çš„æ˜¯è¯¥äº‹åŠ¡æäº¤ä¹‹åï¼Œæ•°æ®åº“æ–‡ä»¶çš„æœ€å¤§é¡µé¢ç¼–å·ï¼›å…¶å®ƒçš„æ—¶å€™ï¼Œè¿™4å­—èŠ‚ä¸º0ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™4å­—èŠ‚å¤§äº0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ˜¯ä¸€æ¬¡äº‹åŠ¡çš„æœ€åä¸€æ¬¡é¡µé¢ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶å®ƒçš„å­—æ®µï¼Œéƒ½è·Ÿé¡µé¢çš„æ ¡éªŒæœ‰å…³ï¼Œæ¥ä¸‹æ¥å°±çœ‹çœ‹è¿™éƒ¨åˆ†çš„å®ç°ã€‚&lt;/p&gt;

&lt;h3 id=&#34;é¡µé¢å†…å®¹æ ¡éªŒç®—æ³•&#34;&gt;é¡µé¢å†…å®¹æ ¡éªŒç®—æ³•&lt;/h3&gt;

&lt;p&gt;å‰é¢çš„æ ¼å¼ä¸­ï¼Œæ— è®ºæ˜¯WALæ–‡ä»¶å¤´ï¼Œè¿˜æ˜¯WALå¸§å¤´éƒ¨ï¼Œéƒ½æœ‰ä»¥ä¸‹çš„å­—æ®µï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;8å­—èŠ‚çš„saltæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ç»„4å­—èŠ‚çš„checksumæ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ ¡éªŒæ—¶ï¼Œåªæœ‰æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æƒ…å†µä¸‹æ‰è®¤ä¸ºæ˜¯æ­£ç¡®çš„å¸§æ•°æ®ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¸§å¤´éƒ¨ä¸­çš„8å­—èŠ‚çš„saltæ•°æ®ï¼Œå’ŒWALå¤´éƒ¨çš„saltæ•°æ®ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ ¡éªŒç®—æ³•éå†é¡µé¢æ•°æ®è®¡ç®—å‡ºæ¥çš„checksumï¼Œå’Œå¸§å¤´éƒ¨çš„checksumæ•°æ®ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç¬¬ä¸€éƒ¨åˆ†saltæ•°æ®ï¼Œæ¯æ¬¡å†™äº‹åŠ¡ç”Ÿæˆä¸€æ¬¡ï¼Œæ‰€ä»¥æ ¡éªŒè¿™ä¸ªå€¼å¯ä»¥è®¤ä¸ºæ ¡éªŒè¿™ä¸€å¸§æ•°æ®æ˜¯å¦å’Œè¿™æ¬¡äº‹åŠ¡åŒ¹é…ï¼›è€Œç¬¬äºŒéƒ¨åˆ†çš„checksumæ•°æ®ï¼Œåˆ™ä¼šç”¨æ¥ä¾æ¬¡ä¸²èµ·ä¸€æ¬¡å†™äº‹åŠ¡çš„æ‰€æœ‰é¡µé¢ä¿®æ”¹ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸‹é¢è¿™ä¸ªå†™äº‹åŠ¡æµç¨‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡å†™é¡µé¢ï¼Œç”±äºä¹‹å‰è¿™ä¸ªå†™äº‹åŠ¡æ²¡æœ‰å†™è¿‡é¡µé¢ï¼Œæ‰€ä»¥åˆå§‹çš„checksumä¸º0ï¼Œä»¥è¿™ä¸ªåˆå§‹çš„checksumæ¥è®¡ç®—è¿™ç¬¬ä¸€ä¸ªé¡µé¢çš„checksumï¼Œè®¡ç®—ä¹‹åçš„å€¼è®°å½•åˆ°è¿™ä¸ªé¡µé¢çš„checksumï¼Œè®°ä¸º&lt;code&gt;checksum_1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡å†™é¡µé¢ï¼Œå–ä¸Šä¸€æ¬¡è®¡ç®—çš„checksumå³&lt;code&gt;checksum_1&lt;/code&gt;ï¼Œæ¥è®¡ç®—è¿™ç¬¬äºŒä¸ªé¡µé¢çš„checksumï¼Œè®°ä¸º&lt;code&gt;checksum_2&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç±»ä¼¼çš„ï¼Œç¬¬Næ¬¡å†™é¡µé¢æ—¶ï¼Œä»¥ä¸Šä¸€æ¬¡è®¡ç®—çš„checksumå³&lt;code&gt;checksum_n-1&lt;/code&gt;æ¥åšä¸ºè®¡ç®—çš„åˆå§‹å€¼è®¡ç®—ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™æ ·ï¼Œç›¸é‚»é¡µé¢ä¹‹é—´çš„æ ¡éªŒå€¼å°±æœ‰äº†å…³è”ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ç»“èµ·æ¥ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;saltï¼šæ¯æ¬¡äº‹åŠ¡ç®—ä¸€æ¬¡éšæœºå€¼ã€‚&lt;/li&gt;
&lt;li&gt;checksumï¼šæ»¡è¶³ä»¥ä¸‹ä»¥ä¸‹æ¡ä»¶ï¼š

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;checksum_0 = 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;checksum_n = F(checksum_n-1, é¡µé¢æ•°æ®)&lt;/code&gt;ï¼Œå…¶ä¸­å‡½æ•°Fæ˜¯æ ¹æ®åˆå§‹æ ¡éªŒå€¼å’Œé¡µé¢æ•°æ®è®¡ç®—å‡ºæ–°æ ¡éªŒå€¼çš„å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ ¡éªŒé¡µé¢çš„å‡½æ•°å®ç°åœ¨&lt;code&gt;walDecodeFrame&lt;/code&gt;ä¸­ï¼Œè€Œè®¡ç®—é¡µé¢æ ¡éªŒå€¼çš„å‡½æ•°å®ç°åœ¨&lt;code&gt;walChecksumBytes&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;

&lt;h2 id=&#34;walé¡µé¢ç´¢å¼•&#34;&gt;WALé¡µé¢ç´¢å¼•&lt;/h2&gt;

&lt;h3 id=&#34;ç»“æ„&#34;&gt;ç»“æ„&lt;/h3&gt;

&lt;p&gt;å‰é¢åˆ†æWALæ–‡ä»¶ç»“æ„çš„æ—¶å€™ï¼Œæåˆ°ä¿å­˜ä¸€é¡µæ•°æ®çš„å†…å®¹è¢«ç§°ä¸ºâ€œå¸§ï¼ˆframeï¼‰â€ï¼Œå¸§çš„ç¼–å·ä»1å¼€å§‹é¡ºåºé€’å¢ï¼Œæ¯ä¸€å¸§å†…å®¹å­˜å‚¨çš„é¡µé¢å†…å®¹å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/wal-frame.png&#34; alt=&#34;å¸§ä¸é¡µé¢çš„å¯¹åº”å…³ç³»&#34; title=&#34;å¸§ä¸é¡µé¢çš„å¯¹åº”å…³ç³»&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å›¾ä¸­ï¼Œä¾æ¬¡æœ‰å››å¸§é¡µé¢æ•°æ®ï¼Œå¸§æ•°ä¸é¡µé¢çš„å¯¹åº”å…³ç³»ä¾æ¬¡æ˜¯ï¼š(1,1)ï¼Œ(2,3)ï¼Œ(3,5)ï¼Œ(4,4)ã€‚å‡è®¾éšç€è¿è¡Œï¼Œç¬¬ä¸€å¸§å¯¹åº”çš„é¡µé¢1è¢«å†™å…¥äº†æ•°æ®åº“ï¼Œé‚£ä¹ˆç¬¬ä¸€å¸§çš„ç©ºé—´å°±ä¼šè¢«å¤ç”¨æ¥å­˜å‚¨åˆ«çš„é¡µé¢çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ï¼ŒWALé¡µé¢ç´¢å¼•ä¸­ï¼Œéœ€è¦å­˜å‚¨å¸§æ•°ä¸é¡µé¢ç¼–å·ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œè¿™æ ·å°±èƒ½ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è®¿é—®ä¸€å¸§çš„å†…å®¹æ—¶ï¼ŒçŸ¥é“ä¿å­˜çš„æ˜¯å“ªä¸ªé¡µé¢çš„å†…å®¹ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®é¡µé¢ç¼–å·ï¼Œèƒ½æŸ¥åˆ°è¿™ä¸ªé¡µé¢çš„æœ€æ–°æ•°æ®ä¿å­˜åœ¨å“ªä¸€å¸§ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ ¹æ®éœ€è¦çš„è¿™ä¸¤ä»½æ•°æ®ï¼Œå®šä¹‰äº†ç”¨äºä¿å­˜walç´¢å¼•çš„æ•°æ®ç»“æ„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-C&#34;&gt;struct WalHashLoc {
  volatile ht_slot *aHash;  /* Start of the wal-index hash table */
  volatile u32 *aPgno;      /* aPgno[1] is the page of first frame indexed */
  u32 iZero;                /* One less than the frame number of first indexed*/
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;aHashï¼šä¿å­˜äº†æ ¹æ®é¡µé¢ç¼–å·æŸ¥æ‰¾iFrameå¸§æ•°çš„hashæ•°ç»„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;aPgnoï¼šä¿å­˜äº†æ ¹æ®å¸§æ•°æŸ¥æ‰¾é¡µé¢ç¼–å·çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;iZeroï¼šä¿å­˜äº†å½“å‰ç´¢å¼•é¡µé¢ç¬¬ä¸€å¸§çš„å¸§æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¹ˆçœ‹æ¥æœ‰ä¸€äº›æŠ½è±¡ï¼Œæˆ‘ä»¬ä»¥ä¸‹å›¾æ¥åšè§£é‡Šwal-indexæ–‡ä»¶çš„ç»“æ„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/wal-index-format.png&#34; alt=&#34;WAL-Indexç´¢å¼•æ–‡ä»¶ç»“æ„å›¾&#34; title=&#34;WAL-Indexç´¢å¼•æ–‡ä»¶ç»“æ„å›¾&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå…¶ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;walç´¢å¼•æ–‡ä»¶ä¸€é¡µå¤§å°ä¸º32KBï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸è¦æŠŠwalç´¢å¼•æ–‡ä»¶çš„ä¸€é¡µä¸æ•°æ®åº“æ–‡ä»¶çš„ä¸€é¡µææ··ï¼Œä¸¤è€…å¹¶ä¸ä¸€å®šç›¸åŒï¼Œä½†æ˜¯éƒ½ä¸º2çš„æ¬¡æ–¹ï¼Œæ•°æ®åº“æ–‡ä»¶çš„ä¸€é¡µå¯ä»¥ç¼–è¯‘æœŸä¿®æ”¹ï¼Œä½†æ˜¯walç´¢å¼•æ–‡ä»¶çš„ä¸€é¡µå¤§å°å†™æ­»ä¸º32KBã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€é¡µç›¸å¯¹æœ‰äº›ç‰¹æ®Šï¼Œå› ä¸ºæœ€å¼€å§‹çš„136å­—èŠ‚æ˜¯walç´¢å¼•æ–‡ä»¶å¤´ï¼Œæ‰€ä»¥ç›¸å¯¹çš„ï¼Œå‰©ä¸‹ç”¨æ¥å­˜å‚¨ç´¢å¼•æ•°æ®çš„ç©ºé—´å°±ä¼šå˜å°‘ä¸€äº›ã€‚ç´¢å¼•æ–‡ä»¶å¤´çš„å†…å®¹ï¼Œç•™å¾…åé¢å†è¯¦ç»†è§£é‡Šã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€é¡µå­˜å‚¨çš„æ•°æ®ä¸­ï¼Œ&lt;code&gt;aPgno&lt;/code&gt;å¤§å°ä¸º4096ï¼ˆç¬¬ä¸€é¡µåªæœ‰4062ï¼Œå› ä¸ºæœ‰å¤´éƒ¨ç”¨åˆ°çš„ç©ºé—´ï¼‰ï¼Œ&lt;code&gt;aHash&lt;/code&gt;çš„å¤§å°ä¸º8192ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/WalHashLoc.png&#34; alt=&#34;é¡µé¢ç´¢å¼•æ•°æ®çš„æ„æˆ&#34; title=&#34;é¡µé¢ç´¢å¼•æ•°æ®çš„æ„æˆ&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;è¿™å‡ ä¸ªå¸¸é‡ï¼Œç”±ä¸‹é¢è¿™å‡ ä¸ªå®æ¥å®šä¹‰ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// æ¯ä¸€é¡µaPgnoæ•°ç»„å¤§å°
#define HASHTABLE_NPAGE      4096                 /* Must be power of 2 */
// æŸ¥è¯¢æ—¶hashå–æ¨¡æ—¶çš„è´¨æ•°
#define HASHTABLE_HASH_1     383                  /* Should be prime */
// æ¯ä¸€é¡µhash slotæ•°ç»„å¤§å°
#define HASHTABLE_NSLOT      (HASHTABLE_NPAGE*2)  /* Must be a power of 2 */

// é¡µé¢1å®é™…èƒ½å®¹çº³çš„aPgnoå¤§å°ï¼šHASHTABLE_NPAGEå‡å»WALINDEX_HDR_SIZEä½¿ç”¨çš„å¤§å°
#define HASHTABLE_NPAGE_ONE  (HASHTABLE_NPAGE - (WALINDEX_HDR_SIZE/sizeof(u32)))

// ä¸€ä¸ªwalç´¢å¼•é¡µé¢çš„å¤§å°ï¼Œä¸º4096*4+8192*2 = 32KB
#define WALINDEX_PGSZ   (                                         \
    sizeof(ht_slot)*HASHTABLE_NSLOT + HASHTABLE_NPAGE*sizeof(u32) \
)
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;ç´¢å¼•æ–‡ä»¶å¤´ç»“æ„&#34;&gt;ç´¢å¼•æ–‡ä»¶å¤´ç»“æ„&lt;/h4&gt;

&lt;p&gt;æ¥çœ‹çœ‹ç´¢å¼•æ–‡ä»¶å¤´çš„ç»“æ„ï¼Œå…¶æ•´ä½“å¤§å°ä¸º136å­—èŠ‚ï¼Œåˆ’åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;p&gt;ï¼ˆå¼•ç”¨è‡ª&lt;a href=&#34;https://www.sqlite.org/walformat.html&#34;&gt;WAL-mode File Format&lt;/a&gt; section 2.1ï¼‰&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Bytes&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;0..47&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;First copy of the WAL Index Information&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;48..95&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Second copy of the WAL Index Information&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;96..135&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checkpoint Information and Locks&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;è¿™æ€»å…±136å­—èŠ‚çš„æ•°æ®ï¼Œä¸€å…±åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0-47å­—èŠ‚ï¼šWALç´¢å¼•å¤´éƒ¨ï¼Œç”±ç»“æ„ä½“&lt;code&gt;WalIndexHdr&lt;/code&gt;æ¥æè¿°ã€‚&lt;/li&gt;
&lt;li&gt;48-95å­—èŠ‚ï¼šè¿˜æ˜¯ä¸€ä¸ªç”±ç»“æ„ä½“&lt;code&gt;WalIndexHdr&lt;/code&gt;æè¿°çš„WALç´¢å¼•å¤´éƒ¨ã€‚&lt;/li&gt;
&lt;li&gt;96-136å­—èŠ‚ï¼šç”±ç»“æ„ä½“&lt;code&gt;WalCkptInfo&lt;/code&gt;æè¿°çš„WAL checkpointä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸‹é¢çš„è¡¨æ ¼ï¼Œè¯¦ç»†å±•ç¤ºäº†è¿™136å­—èŠ‚ä¸­éƒ½æœ‰å“ªäº›å­—æ®µã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆå¼•ç”¨è‡ª&lt;a href=&#34;https://www.sqlite.org/walformat.html&#34;&gt;WAL-mode File Format&lt;/a&gt; section 2.1ï¼‰&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Bytes&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Name&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Meaning&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;0..3&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;iVersion&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;The WAL-index format version number. Always 3007000.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;4..7&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unused padding space. Must be zero.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;8..11&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;iChange&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unsigned integer counter, incremented with each transaction&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;12&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;isInit&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;The &amp;ldquo;isInit&amp;rdquo; flag. 1 when the shm file has been initialized.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;13&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;bigEndCksum&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;True if the WAL file uses big-ending checksums. 0 if the WAL uses little-endian checksums.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;14..15&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;szPage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;The database page size in bytes, or 1 if the page size is 65536.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;16..19&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;mxFrame&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of valid and committed frames in the WAL file.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;20..23&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;nPage&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Size of the database file in pages.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;24..31&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;aFrameCksum&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Checksum of the last frame in the WAL file.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;32..39&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;aSalt&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;The two salt value copied from the WAL file header. These values are in the byte-order of the WAL file, which might be different from the native byte-order of the machine.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;40..47&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;aCksum&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A checksum over bytes 0 through 39 of this header.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;48..95&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;A copy of bytes 0 through 47 of this header.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;96..99&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;nBackfill&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of WAL frames that have already been backfilled into the database by prior checkpoints&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;100..119&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;read-mark[0..4]&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Five &amp;ldquo;read marks&amp;rdquo;. Each read mark is a 32-bit unsigned integer (4 bytes).&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;120..127&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unused space set aside for 8 file locks.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;128..132&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;nBackfillAttempted&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Number of WAL frames that have attempted to be backfilled but which might not have been backfilled successfully.&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;132..136&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Unused space reserved for further expansion.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¸‹é¢å°±è¿™é‡Œçš„ä¸€äº›é‡ç‚¹å­—æ®µåšä¸€ä¸‹ä»‹ç»ã€‚&lt;/p&gt;

&lt;h5 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªç›¸åŒå¤§å°çš„walç´¢å¼•å¤´éƒ¨&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªç›¸åŒå¤§å°çš„WALç´¢å¼•å¤´éƒ¨ï¼Ÿ&lt;/h5&gt;

&lt;p&gt;æ³¨æ„åˆ°0-47å’Œ48-95è¿™ä¸¤éƒ¨åˆ†48å­—èŠ‚çš„æ•°æ®ï¼Œéƒ½æ˜¯åŒæ ·ç±»å‹çš„æ•°æ®ï¼Œéƒ½ç”±&lt;code&gt;WalIndexHdr&lt;/code&gt;ç»“æ„ä½“æ¥æè¿°ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·è®¾è®¡çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†è¯»å†™çš„æ—¶å€™æ•°æ®æ ¡éªŒã€‚å‡è®¾å¤´48å­—èŠ‚ä¸º&lt;code&gt;h1&lt;/code&gt;ï¼Œå48å­—èŠ‚ä¸º&lt;code&gt;h2&lt;/code&gt;ã€‚é‚£ä¹ˆè¯»æ“ä½œçš„æ—¶å€™æ˜¯å…ˆè¯»&lt;code&gt;h1&lt;/code&gt;å†è¯»&lt;code&gt;h2&lt;/code&gt;ï¼Œè€Œå†™æ“ä½œçš„æ—¶å€™åˆ™ç›¸åï¼Œå…ˆå†™&lt;code&gt;h2&lt;/code&gt;å†å†™&lt;code&gt;h1&lt;/code&gt;ã€‚è¿™æ ·ï¼Œå¦‚æœåœ¨è¯»æ“ä½œçš„æ—¶å€™ï¼Œè¯»åˆ°è¿™ä¸¤éƒ¨åˆ†å†…å®¹å¹¶ä¸ä¸€æ ·ï¼Œè¯´æ˜å½“å‰æœ‰å†™æ“ä½œåœ¨è¿›è¡Œã€‚&lt;/p&gt;

&lt;p&gt;è¯»å¤´éƒ¨çš„å®ç°è§å‡½æ•°&lt;code&gt;walIndexTryHdr&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;static SQLITE_NO_TSAN int walIndexTryHdr(Wal *pWal, int *pChanged)
{
  u32 aCksum[2];              /* Checksum on the header content */
  WalIndexHdr h1, h2;         /* Two copies of the header content */
  WalIndexHdr volatile *aHdr; /* Header in shared memory */

  aHdr = walIndexHdr(pWal);
  memcpy(&amp;amp;h1, (void *)&amp;amp;aHdr[0], sizeof(h1)); /* Possible TSAN false-positive */
  walShmBarrier(pWal);
  memcpy(&amp;amp;h2, (void *)&amp;amp;aHdr[1], sizeof(h2));

  // å¯¹æ¯”ä¸¤ä¸ªheaderï¼Œä¸ç›¸åŒå°±è¿”å›
  if (memcmp(&amp;amp;h1, &amp;amp;h2, sizeof(h1)) != 0)
  {
    return 1; /* Dirty read */
  }
  if (h1.isInit == 0)
  {
    return 1; /* Malformed header - probably all zeros */
  }
  // å¯¹æ¯”æ ¡éªŒå€¼
  walChecksumBytes(1, (u8 *)&amp;amp;h1, sizeof(h1) - sizeof(h1.aCksum), 0, aCksum);
  if (aCksum[0] != h1.aCksum[0] || aCksum[1] != h1.aCksum[1])
  {
    return 1; /* Checksum does not match */
  }

  // åˆ°äº†è¿™é‡Œï¼Œå°±æ˜¯åˆ¤æ–­æ˜¯å¦å‘ç”Ÿè¿‡æ”¹å˜äº†
  if (memcmp(&amp;amp;pWal-&amp;gt;hdr, &amp;amp;h1, sizeof(WalIndexHdr)))
  {
    *pChanged = 1;
    memcpy(&amp;amp;pWal-&amp;gt;hdr, &amp;amp;h1, sizeof(WalIndexHdr));
    pWal-&amp;gt;szPage = (pWal-&amp;gt;hdr.szPage &amp;amp; 0xfe00) + ((pWal-&amp;gt;hdr.szPage &amp;amp; 0x0001) &amp;lt;&amp;lt; 16);
    testcase(pWal-&amp;gt;szPage &amp;lt;= 32768);
    testcase(pWal-&amp;gt;szPage &amp;gt;= 65536);
  }

  /* The header was successfully read. Return zero. */
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;mxframeå’Œnbackfill&#34;&gt;mxFrameå’ŒnBackfill&lt;/h5&gt;

&lt;p&gt;&lt;code&gt;mxFrame&lt;/code&gt;è®°å½•ç€å½“å‰WALæ–‡ä»¶çš„æœ€å¤§å¸§æ•°ï¼Œè€Œ&lt;code&gt;nBackfill&lt;/code&gt;è®°å½•ç€å½“å‰&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œè¿›è¡Œåˆ°ç¬¬å‡ å¸§ï¼Œå³åœ¨&lt;code&gt;nBackfill&lt;/code&gt;ä¹‹å‰çš„å¸§æ•°éƒ½å·²ç»è¢«å†™å…¥æ•°æ®åº“æ–‡ä»¶äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¾ç„¶è¿™ä¸¤ä¸ªå€¼æœ‰å¦‚ä¸‹å…³ç³»ï¼š&lt;code&gt;nBackfill&amp;lt;=mxFrame&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;nBackfill&amp;lt;mxFrame&lt;/code&gt;ï¼Œ&lt;code&gt;checkpoint&lt;/code&gt;è¿‡ç¨‹è¿˜æœªç»“æŸã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nBackfill==mxFrame&lt;/code&gt;ï¼Œ&lt;code&gt;checkpoint&lt;/code&gt;è¿‡ç¨‹å·²ç»ç»“æŸï¼Œè¿™æ—¶å€™ï¼š

&lt;ul&gt;
&lt;li&gt;WALæ–‡ä»¶ä¸­çš„æ‰€æœ‰é¡µé¢å·²ç»è¢«å›å¡«ï¼ˆbackfillï¼‰åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­äº†ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è¯»é¡µé¢çš„æ“ä½œï¼Œéƒ½ä¸å†éœ€è¦è®¿é—®WALæ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥è®¿é—®æ•°æ®åº“æ–‡ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€æ¬¡å†æœ‰å†™æ“ä½œï¼Œå¯ä»¥ä»WALçš„å¤´éƒ¨å¼€å§‹å†™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;å®ç°&#34;&gt;å®ç°&lt;/h3&gt;

&lt;p&gt;æœ‰äº†å‰é¢çš„å‡†å¤‡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸¤ç§å¯¹åº”å…³ç³»çš„æŸ¥æ‰¾æ˜¯æ€ä¹ˆåšçš„ã€‚&lt;/p&gt;

&lt;h4 id=&#34;ç´¢å¼•é¡µé¢çš„å­˜å‚¨&#34;&gt;ç´¢å¼•é¡µé¢çš„å­˜å‚¨&lt;/h4&gt;

&lt;p&gt;å‰é¢åˆ†æåˆ°ï¼Œä¸€ä¸ªwalç´¢å¼•é¡µé¢çš„å¤§å°ä¸º32KBï¼Œè¿™äº›æ•°æ®æ˜¯å­˜å‚¨åœ¨&lt;code&gt;Wal&lt;/code&gt;ç»“æ„ä½“ä¸­çš„ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;struct Wal {
	// ...
	int nWiData;               /* Size of array apWiData */
	volatile u32 **apWiData;   /* Pointer to wal-index content in memory */
	// ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;apWiDataï¼šå­˜å‚¨é¡µé¢æŒ‡é’ˆçš„æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;nWiDataï¼šé¡µé¢æŒ‡é’ˆæ•°ç»„çš„å¤§å°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;æ ¹æ®å¸§æ•°æŸ¥è¯¢é¡µé¢ç¼–å·&#34;&gt;æ ¹æ®å¸§æ•°æŸ¥è¯¢é¡µé¢ç¼–å·&lt;/h4&gt;

&lt;p&gt;é¦–å…ˆæ¥çœ‹æ ¹æ®å¸§æ•°æŸ¥è¯¢è¿™ä¸€å¸§å­˜å‚¨çš„æ˜¯å“ªä¸ªé¡µé¢çš„æ•°æ®ï¼Œå³æ ¹æ®å¸§æ•°æŸ¥è¯¢é¡µé¢ç¼–å·çš„å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ç”±äºwalæ–‡ä»¶ä¸­ï¼Œåˆ°äº†ä¸€å®šå¤§å°ä¹‹åï¼Œå°±ä¼šæ‰§è¡Œâ€œcheckpointâ€æ“ä½œï¼Œæ‰€ä»¥å¸§æ•°ä¸€å®šæ˜¯æœ‰é™çš„ã€‚å³å¸§æ•°æ»¡è¶³ä»¥ä¸‹çš„æ¡ä»¶ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä»0å¼€å§‹é€’å¢ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ä¼šæ— é™å¢å¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥åœ¨&lt;code&gt;aPgno&lt;/code&gt;ä¸­ï¼Œå°±ç›´æ¥ä½¿ç”¨å¸§æ•°æ¥åšä¸ºè¿™ä¸ªæ•°ç»„çš„ç´¢å¼•ã€‚æ€»ç»“ä¸‹æ¥ï¼Œæ·»åŠ ä¸€ä¸ªå¸§æ•°å’Œé¡µé¢ä¹‹é—´å¯¹åº”å…³ç³»çš„å¤§ä½“çš„æ­¥éª¤å¦‚ä¸‹ï¼ˆå‡½æ•°&lt;code&gt;walIndexAppend&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é¦–å…ˆæ ¹æ®å¸§æ•°ï¼ŒçŸ¥é“åœ¨ç¬¬å‡ ä¸ªç´¢å¼•é¡µé¢ä¸­ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;apWiData&lt;/code&gt;æ•°ç»„çš„ç¬¬å‡ ä¸ªå…ƒç´ ï¼Œè¿™æ ·å°±æ‹¿åˆ°è¿™ä¸€å¸§å¯¹åº”åœ¨å“ªä¸ª32KBçš„æ•°æ®ã€‚ï¼ˆå‡½æ•°&lt;code&gt;walHashGet&lt;/code&gt;ï¼Œå¦å¤–å‡½æ•°&lt;code&gt;walFramePage&lt;/code&gt;æ˜¯æ ¹æ®å¸§æ•°å¾—åˆ°&lt;code&gt;apWiData&lt;/code&gt;æ•°ç»„ç´¢å¼•ï¼‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;rc = walHashGet(pWal, walFramePage(iFrame), &amp;amp;sLoc);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¸§æ•°å‡å»è¿™ä¸€é¡µçš„&lt;code&gt;iZero&lt;/code&gt;çŸ¥é“æ˜¯è¿™ä¸€é¡µä¸­çš„&lt;code&gt;aPgno&lt;/code&gt;æ•°ç»„çš„ç´¢å¼•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;idx = iFrame - sLoc.iZero;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åœ¨hashæ•°ç»„ä¸­æ‰¾åˆ°ç©ºä½ç½®å­˜å‚¨é¡µé¢ç¼–å·ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* Write the aPgno[] array entry and the hash-table slot. */
nCollide = idx;
for(iKey=walHash(iPage); sLoc.aHash[iKey]; iKey=walNextHash(iKey)){
  if( (nCollide--)==0 ) return SQLITE_CORRUPT_BKPT;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å°†ä¸¤è€…çš„å¯¹åº”å…³ç³»å­˜å‚¨ä¸‹æ¥ï¼Œå³ï¼šå‘&lt;code&gt;aPgno&lt;/code&gt;ä¸­å­˜å…¥é¡µé¢ç¼–å·ï¼Œå‘&lt;code&gt;aHash&lt;/code&gt;ä¸­å­˜å‚¨å¸§æ•°ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;  sLoc.aPgno[idx] = iPage;
  AtomicStore(&amp;amp;sLoc.aHash[iKey], (ht_slot)idx);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸ªè¿‡ç¨‹çš„å¤§ä½“ç¤ºæ„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/frame-pageno.png&#34; alt=&#34;æ·»åŠ å¸§æ•°ä¸é¡µé¢ç¼–å·å¯¹åº”å…³ç³»çš„æµç¨‹&#34; title=&#34;æ·»åŠ å¸§æ•°ä¸é¡µé¢ç¼–å·å¯¹åº”å…³ç³»çš„æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ä¸Šé¢çš„æµç¨‹ï¼Œå‡è®¾è¦å­˜å‚¨çš„å¯¹åº”å…³ç³»æ˜¯å¸§æ•°5000å­˜å‚¨çš„æ˜¯é¡µé¢ç¼–å·5ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ ¹æ®å¸§æ•°5000ï¼Œç®—å‡ºè¿™ä¸€å¸§çš„ç´¢å¼•æ•°æ®åº”è¯¥å­˜å‚¨åœ¨ç¬¬äºŒä¸ªç´¢å¼•é¡µé¢ä¸­ï¼Œç”±æ­¤æ‹¿åˆ°è¿™ä¸ªé¡µé¢çš„&lt;code&gt;WalHashLoc&lt;/code&gt;æŒ‡é’ˆã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å†æ ¹æ®5000ï¼Œå‡å»è¿™ä¸ªé¡µé¢çš„å¸§æ•°èµ·å§‹ä½ç½®4063ï¼Œå¾—åˆ°å¸§æ•°åç§»é‡ä¸º927ï¼Œå³è¿™ä¸ªå¸§åœ¨è¿™ä¸ª&lt;code&gt;WalHashLoc-&amp;gt;aPgno&lt;/code&gt;æ•°ç»„çš„ä½ç½®æ˜¯927ï¼Œå³&lt;code&gt;idx=927&lt;/code&gt;ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å†åˆ°&lt;code&gt;WalHashLoc-&amp;gt;aHash&lt;/code&gt;ä¸­ï¼Œæ‰¾åˆ°ä¸€ä¸ªç©ºçš„ä½ç½®ï¼Œè¿™ä¸ªç©ºä½ç½®å‡è®¾æ˜¯&lt;code&gt;iKey=101&lt;/code&gt;ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åˆ°äº†è¿™é‡Œï¼Œä½ç½®éƒ½æ‰¾åˆ°äº†ï¼Œæ›´æ–°æ•°æ®ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sLoc.aPgno[927] = 5;
AtomicStore(&amp;amp;sLoc.aHash[101], (ht_slot)927);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;é€šè¿‡å¸§æ•°æ‰¾åˆ°&lt;code&gt;aPgno&lt;/code&gt;æ˜¯ä¸€ä¸ªä¸¤æ¬¡ç´¢å¼•çš„è¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡æ ¹æ®å¸§æ•°æ‰¾åˆ°32KBé¡µé¢ï¼Œç¬¬äºŒæ¬¡å†æ ¹æ®å¸§æ•°æ‰¾åˆ°åœ¨è¿™ä¸€é¡µä¸­çš„å¸§æ•°åç§»é‡ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åä¿®æ”¹&lt;code&gt;aHash&lt;/code&gt;æ˜¯ä¸€æ¬¡åŸå­æ“ä½œï¼Œå› ä¸ºå…¶å®ƒåœ°æ–¹å¯èƒ½åŒæ—¶åœ¨æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;æ ¹æ®é¡µé¢ç¼–å·æŸ¥è¯¢æ‰€åœ¨å¸§&#34;&gt;æ ¹æ®é¡µé¢ç¼–å·æŸ¥è¯¢æ‰€åœ¨å¸§&lt;/h4&gt;

&lt;p&gt;å‰é¢åˆ†æäº†å¦‚ä½•å­˜å‚¨å¸§æ•°åˆ°é¡µé¢ç¼–å·çš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸€æ¬¡æ›´æ–°æ˜¯æŠŠä¸¤ä¸ªå¯¹åº”å…³ç³»ä¸€èµ·æ›´æ–°çš„ã€‚ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®å¸§æ•°æŸ¥æ‰¾çš„æµç¨‹å®é™…è¿˜æ˜¯ç›¸å¯¹ç®€å•çš„ï¼Œå°±æ˜¯ä¸¤æ¬¡ç´¢å¼•ï¼šä¸€æ¬¡æ‰¾åˆ°é¡µé¢ï¼Œå†ä¸€æ¬¡å°±æ˜¯é¡µé¢å†…çš„æŸ¥æ‰¾ï¼ŒåŸå› åœ¨äºï¼šå¸§æ•°æ˜¯æœ‰é™çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯é¡µé¢å°±ä¸æ˜¯è¿™æ ·äº†ï¼Œå› ä¸ºè¿™é‡Œè¦å­˜å‚¨çš„é¡µé¢ç¼–å·æ˜¯æ•°æ®åº“æ–‡ä»¶ä¸­çš„é¡µé¢ç¼–å·ï¼Œå¹¶ä¸çŸ¥é“å½“å‰æ•°æ®åº“åˆ°åº•å˜åˆ°å¤šå¤§äº†ï¼Œè¿™æ ·å°±ä¸èƒ½æŒ‰ç…§å‰é¢çš„æ–¹å¼æ¥ä¸¤æ¬¡ç´¢å¼•ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æ ¹æ®é¡µé¢ç¼–å·ï¼ŒçŸ¥é“è¿™ä¸€é¡µé¢æ˜¯å­˜å‚¨åœ¨å“ªä¸€å¸§é‡Œçš„ï¼Œå³walæ–‡ä»¶çš„å¸§æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨å‡½æ•°&lt;code&gt;sqlite3WalFindFrame&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ‹¿åˆ°è¯¥è¯»æ“ä½œå½“å‰æœ€å¤§å’Œæœ€å°å¸§æ•°ï¼Œæ ¹æ®è¿™ä¸¤ä¸ªå¸§æ•°å¾—åˆ°å¯¹åº”çš„ç´¢å¼•32KBé¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;ä»åå¾€å‰éå†è¿™äº›é¡µé¢ï¼Œæ¯ä¸ªé¡µé¢ä¸­åˆ°&lt;code&gt;WalHashLoc-&amp;gt;aHash&lt;/code&gt;ä¸­ï¼Œæ ¹æ®é¡µé¢ç¼–å·çš„hashå€¼æ¥æŸ¥æ‰¾ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªæµç¨‹ä¸€ç›´åˆ°æ‰¾åˆ°é¡µé¢ï¼Œæˆ–è€…å…¨éƒ¨éå†å®Œæ¯•ä¸ºæ­¢ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/sqlite3WalFindFrame.png&#34; alt=&#34;æ ¹æ®é¡µé¢ç¼–å·æŸ¥æ‰¾å¸§çš„æµç¨‹&#34; title=&#34;æ ¹æ®é¡µé¢ç¼–å·æŸ¥æ‰¾å¸§çš„æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä»è¿™ä¸ªæµç¨‹å¯ä»¥çœ‹åˆ°ï¼šæŸ¥æ‰¾é¡µé¢å¯¹åº”å¸§æ•°çš„æµç¨‹ï¼Œæœ€åçš„æƒ…å†µä¸‹å¯èƒ½éå†äº†æ‰€æœ‰ç´¢å¼•é¡µé¢ï¼Œè™½ç„¶å…¶ä¸­çš„æŸ¥æ‰¾è¿‡ç¨‹ä¼šæ ¹æ®é¡µé¢ç¼–å·çš„hashå€¼æ¥æŸ¥æ‰¾ã€‚äºæ˜¯ä¸€ä¸ªé‡è¦çš„ç»“è®ºå°±å‡ºæ¥äº†ï¼š&lt;strong&gt;WALçš„å®ç°ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå½“WALæ–‡ä»¶å¾ˆå¤§æ—¶ï¼Œå¯¹åº”çš„ç´¢å¼•é¡µé¢ä¹Ÿä¼šå¾ˆå¤§ï¼Œåœ¨ç´¢å¼•ä¸­æŸ¥æ‰¾é¡µé¢ç¼–å·çš„æµç¨‹å°±ä¼šå˜ä¹…ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;é”çš„å®ç°&#34;&gt;é”çš„å®ç°&lt;/h2&gt;

&lt;h3 id=&#34;æ•°æ®ç»“æ„&#34;&gt;æ•°æ®ç»“æ„&lt;/h3&gt;

&lt;p&gt;walæ¨¡å¼æä¾›äº†ä»¥ä¸‹4ç§é”ï¼Œè¿™4ç§é”ä»walç´¢å¼•æ–‡ä»¶å¤´éƒ¨120å­—èŠ‚å¤„å¼€å§‹ï¼Œæ¯ç§é”å ä¸€ä¸ªå­—èŠ‚ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;WAL_WRITE_LOCKï¼šå†™é”ï¼Œå†™æ“ä½œä¹‹å‰å¿…é¡»æ‹¿åˆ°å†™é”ã€‚&lt;/li&gt;
&lt;li&gt;WAL_CKPT_LOCKï¼šcheckpointé”ï¼Œåœ¨åšcheckpointä¹‹å‰éœ€è¦æ‹¿åˆ°è¿™ä¸ªé”ã€‚&lt;/li&gt;
&lt;li&gt;WAL_RECOVER_LOCKï¼šæ¢å¤é”ï¼Œåœ¨è¿›è¡Œæ¢å¤æ“ä½œä¹‹å‰è¦æ‹¿åˆ°è¿™ä¸ªé”ã€‚&lt;/li&gt;
&lt;li&gt;WAL_READ_LOCKï¼šè¯»é”ï¼Œä¸€å…±æœ‰äº”ä¸ªè¯»é”ï¼Œä½†æ˜¯ä½œç”¨ä¸å°½ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™å››ç§é”ï¼Œå…¶ä¸­æœ‰äº”ä¸ªè¯»é”ï¼Œä¸€å…±åŠ èµ·æ¥å°±æ˜¯8ä¸ªé”ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// walç´¢å¼•æ–‡ä»¶ä¸­é”çš„æ•°é‡
#define SQLITE_SHM_NLOCK        8

// å†™é”åœ¨æ‰€æœ‰é”ä¸­çš„åç§»é‡
#define WAL_WRITE_LOCK 0
// é™¤äº†å†™é”ä»¥å¤–çš„å…¶ä»–æ‰€æœ‰é”
#define WAL_ALL_BUT_WRITE 1
// checkpointé”åœ¨æ‰€æœ‰é”ä¸­çš„åç§»é‡
#define WAL_CKPT_LOCK 1
// æ¢å¤é”åœ¨æ‰€æœ‰é”ä¸­çš„åç§»é‡
#define WAL_RECOVER_LOCK 2
// è¾“å…¥è¯»é”ç´¢å¼•ï¼Œè¿”å›å¯¹åº”è¯»é”åœ¨æ‰€æœ‰é”ä¸­çš„åç§»é‡ï¼Œå› ä¸ºè¯»é”ä»3å¼€å§‹ï¼Œæ‰€ä»¥+3
#define WAL_READ_LOCK(I) (3 + (I))
// è¯»ç´¢å¼•çš„æ•°é‡ = æ‰€æœ‰é”æ•°é‡ - è¯»é”èµ·å§‹ä½ç½®3
#define WAL_NREADER (SQLITE_SHM_NLOCK - 3)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæ˜¯ç´¢å¼•æ–‡ä»¶å¤´éƒ¨120å­—èŠ‚å¤„å¼€å§‹çš„å‘¢ï¼Ÿä»ä¸Šé¢å¯¹walç´¢å¼•æ–‡ä»¶çš„æ ¼å¼åˆ†æå¯çŸ¥ï¼šç´¢å¼•æ–‡ä»¶å¼€å§‹æ˜¯ä¸¤ä¸ª&lt;code&gt;WalIndexHdr&lt;/code&gt; + ä¸€ä¸ª&lt;code&gt;WalCkptInfo&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;WalCkptInfo&lt;/code&gt;ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct WalCkptInfo
{
  u32 nBackfill;              /* Number of WAL frames backfilled into DB */
  u32 aReadMark[WAL_NREADER]; /* Reader marks */
  u8 aLock[SQLITE_SHM_NLOCK]; /* Reserved space for locks */
  u32 nBackfillAttempted;     /* WAL frames perhaps written, or maybe not */
  u32 notUsed0;               /* Available for future enhancements */
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…¶ä¸­çš„&lt;code&gt;aLock&lt;/code&gt;å­—æ®µå°±æ˜¯å­˜å‚¨ä¸Šé¢çš„è¿™äº›é”çš„æ•°ç»„ï¼ŒæŠŠå‰é¢è¿™äº›æ•°æ®çš„å¤§å°åŠ èµ·æ¥ï¼Œä¸€ç›´åˆ°è¿™ä¸ªå­—æ®µå°±æ­£å¥½æ˜¯120ï¼Œæœ‰å®å®šä¹‰ä¸ºè¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;/* A block of WALINDEX_LOCK_RESERVED bytes beginning at
** WALINDEX_LOCK_OFFSET is reserved for locks. Since some systems
** only support mandatory file-locks, we do not read or write data
** from the region of the file on which locks are applied.
*/
#define WALINDEX_LOCK_OFFSET (sizeof(WalIndexHdr) * 2 + offsetof(WalCkptInfo, aLock))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ˆå¼•ç”¨è‡ª&lt;a href=&#34;https://www.sqlite.org/walformat.html&#34;&gt;WAL-mode File Format&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Name&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Offset&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;xShmLock&lt;/td&gt;
&lt;td&gt;File&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_WRITE_LOCK&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;0&lt;/td&gt;
&lt;td&gt;120&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_CKPT_LOCK&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;1&lt;/td&gt;
&lt;td&gt;121&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_RECOVER_LOCK&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;2&lt;/td&gt;
&lt;td&gt;122&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_READ_LOCK(0)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;3&lt;/td&gt;
&lt;td&gt;123&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_READ_LOCK(1)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;4&lt;/td&gt;
&lt;td&gt;124&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_READ_LOCK(2)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;5&lt;/td&gt;
&lt;td&gt;125&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_READ_LOCK(3)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;6&lt;/td&gt;
&lt;td&gt;126&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;WAL_READ_LOCK(4)&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;7&lt;/td&gt;
&lt;td&gt;127&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;åŠ è§£é”æ“ä½œ&#34;&gt;åŠ è§£é”æ“ä½œ&lt;/h3&gt;

&lt;p&gt;walä¸å‰é¢çš„journalç›¸æ¯”ï¼Œå°‘äº†å¾ˆå¤šå…¶ä»–ç±»å‹çš„é”ï¼Œwalåªæœ‰ä¸¤ç§ç±»å‹çš„é”ï¼šsharedå…±äº«é”ï¼Œä»¥åŠexclusiveæ’å®ƒé”ã€‚å¯¹åº”çš„APIæœ‰ä¸‹é¢å››ä¸ªï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;static int walLockShared(Wal *pWal, int lockIdx);
static void walUnlockShared(Wal *pWal, int lockIdx);
static int walLockExclusive(Wal *pWal, int lockIdx, int n);
static void walUnlockExclusive(Wal *pWal, int lockIdx, int n);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚ï¼Œéœ€è¦äº¤å¾…ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œå…¶ä¸­ä¼ å…¥çš„å‚æ•°&lt;code&gt;lockIdx&lt;/code&gt;ï¼Œå°±æ˜¯ä¸Šé¢æåˆ°çš„å‡ ç§é”çš„ç±»å‹ç´¢å¼•ã€‚&lt;/p&gt;

&lt;p&gt;å…¶æ¬¡ï¼Œä»£ç ä¸­æœ‰&lt;code&gt;walLockShared(pWal, WAL_WRITE_LOCK)&lt;/code&gt;è¿™æ ·çš„æ“ä½œã€‚å¯¹ä¸€ä¸ªå†™é”åŠ å…±äº«é”åº”è¯¥æ€ä¹ˆç†è§£ï¼Ÿéœ€è¦çº æ­£çš„æ˜¯ï¼Œç±»ä¼¼&lt;code&gt;WAL_WRITE_LOCK&lt;/code&gt;è¿™æ ·çš„å®ï¼Œåªæ˜¯è¡¨ç¤ºè¿™ä¸€å­—èŠ‚ç”¨äºä»€ä¹ˆæ“ä½œï¼Œæ¯”å¦‚&lt;code&gt;WAL_WRITE_LOCK&lt;/code&gt;ç”¨äºå†™æ“ä½œï¼Œå³ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¦æ‹’ç»å…¶ä»–å†™è¯·æ±‚çš„æƒ…å†µä¸‹è¯»æ•°æ®æ—¶ï¼Œå°±åº”è¯¥å¯¹&lt;code&gt;WAL_WRITE_LOCK&lt;/code&gt;ç±»å‹çš„é”åŠ å…±äº«é”ã€‚&lt;/li&gt;
&lt;li&gt;è¦å¼€å§‹å†™æ“ä½œæ—¶ï¼Œå°±åº”è¯¥å¯¹&lt;code&gt;WAL_WRITE_LOCK&lt;/code&gt;ç±»å‹çš„é”åŠ æ’å®ƒé”ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶ä»–ç±»å‹çš„é”ä¾æ¬¡ç±»æ¨ï¼Œå³&lt;code&gt;WAL_*_LOCK&lt;/code&gt;è¿™ç±»å®åªæ˜¯è¡¨ç¤ºè¿™ä¸€ä¸ªå­—èŠ‚çš„ç”¨é€”ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åä¸€ä¸ªç»†èŠ‚æ˜¯ï¼ŒåŠ å…±äº«é”æ—¶åªèƒ½ä¼ å…¥é”ç±»å‹ç´¢å¼•ï¼Œè€ŒåŠ æ’å®ƒé”çš„æ—¶å€™è¿˜èƒ½ä¼ å…¥ä¸€ä¸ªå‚æ•°nï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å› ä¸ºè¿™äº›ä¸åŒç±»å‹çš„é”ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯walç´¢å¼•å…±äº«æ–‡ä»¶ä¸Šè¿ç»­çš„å­—èŠ‚ï¼Œæ‰€ä»¥åŒºåˆ«åœ¨äºï¼Œå…±äº«é”ä¸€æ¬¡åªèƒ½å¯¹ä¸€ä¸ªé”è¿›è¡Œæ“ä½œï¼›è€Œæ’å®ƒé”åˆ™å¯ä»¥ä¸€æ¬¡å¤šå¯¹å¤šä¸ªé”è¿›è¡Œæ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;walLockExclusive(pWal, WAL_READ_LOCK(1), WAL_NREADER - 1);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·å°±èƒ½æŠŠä»1å·è¯»é”å¼€å§‹çš„æ‰€æœ‰è¯»é”éƒ½åŠ ä¸Šæ’å®ƒé”ã€‚&lt;/p&gt;

&lt;p&gt;å†æ¯”å¦‚ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;  iLock = WAL_ALL_BUT_WRITE + pWal-&amp;gt;ckptLock;
  rc = walLockExclusive(pWal, iLock, WAL_READ_LOCK(0) - iLock);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œçš„å‡ ä¸ªå¸¸é‡å–å€¼å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ckptLock&lt;/code&gt;å–å€¼ä¸º0æˆ–è€…1ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WAL_ALL_BUT_WRITE&lt;/code&gt;ä¸º1ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#define WAL_READ_LOCK(I) (3 + (I))&lt;/code&gt;ï¼Œæ‰€ä»¥&lt;code&gt;WAL_READ_LOCK(0)&lt;/code&gt;ä¸º3ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;äºæ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;ckptLock&lt;/code&gt;å–å€¼ä¸º0ï¼Œè¡¨ç¤ºè¿™æ—¶å€™è¿˜æ²¡æœ‰åŠ ä¸Šäº†checkpointçš„æ’å®ƒé”ï¼š

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iLock&lt;/code&gt;ä¸º1ï¼Œ1ä¸º&lt;code&gt;WAL_CKPT_LOCK&lt;/code&gt;è¿™ä¸ªç±»å‹çš„é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WAL_READ_LOCK(0) - iLock&lt;/code&gt;ä¸º2ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·ï¼Œ&lt;code&gt;walLockExclusive(pWal, iLock, WAL_READ_LOCK(0) - iLock);&lt;/code&gt;å°±èƒ½æŠŠcheckpointå’Œ0å·è¯»é”éƒ½åŠ ä¸Šæ’å®ƒé”ï¼Œè¿™æ ·å°±ä¸ä¼šå…¶ä»–checkpointæ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;ckptLock&lt;/code&gt;å–å€¼ä¸º1ï¼Œè¡¨ç¤ºè¿™æ—¶å€™å·²ç»åŠ ä¸Šäº†checkpointçš„æ’å®ƒé”ï¼š

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iLock&lt;/code&gt;ä¸º2ï¼Œ2ä¸º&lt;code&gt;WAL_RECOVER_LOCK&lt;/code&gt;è¿™ä¸ªç±»å‹çš„é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WAL_READ_LOCK(0) - iLock&lt;/code&gt;ä¸º1ã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·ï¼Œ&lt;code&gt;walLockExclusive(pWal, iLock, WAL_READ_LOCK(0) - iLock);&lt;/code&gt;å°±èƒ½æŠŠæ¢å¤åŠ ä¸Šæ’å®ƒé”ï¼Œè¿™æ ·èƒ½è¿›è¡Œæ¢å¤æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ç‰¹æ®Šçš„0å·è¯»é”&#34;&gt;ç‰¹æ®Šçš„0å·è¯»é”&lt;/h3&gt;

&lt;p&gt;é™¤æ­¤ä»¥å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„0å·è¯»é”å¾ˆç‰¹æ®Šï¼Œå®ƒè¡¨ç¤ºè¯»äº‹åŠ¡ç”³è¯·çš„å…±äº«é”ï¼Œå’ŒWAL_WRITE_LOCKä¸å†²çªï¼Œè¯»å†™å¯ä»¥å®Œå…¨å¹¶å‘è¿›è¡Œï¼Œäº’ä¸å½±å“ï¼Œä½†æ˜¯ä¸èƒ½å’Œæ•°æ®åº“åŒæ­¥æ“ä½œå’ŒWAL-indexæ–‡ä»¶æ¢å¤å¹¶å‘è¿›è¡Œã€‚0å·è¯»é”è¡¨ç¤ºåªä»æ•°æ®åº“è¯»å–é¡µã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†å¯¹é”çš„äº†è§£ï¼Œå¯ä»¥æ¥ä¸‹æ¥çœ‹å„ç§æ“ä½œçš„å…·ä½“å®ç°äº†ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è¯»æ“ä½œ&#34;&gt;è¯»æ“ä½œ&lt;/h2&gt;

&lt;p&gt;è¿›è¡Œè¯»æ“ä½œæ—¶ï¼Œå¤§ä½“éœ€è¦ä»¥ä¸‹ä¸¤ä¸ªæ“ä½œï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¿å­˜å½“å‰çš„&lt;code&gt;aReadMark&lt;/code&gt;ï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°è¯»é¡µé¢çš„æ—¶å€™æ•°æ®ä»å“ªé‡Œæ¥çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;æ‹¿åˆ°å¯¹åº”çš„è¯»é”ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸‹é¢åˆ†åˆ«è®¨è®ºè¿™ä¸¤æ–¹é¢çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;h3 id=&#34;readmark&#34;&gt;readMark&lt;/h3&gt;

&lt;p&gt;é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆå«&lt;code&gt;readMark&lt;/code&gt;ï¼Œä»¥åŠæœ‰ä»€ä¹ˆä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å›é¡¾ä¹‹å‰è°ˆåˆ°walæ–‡ä»¶ä»¥åŠwalç´¢å¼•æ–‡ä»¶çš„æ ¼å¼ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªè¦ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¯¹äºåŒä¸€ä¸ªé¡µé¢ç¼–å·çš„é¡µé¢ï¼Œå¯èƒ½ä¼šåœ¨walæ–‡ä»¶å­˜åœ¨ä¸åŒæ—¶é—´çš„å¤šæ¬¡å†™å…¥ç»“æœã€‚è¿™äº›å¤šæ¬¡å†™å…¥ç»“æœé‡Œï¼Œå¦‚æœæ‰€åœ¨çš„äº‹åŠ¡è¿˜æœªæäº¤ï¼Œé‚£ä¹ˆè¿™ä¸ªä¿®æ”¹åº”è¯¥å¯¹è¯»æ“ä½œè¿˜å¤„äºä¸å¯è§çš„çŠ¶æ€ã€‚walæ–‡ä»¶å¤´ä¸­ä½¿ç”¨&lt;code&gt;mxFrame&lt;/code&gt;è¿™ä¸ªå­—æ®µæ¥å­˜å‚¨å½“å‰æœ€åå®Œæˆçš„å†™äº‹åŠ¡çš„å¸§æ•°ï¼Œè¶…è¿‡è¿™ä¸ªå¸§æ•°çš„ä¿®æ”¹éƒ½è®¤ä¸ºè¿˜æ²¡æœ‰å®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;walç´¢å¼•ä¿å­˜ç€é¡µé¢çš„æœ€æ–°ä¿®æ”¹çš„ä½ç½®ä¿¡æ¯ï¼Œè¿™â€œæœ€æ–°ä¿®æ”¹â€æŒ‡çš„æ˜¯å·²ç»æäº¤çš„äº‹åŠ¡ï¼Œå¹¶ä¸åŒ…æ‹¬è¿˜æœªæäº¤çš„äº‹åŠ¡çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;è¯»æ“ä½œæ—¶ï¼Œä»¥é¡µé¢ç¼–å·å…ˆä»walç´¢å¼•ä¸­å°è¯•è¯»è¿™ä¸ªé¡µé¢åœ¨walä¸­çš„ä½ç½®ä¿¡æ¯ï¼š

&lt;ul&gt;
&lt;li&gt;å¦‚æœè¯»æˆåŠŸï¼Œæ ¹æ®è¿™ä¸ªwalçš„ä½ç½®ä¿¡æ¯ï¼Œåˆ°walæ–‡ä»¶ä¸­è¯»å–è¯¥é¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œè¯¥é¡µé¢æ²¡æœ‰åœ¨walä¸­ï¼Œåˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸‹å›¾ä¸ºä¾‹æ¥è¯´æ˜æƒ…å†µï¼Œä¸ºäº†ç®€åŒ–è¯´æ˜ï¼Œä¸€ä¸ªé¡µé¢å­˜å‚¨çš„ä¸€å¯¹KVçš„ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/read-wal.png&#34; alt=&#34;è¯»æ“ä½œçœ‹åˆ°çš„æ•°æ®åº“æ–‡ä»¶å’Œwal&#34; title=&#34;è¯»æ“ä½œçœ‹åˆ°çš„æ•°æ®åº“æ–‡ä»¶å’Œwal&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;åœ¨ä¸Šå›¾ä¸­ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æœ‰ä¸‰ä¸ªå†™äº‹åŠ¡ï¼Œå…¶ä¸­ï¼š

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªäº‹åŠ¡å·²ç»å®Œæˆï¼Œä¿®æ”¹äº†å€¼&lt;code&gt;y=20&lt;/code&gt;ï¼Œè¿™ä¸ªä¿®æ”¹å­˜åœ¨ç¬¬ä¸€å¸§ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿå·²ç»å®Œæˆï¼Œä¿®æ”¹äº†å€¼&lt;code&gt;x=1&lt;/code&gt;å’Œ&lt;code&gt;y=2&lt;/code&gt;ï¼Œè¿™ä¸¤ä¸ªä¿®æ”¹å­˜åœ¨ç¬¬äºŒå’Œç¬¬ä¸‰å¸§ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ä¸ªäº‹åŠ¡è¿˜åœ¨è¿›è¡Œä¸­ï¼Œç›®å‰ä¿®æ”¹äº†å€¼&lt;code&gt;x=3&lt;/code&gt;ï¼Œè¿™ä¸ªä¿®æ”¹å­˜åœ¨ç¬¬å››å¸§ä¸­ï¼Œå…¶ä½™ä¿®æ”¹è¿˜åœ¨è¿›è¡Œä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æ ¹æ®ä¸Šé¢çš„æè¿°ï¼Œé‚£ä¹ˆwalç´¢å¼•ä¸­è¿™å‡ ä¸ªç»´æŠ¤ä½ç½®ä¿¡æ¯çš„å†…å®¹å°±æ˜¯ï¼š

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mxFrame=3&lt;/code&gt;ï¼Œå› ä¸ºè¿™æ˜¯æœ€åä¸€ä¸ªå®Œæˆçš„å†™äº‹åŠ¡çš„æœ€å¤§å¸§æ•°ã€‚&lt;/li&gt;
&lt;li&gt;walç´¢å¼•ä¸­ï¼š&lt;/li&gt;
&lt;li&gt;xçš„ä½ç½®åœ¨ç¬¬å››å¸§ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„è¿™ä¸ªå€¼è¿˜å¹¶æœªæäº¤ï¼Œæ‰€ä»¥è¦åŒºåˆ†ä¸èƒ½è¯»åˆ°æœªæäº¤çš„å€¼ï¼ˆread uncommittedï¼‰ï¼Œè¿™åœ¨ä¸‹é¢ä¼šå±•å¼€è¯´æ˜ã€‚&lt;/li&gt;
&lt;li&gt;yçš„ä½ç½®åœ¨ç¬¬ä¸‰å¸§ã€‚æ³¨æ„åˆ°yæœ‰ä¸¤ä¸ªæ•°æ®ï¼Œä½†æ˜¯å–äº†å·²æäº¤äº‹åŠ¡ä¸­æœ€æ–°çš„é‚£æ¬¡æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;zåœ¨walä¸­æ²¡æœ‰ï¼Œå³åœ¨walå½“å‰ä¿å­˜çš„æ‰€æœ‰äº‹åŠ¡ä¸­éƒ½æ²¡æœ‰ä¿®æ”¹åˆ°zï¼Œäºæ˜¯å¦‚æœéœ€è¦è¯»å–zçš„å€¼ï¼Œéœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œxã€yã€zåˆæ˜¯å¦å¤–çš„ä¸‰ä¸ªå€¼ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™ï¼Œå·²æäº¤äº‹åŠ¡çš„ä¿®æ”¹è¿˜åœ¨WALæ–‡ä»¶ä¸­ï¼Œå¹¶æœªå†™å…¥æ•°æ®åº“æ–‡ä»¶é‡Œé¢ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;äºæ˜¯ï¼Œå½“ä¸€ä¸ªæ–°çš„è¯»æ“ä½œå¼€å§‹çš„æ—¶å€™ï¼Œä¼šè®°å½•ä¸‹æ¥å½“æ—¶çš„&lt;code&gt;mxFrame&lt;/code&gt;ï¼Œè¿™ä¸ªå€¼å¯¹äºè¯»æ“ä½œè€Œè¨€ï¼Œè¢«ç§°ä¸º&lt;code&gt;readMark&lt;/code&gt;ï¼Œä¿å­˜åœ¨&lt;code&gt;WalCkptInfo&lt;/code&gt;ç»“æ„ä½“çš„æˆå‘˜&lt;code&gt;aReadMark&lt;/code&gt;æ•°ç»„ä¸­ã€‚æœ‰äº†è¿™ä¸ªå€¼ï¼Œå½“è¿›è¡Œcheckpointæ“ä½œçš„æ—¶å€™ï¼Œå°±èƒ½åˆ¤æ–­å½“å‰æ˜¯å¦éœ€è¦ç­‰å¾…è¯»æ“ä½œå®Œæˆã€‚è¿™éƒ¨åˆ†å°†åœ¨ä¸‹é¢ç»“åˆcheckpointæµç¨‹ç»§ç»­è®²è§£ã€‚&lt;/p&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œ&lt;code&gt;readMark&lt;/code&gt;è¿˜æœ‰å¦ä¸€å±‚å«ä¹‰ï¼šå³å½“å‰å·²å®Œæˆäº‹åŠ¡çš„æœ€å¤§å¸§æ•°ï¼Œæ‰€ä»¥å½“è¯»äº‹åŠ¡å»è¯»ä¸€ä¸ªé¡µé¢çš„å†…å®¹æ—¶ï¼Œä¼šé¦–å…ˆåˆ°walç´¢å¼•ä¸­ï¼Œæ ¹æ®è¯¥é¡µé¢çš„ç¼–å·æŸ¥è¯¢è¿™ä¸ªé¡µé¢å¯¹åº”çš„å¸§æ•°ï¼Œæœ‰è¿™å‡ ç§å¯èƒ½ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰æ‰¾åˆ°ï¼šè¿™è¯´æ˜å½“å‰walæ–‡ä»¶ä¸­æ²¡æœ‰è¯¥é¡µé¢çš„å†…å®¹ï¼Œè¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°äº†ï¼Œå‡è®¾è¿™ä¸ªå¸§æ•°ä¸º&lt;code&gt;iFrame&lt;/code&gt;ï¼Œè¿™åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;iFrame&amp;gt;readMark&lt;/code&gt;ï¼šè¿™è¯´æ˜æ˜¯è¿™ä¸ªè¯»äº‹åŠ¡ä¹‹åæ‰è¿›è¡Œçš„å†™æ“ä½œï¼Œäºæ˜¯è¿™ä¸ªé¡µé¢çš„å†…å®¹è¿˜æ˜¯ä¸èƒ½ä»WALæ–‡ä»¶ä¸­è¯»å–ï¼Œä»ç„¶åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœä»WALä¸­è¯»å–ï¼Œå¯èƒ½è¯»åˆ°çš„æ˜¯è¿˜æœªæäº¤çš„äº‹åŠ¡çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;iFrame&amp;lt;=readMark&lt;/code&gt;ï¼šè¿™è¯´æ˜æ˜¯åœ¨è¿™ä¸ªè¯»äº‹åŠ¡ä¹‹å‰çš„å†™æ“ä½œï¼Œå¯ä»¥ä»WALæ–‡ä»¶è¯»è¿™ä¸ªé¡µé¢çš„å†…å®¹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»ç„¶ä»¥å‰é¢çš„å›¾ä¸ºä¾‹æ¥è¯´æ˜æƒ…å†µï¼Œå‡è®¾åœ¨ä¸Šå›¾çš„ç¬¬ä¸‰ä¸ªå†™äº‹åŠ¡è¿˜åœ¨è¿›è¡Œçš„æ—¶å€™ï¼Œæ¥äº†ä¸€ä¸ªè¯»äº‹åŠ¡ï¼ŒæŒ‰ç…§å‰é¢çš„è§£é‡Šï¼Œæ­¤æ—¶ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªè¯»äº‹åŠ¡çš„&lt;code&gt;readMark=3&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å‡å¦‚è¿™ä¸ªè¯»äº‹åŠ¡åˆ†åˆ«è¯»äº†xã€yã€zè¿™ä¸‰ä¸ªå€¼ï¼Œå®ƒéœ€è¦åˆ°walç´¢å¼•ä¸­æŸ¥è¯¢è¿™å‡ ä¸ªå€¼æ˜¯å¦åœ¨walæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆï¼š

&lt;ul&gt;
&lt;li&gt;xï¼šxçš„æœ€æ–°å€¼åœ¨ç¬¬å››å¸§ï¼Œå¤§äº&lt;code&gt;readMark=3&lt;/code&gt;ï¼Œè¯´æ˜æ˜¯ä¸ªå‘èµ·è¯»æ“ä½œä¹‹åè¿˜æœªæäº¤çš„å†™äº‹åŠ¡æ›´æ–°çš„ï¼Œè¿™å°±ä¸èƒ½è¯»walçš„æœ€æ–°å€¼ï¼Œè€Œè¦è¯»æ•°æ®åº“æ–‡ä»¶ä¸­çš„å€¼ï¼Œæ­¤æ—¶è¯»å‡ºæ¥çš„å€¼ä¸º&lt;code&gt;x=100&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;yï¼šyçš„æœ€æ–°å€¼åœ¨ç¬¬ä¸‰å¸§ï¼Œå¹¶ä¸å¤§äº&lt;code&gt;readMark=3&lt;/code&gt;ï¼Œæ‰€ä»¥å¯ä»¥ä»¥walçš„å€¼ä¸ºå‡†ï¼Œè¯»å‡ºæ¥&lt;code&gt;y=2&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;zï¼šåœ¨walç´¢å¼•ä¸­æ²¡æœ‰æ‰¾åˆ°zï¼Œåªèƒ½å»æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥ï¼Œè¯»å‡ºæ¥&lt;code&gt;z=300&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å†æ¬¡è¯´æ˜çš„æ˜¯ï¼Œä¸ºäº†é—®é¢˜æè¿°çš„ç®€åŒ–ï¼Œè¿™é‡Œå‡è®¾ä¸€ä¸ªé¡µé¢åªå­˜å‚¨äº†ä¸€å¯¹KVçš„å€¼ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†å¯¹&lt;code&gt;readMark&lt;/code&gt;çš„åˆæ­¥äº†è§£ï¼Œç»§ç»­çœ‹è¯»æ“ä½œå¦‚ä½•è·å¾—è¯»é”ã€‚&lt;/p&gt;

&lt;h3 id=&#34;è¯»é”&#34;&gt;è¯»é”&lt;/h3&gt;

&lt;p&gt;å‰é¢å·²ç»æåˆ°ï¼Œè¯»é”çš„ä¿¡æ¯ä¿å­˜åœ¨&lt;code&gt;WalCkptInfo&lt;/code&gt;çš„&lt;code&gt;aLock&lt;/code&gt;æˆå‘˜ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct WalCkptInfo
{
	// ...
  u32 aReadMark[WAL_NREADER]; /* Reader marks */
  u8 aLock[SQLITE_SHM_NLOCK]; /* Reserved space for locks */
  // ...
};
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨è¿™é‡Œï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;aReadMark&lt;/code&gt;ï¼šç”¨äºå­˜å‚¨æ¯ä¸ªè¯»æ“ä½œçš„&lt;code&gt;readMark&lt;/code&gt;å€¼ï¼Œè¿™ä¸ªå€¼å·²ç»åœ¨ä¸Šé¢åšäº†è§£é‡Šï¼Œè¿™ä¸ªæ•°ç»„çš„å¤§å°ä¸º&lt;code&gt;WAL_NREADER&lt;/code&gt;ï¼Œå³æ¯ä¸ªreaderä¸€ä¸ªreadMarkå€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aLock&lt;/code&gt;ï¼šå­˜å‚¨é”ç±»å‹çš„æ•°ç»„ï¼Œè¿™äº›é”ç±»å‹ä¹Ÿåœ¨ä¸Šé¢åšäº†è¯ é‡Šã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å½“ä¸€ä¸ªè¯»æ“ä½œæ¥çš„æ—¶å€™ï¼Œéœ€è¦è·å¾—ä¸€ä¸ªè¯»é”ï¼Œæ‰èƒ½ç»§ç»­å¾€ä¸‹è¿›è¡Œå®ƒçš„è¯»æ“ä½œï¼Œè¿™ä¸ªè·å¾—é”çš„æµç¨‹ï¼Œåœ¨å‡½æ•°&lt;code&gt;walTryBeginRead&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;walIndexReadHdr&lt;/code&gt;å‡½æ•°è¯»å–walçš„ç´¢å¼•æ–‡ä»¶å¤´ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äº&lt;code&gt;WalCkptInfo&lt;/code&gt;ä¿¡æ¯å­˜å‚¨åœ¨ç´¢å¼•æ–‡ä»¶å¤´ä¸­ï¼Œäºæ˜¯å¯ä»¥æ¥ä¸‹æ¥è°ƒç”¨&lt;code&gt;walCkptInfo&lt;/code&gt;å‡½æ•°æ‹¿åˆ°è¿™éƒ¨åˆ†ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¯»æ‰¾å½“å‰å¯ç”¨çš„è¯»é”ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š

&lt;ol&gt;
&lt;li&gt;æœ‰äº†å½“å‰çš„&lt;code&gt;WalCkptInfo&lt;/code&gt;ä¿¡æ¯ï¼Œéå†å…¶ä¸­çš„&lt;code&gt;aReadMark&lt;/code&gt;æ•°ç»„ï¼Œé€‰å‡ºå…¶ä¸­&lt;code&gt;readMark&lt;/code&gt;æœ€å°çš„é‚£ä¸ªå€¼ï¼Œå¹¶ä¸”è®°å½•ä¸‹è¿™ä¸ªæœ€å°å€¼çš„ç´¢å¼•&lt;code&gt;i&lt;/code&gt;ã€‚è¿™æ˜¯å› ä¸º&lt;code&gt;readMark&lt;/code&gt;å°çš„è¯»æ“ä½œï¼Œæ›´æœ‰å¯èƒ½å·²ç»å®Œæˆäº†è¯»æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;å°è¯•è°ƒç”¨&lt;code&gt;walLockExclusive(pWal, WAL_READ_LOCK(i), 1)&lt;/code&gt;å¯¹ä¸Šä¸€æ­¥æ‹¿åˆ°çš„&lt;code&gt;readMark&lt;/code&gt;æ•°ç»„ç´¢å¼•åŠ æ’ä»–é”ï¼š

&lt;ol&gt;
&lt;li&gt;å¦‚æœæˆåŠŸï¼Œè¯´æ˜è¿™ä¸ªè¯»é”å½“å‰æ²¡æœ‰å…¶å®ƒè¿›ç¨‹åœ¨ç”¨ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯äº†ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œå°±é€’å¢&lt;code&gt;i&lt;/code&gt;ç´¢å¼•å¯¹ä¸‹ä¸€ä¸ªè¯»é”è¿›è¡Œå°è¯•ï¼Œç›´åˆ°éå†å®Œæ¯•æ‰€æœ‰è¯»é”ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;åˆ°äº†è¿™é‡Œï¼Œå·²ç»æ‹¿åˆ°ä¸€ä¸ªå¯ç”¨çš„è¯»é”äº†ï¼Œè°ƒç”¨&lt;code&gt;walLockShared&lt;/code&gt;å¯¹è¿™ä¸ªè¯»é”åŠ å…±äº«é”ã€‚&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;åœ¨å‰é¢çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¯èƒ½æœ‰å†™æ“ä½œåœ¨è¿›è¡Œï¼Œæ‰€ä»¥åœ¨è¿”å›ä¹‹å‰ï¼Œæœ€ååˆ¤æ–­ä¸€ä¸‹wal ç´¢å¼•å¤´æ•°æ®æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœå‘ç”Ÿäº†å˜åŒ–ï¼Œå‰é¢çš„æ­¥éª¤å°±å¾—é‡æ–°æ¥è¿‡ï¼Œè¿”å›é‡è¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;éœ€è¦è¡¥å……è¯´æ˜çš„æ˜¯ï¼Œå‡½æ•°&lt;code&gt;walTryBeginRead&lt;/code&gt;åœ¨è°ƒç”¨æ—¶ï¼Œå¦‚æœè¿”å›é‡è¯•ï¼ˆ&lt;code&gt;WAL_RETRY&lt;/code&gt;ï¼‰çš„è¯ï¼Œè°ƒç”¨è€…ä¼šå°†è°ƒç”¨è®¡æ•°é€’å¢ï¼Œå½“è¿™ä¸ªè°ƒç”¨è®¡æ•°è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼æ—¶ï¼Œå†æ¬¡è°ƒç”¨æ—¶&lt;code&gt;walTryBeginRead&lt;/code&gt;ä¼šä¼‘çœ ä¸€ä¸‹ï¼Œè¶…è¿‡100æ¬¡åˆ™ä¼šæŠ¥é”™ä¸å†å°è¯•ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;  // å°è¯•è¶…è¿‡5æ¬¡çš„æƒ…å†µä¸‹ï¼Œè¦ä¼‘çœ ä¸€ä¸‹
  if (cnt &amp;gt; 5)
  {
    int nDelay = 1; /* Pause time in microseconds */
    if (cnt &amp;gt; 100)
    {
      // è¶…è¿‡100æ¬¡äº†ï¼Œé€€å‡ºæŠ¥é”™
      VVA_ONLY(pWal-&amp;gt;lockError = 1;)
      return SQLITE_PROTOCOL;
    }
    if (cnt &amp;gt;= 10)
      nDelay = (cnt - 9) * (cnt - 9) * 39;
    sqlite3OsSleep(pWal-&amp;gt;pVfs, nDelay);
  }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/walTryBeginRead.png&#34; alt=&#34;walTryBeginReadå‡½æ•°æµç¨‹&#34; title=&#34;walTryBeginReadå‡½æ•°æµç¨‹&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥ä»åŠ è¯»é”çš„æµç¨‹çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;sqliteçš„WALæœºåˆ¶ï¼Œæœ€å¤§åªèƒ½æ”¯æŒåŒæ—¶æœ‰&lt;code&gt;WAL_NREADER&lt;/code&gt;ä¸ªè¯»æ“ä½œå¹¶å‘ã€‚&lt;/li&gt;
&lt;li&gt;åŠ è¯»é”çš„æ—¶å€™ï¼Œå¦‚æœå› ä¸ºå†™æ“ä½œå¯¼è‡´walç´¢å¼•æ–‡ä»¶å¤´å‘ç”Ÿäº†å˜åŒ–ï¼Œå°†å‰åŠŸå°½å¼ƒå†æ¬¡å°è¯•ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å†™æ“ä½œ&#34;&gt;å†™æ“ä½œ&lt;/h2&gt;

&lt;h3 id=&#34;å†™é”&#34;&gt;å†™é”&lt;/h3&gt;

&lt;p&gt;æ‹¿åˆ°å†™é”çš„æµç¨‹ï¼Œå¯¹æ¯”ä¸Šé¢æ‹¿åˆ°è¯»é”çš„æµç¨‹æ¥è¯´ï¼Œå°±ç®€å•å¾ˆå¤šäº†ï¼Œåœ¨å‡½æ•°&lt;code&gt;sqlite3WalBeginWriteTransaction&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;walLockExclusive(pWal, WAL_WRITE_LOCK, 1)&lt;/code&gt;æ‹¿åˆ°å†™é”çš„æ’å®ƒé”ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ ·ä¹Ÿæ˜¯æ£€æŸ¥æ˜¯å¦walç´¢å¼•å¤´å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœæ˜¯åˆ™éœ€è¦å†æ¬¡å°è¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è€Œè§£å†™é”æ“ä½œå°±åœ¨å‡½æ•°&lt;code&gt;sqlite3WalBeginWriteTransaction&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªå‡½æ•°çš„å®ç°éƒ½æŒºç®€å•ï¼Œå°±ä¸å±•å¼€é˜è¿°äº†ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å†™æ“ä½œ-1&#34;&gt;å†™æ“ä½œ&lt;/h3&gt;

&lt;p&gt;çœŸæ­£å°†è„é¡µé¢å†™å…¥walæ–‡ä»¶ä¸­çš„æ“ä½œåœ¨å‡½æ•°&lt;code&gt;sqlite3WalFrames&lt;/code&gt;ä¸­ï¼Œè¯¥å‡½æ•°æœ‰å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„å‚æ•°ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;PgHdr *pListï¼šè„é¡µé¢é“¾è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;int isCommitï¼šä¸º1çš„æƒ…å†µä¸‹ï¼Œè¡¨ç¤ºè¿™æ˜¯æäº¤æ“ä½œï¼Œå³è¿™ä¸ªå†™äº‹åŠ¡çš„æœ€åä¸€æ¬¡è°ƒç”¨&lt;code&gt;sqlite3WalFrames&lt;/code&gt;å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;sqlite3WalFrames&lt;/code&gt;å‡½æ•°çš„å®ç°ä¹Ÿå¹¶ä¸å¤æ‚ï¼Œæœ‰è¿™ä¹ˆå‡ ä¸ªäº‹æƒ…ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ‹¿åˆ°å½“å‰å†™walçš„èµ·å§‹ä½ç½®ï¼Œä»è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œéå†è„é¡µé¢å†™å…¥walæ–‡ä»¶ä¸­ã€‚è€Œè¿™ä¸ªèµ·å§‹ä½ç½®ï¼Œå°±æ˜¯å‰é¢æåˆ°çš„&lt;code&gt;mxFrame+1&lt;/code&gt;å¸§ã€‚

&lt;ul&gt;
&lt;li&gt;ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘åˆ°å¯èƒ½å‡ºç°çš„è¦†ç›–æƒ…å†µï¼Œå³ï¼šåŒä¸€æ¬¡å†™äº‹åŠ¡ï¼Œå¯¹åŒä¸€ä¸ªé¡µé¢æœ‰å¤šæ¬¡å†™æ“ä½œï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œåé¢å¯¹åŒä¸€ä¸ªé¡µé¢çš„å†™æ“ä½œï¼Œä¸åº”è¯¥å†™åˆ°walåé¢ï¼Œè€Œæ˜¯è¦†ç›–å‰é¢çš„å†…å®¹ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;éå†è„é¡µé¢é“¾è¡¨ï¼Œå°†è„é¡µé¢å†™å…¥walæ–‡ä»¶ä¹‹åï¼Œå°±éœ€è¦æ ¹æ®æœ€æ–°çš„é¡µé¢ç¼–å·å’Œwalæ–‡ä»¶å¸§æ•°çš„å¯¹åº”å…³ç³»ï¼Œæ›´æ–°walç´¢å¼•çš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œæ›´æ–°&lt;code&gt;mxFrame&lt;/code&gt;çš„å€¼ä¸ºWALæ–‡ä»¶å½“å‰çš„æœ€å¤§å¸§æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿˜æ˜¯ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸ªæµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/write-wal.png&#34; alt=&#34;å†™äº‹åŠ¡ä¿®æ”¹WALæ–‡ä»¶å’ŒWALç´¢å¼•æ•°æ®&#34; title=&#34;å†™äº‹åŠ¡ä¿®æ”¹WALæ–‡ä»¶å’ŒWALç´¢å¼•æ•°æ®&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç²¾ç®€äº†å¾ˆå¤šæƒ…å†µï¼Œå‡è®¾ä»WALæ–‡ä»¶çš„å¼€å¤´å¼€å§‹å†™è„é¡µé¢äº†ï¼Œå›¾ä¸­çš„å†™äº‹åŠ¡ä¸€å…±å†™äº†ä¸‰æ¬¡é¡µé¢ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å†™å…¥&lt;code&gt;y=200&lt;/code&gt;ï¼šè¿™æ—¶å€™å°†è¿™ä¸ªå†…å®¹å†™å…¥WALæ–‡ä»¶ä¸­çš„ç¬¬ä¸€å¸§ï¼Œæ›´æ–°walç´¢å¼•ä¸­yé¡µé¢çš„å¸§æ•°ä¸º1ï¼Œè€Œæ­¤æ—¶xè¿˜æ²¡æœ‰å†…å®¹ã€‚å†™å®Œæ¯•ä¹‹åï¼Œæ›´æ–°&lt;code&gt;mxFrame=1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å†™å…¥&lt;code&gt;x=100&lt;/code&gt;ï¼šè¿™æ—¶å€™å°†è¿™ä¸ªå†…å®¹å†™å…¥WALæ–‡ä»¶ä¸­çš„ç¬¬äºŒå¸§ï¼Œæ›´æ–°walç´¢å¼•ä¸­xé¡µé¢çš„å¸§æ•°ä¸º2ã€‚å†™å®Œæ¯•ä¹‹åï¼Œæ›´æ–°&lt;code&gt;mxFrame=1&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å†™å…¥&lt;code&gt;y=101&lt;/code&gt;ï¼šå†™å…¥æ—¶å‘ç°ï¼ŒåŒä¸€ä¸ªäº‹åŠ¡ä¹‹å‰å·²ç»ä¿®æ”¹è¿‡yé¡µé¢äº†ï¼Œäºæ˜¯è¿™ä¸€æ¬¡å¹¶ä¸æŠŠ&lt;code&gt;y=101&lt;/code&gt;çš„ä¿®æ”¹ç»§ç»­å†™åˆ°WALæ–‡ä»¶ç»“å°¾ï¼Œè€Œæ˜¯è¦†ç›–ç¬¬ä¸€å¸§ä¸­å·²ç»å­˜åœ¨çš„yé¡µé¢å†…å®¹ï¼ŒåŒæ—¶ç´¢å¼•æ•°æ®ä¹Ÿä¸éœ€è¦æ›´æ–°ï¼šå› ä¸ºæ˜¯è¦†ç›–æ“ä½œï¼Œyé¡µé¢çš„å¸§æ•°å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚åŒæ ·çš„ï¼Œç”±äºæ²¡æœ‰ä¿®æ”¹WALæ–‡ä»¶çš„æœ€å¤§å¸§æ•°ï¼Œ&lt;code&gt;mxFrame&lt;/code&gt;ä¹Ÿæ²¡æœ‰ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;é¡µé¢æ ¡éªŒå€¼çš„è®¡ç®—&#34;&gt;é¡µé¢æ ¡éªŒå€¼çš„è®¡ç®—&lt;/h3&gt;

&lt;h2 id=&#34;checkpoint-1&#34;&gt;checkpoint&lt;/h2&gt;

&lt;h3 id=&#34;æ€»ä½“æµç¨‹&#34;&gt;æ€»ä½“æµç¨‹&lt;/h3&gt;

&lt;p&gt;æœ‰äº†å‰é¢è¯»ã€å†™æ“ä½œçš„äº†è§£ï¼Œæ¥ç€æ¥äº†è§£ä¸€ä¸‹checkpointæ“ä½œæ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å›é¡¾ä¸€ä¸‹&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œè¦å®Œæˆçš„äº‹æƒ…ï¼šç”±äºwalæ—¥å¿—ä¸­å­˜å‚¨çš„ï¼Œéƒ½æ˜¯æ¯æ¬¡å†™äº‹åŠ¡è¢«ä¿®æ”¹çš„é¡µé¢ï¼Œå› æ­¤&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œå°±æ˜¯å°†walæ—¥å¿—ä¸­è¢«ä¿®æ”¹çš„é¡µé¢å†™å…¥æ•°æ®åº“æ–‡ä»¶ä¸­ã€‚ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼Œå› æ­¤&lt;code&gt;checkpoint&lt;/code&gt;ä¹Ÿè¢«ç§°ä¸º&lt;code&gt;backfillï¼ˆå›å¡«ï¼‰&lt;/code&gt;æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/checkpoint.png&#34; alt=&#34;checkpointæ“ä½œ&#34; title=&#34;checkpointæ“ä½œ&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çš„è¯»å†™æµç¨‹çš„åˆ†æé‡Œçœ‹å‡ºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åŒæ—¶èƒ½æ”¯æŒå¤šä¸ªè¯»äº‹åŠ¡ï¼Œæ¯ä¸ªè¯»äº‹åŠ¡éƒ½æœ‰ä¸€ä¸ª&lt;code&gt;readMark&lt;/code&gt;å€¼ï¼Œç”¨æ¥åŒºåˆ†è¿™ä¸ªè¯»æ“ä½œè¯»åˆ°åœ¨WALä¸­å­˜å‚¨çš„æŸä¸ªé¡µé¢æ—¶ï¼Œæ˜¯ä»¥walçš„é¡µé¢ä¸ºå‡†ï¼Œè¿˜æ˜¯åº”è¯¥åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–è¿™ä¸ªé¡µé¢ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶åªèƒ½å­˜åœ¨ä¸€ä¸ªå†™äº‹åŠ¡ï¼Œè¿™ä¸ªå†™äº‹åŠ¡æ²¡æœ‰å®Œæˆä¹‹å‰ï¼Œä»»ä½•è¯»äº‹åŠ¡ä¸èƒ½è¯»åˆ°å®ƒçš„æ•°æ®ï¼Œå› ä¸ºæ˜¯æœªæäº¤ï¼ˆuncommittedï¼‰çš„ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å› æ­¤ï¼Œåœ¨åš&lt;code&gt;checkpoint&lt;/code&gt;çš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸èƒ½å°†æœªæäº¤å†™äº‹åŠ¡çš„ä¿®æ”¹ï¼Œå›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºæ­£åœ¨è¿›è¡Œçš„è¯»æ“ä½œï¼Œä¸èƒ½å°†è¶…è¿‡è¯¥è¯»æ“ä½œçš„&lt;code&gt;readMark&lt;/code&gt;å€¼çš„å¸§ï¼Œå›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œéœ€è¦ç­‰å¾…è¯»æ“ä½œå®Œæˆæ‰èƒ½å›å¡«è¿™éƒ¨åˆ†æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://www.codedump.info/media/imgs/20220106-sqlite-btree-4-wal/checkpoint-readmark.png&#34; alt=&#34;checkpointæ“ä½œ&#34; title=&#34;checkpointæ“ä½œ&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ç‚¹å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæœªæäº¤çš„å†™äº‹åŠ¡ï¼Œå¯èƒ½åªä¿®æ”¹äº†ä¸€éƒ¨åˆ†ï¼Œå¦‚æœåœ¨æœªæäº¤è¿™ä¸ªå†™äº‹åŠ¡ä¹‹å‰ï¼Œå°±æŠŠè¿™ä¸€éƒ¨åˆ†å›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œä¼šé€ æˆè¯»å‡ºæ¥çš„è¿™éƒ¨åˆ†æ•°æ®é©´å¤´ä¸å¯¹é©¬å˜´ã€‚æ¯”å¦‚ä¸€ä¸ªå†™äº‹åŠ¡çš„ä¿®æ”¹ï¼Œæ˜¯å°†Aè´¦å·çš„100è½¬è´¦åˆ°Bè´¦å·ä¸Šï¼Œäºæ˜¯è¿™ä¸ªå†™äº‹åŠ¡å°±æ¶‰åŠä¸¤ä¸ªä¿®æ”¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Aï¼šæ‰£é™¤100ã€‚&lt;/li&gt;
&lt;li&gt;Bï¼šåŠ ä¸Š100ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœè¿™ä¸ªäº‹åŠ¡å½“å‰åªå®Œæˆäº†ä¸Šé¢çš„ç¬¬ä¸€æ­¥ä¿®æ”¹ï¼Œè¿™ä¸ªä¿®æ”¹é©¬ä¸Šè¢«å›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œè¿™æ—¶å€™çœ‹åˆ°çš„å°±æ˜¯Aå°‘äº†100ï¼Œè€ŒBæ²¡æœ‰å˜åŒ–ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯æ¥å—çš„ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬äºŒç‚¹çš„ç†è§£ï¼Œè¦å›åˆ°å‰é¢å¯¹&lt;code&gt;readMark&lt;/code&gt;å€¼çš„è§£é‡Šä¸Šï¼šä¸€ä¸ªè¯»æ“ä½œå¼€å§‹ä¹‹å‰ï¼Œä¼šè®°å½•ä¸€ä¸‹å½“å‰å·²å®Œæˆå†™äº‹åŠ¡çš„æœ€å¤§ä¿®æ”¹å¸§æ•°åšä¸ºè‡ªå·±çš„&lt;code&gt;readMark&lt;/code&gt;ï¼Œåœ¨åç»­çš„è¯»æ“ä½œä¸­ï¼Œä»walç´¢å¼•ä¸­æŸ¥è¯¢ä¸€ä¸ªé¡µé¢ç¼–å·ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å¯èƒ½ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;æ²¡æœ‰æ‰¾åˆ°ï¼Œè¯´æ˜éœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥æ‰¾è¯¥é¡µé¢å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°äº†ï¼Œåˆéœ€è¦åŒºåˆ†ä¸¤ç§æƒ…å†µï¼š

&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªé¡µé¢æ‰€åœ¨çš„å¸§æ•°&amp;lt;&lt;code&gt;readMark&lt;/code&gt;ï¼šè¯´æ˜è¿™ä¸ªé¡µé¢åœ¨è¯»æ“ä½œå¼€å§‹ä¹‹åå†æ²¡æœ‰è¢«ä¿®æ”¹äº†ï¼Œå¯ä»¥ä»¥walçš„å†…å®¹ä¸ºå‡†ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼šè¯´æ˜è¿™ä¸ªé¡µé¢åœ¨è¯»æ“ä½œä¹‹åè¢«ä¿®æ”¹äº†ï¼Œéœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­æŸ¥è¯¢è¢«ä¿®æ”¹ä¹‹å‰çš„å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ³¨æ„ï¼šä¸Šé¢çš„â€è¿™ä¸ªé¡µé¢åœ¨è¯»æ“ä½œä¹‹åè¢«ä¿®æ”¹â€œæ¡ä»¶ï¼Œä¸ä»…åŒ…æ‹¬è¿™ä¸ªä¿®æ”¹å¯¹åº”çš„å†™äº‹åŠ¡æ²¡æœ‰è¢«æäº¤ï¼Œä¹ŸåŒ…æ‹¬å†™äº‹åŠ¡å·²æäº¤çš„æƒ…å†µã€‚&lt;/p&gt;

&lt;p&gt;å³ï¼š&lt;code&gt;readMark&lt;/code&gt;ä¿è¯äº†ï¼Œä¸€ä¸ªè¯»äº‹åŠ¡ç»å¯¹ä¸èƒ½è¯»åˆ°åœ¨è¿™ä¸ªè¯»äº‹åŠ¡ä¹‹åçš„ä»»ä½•ä¿®æ”¹ã€‚&lt;/p&gt;

&lt;p&gt;ç”±è¿™ä¸ªè§£é‡Šå¯ä»¥çœ‹åˆ°ï¼Œå½“ä¸€ä¸ªè¯»æ“ä½œåˆ¤æ–­ä¸€ä¸ªé¡µé¢çš„å†…å®¹éœ€è¦åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­è¯»å–æ—¶ï¼Œéœ€è¦è¯»åˆ°çš„æ˜¯è¿™ä¸ªè¯»äº‹åŠ¡ä¹‹å‰çš„ä¿®æ”¹ã€‚å› æ­¤ï¼Œ&lt;code&gt;checkpoint&lt;/code&gt;éœ€è¦ä¿è¯ï¼šä¸èƒ½å°†è¶…è¿‡å½“å‰ä»»ä½•è¯»æ“ä½œçš„&lt;code&gt;readMark&lt;/code&gt;å€¼çš„å¸§æ•°ï¼Œå›å¡«å…¶ä¿å­˜çš„é¡µé¢åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;åˆ°äº†è¿™é‡Œï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šä¸€ä¸ª&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œçš„æµç¨‹äº†ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åŠ &lt;code&gt;checkpoint&lt;/code&gt;çš„æ’å®ƒé”ï¼Œä¿è¯åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ª&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œåœ¨è¿›è¡Œã€‚&lt;/li&gt;
&lt;li&gt;ç®—å‡ºå½“å‰æœ€å¤§å¯ä»¥å›å¡«åˆ°ç¬¬å‡ å¸§çš„æ•°æ®ï¼Œå‡è®¾è¿™ä¸ªå€¼ä¿å­˜åœ¨å˜é‡&lt;code&gt;mxSafeFrame&lt;/code&gt;ä¸­ï¼Œæµç¨‹å¦‚ä¸‹ï¼š

&lt;ul&gt;
&lt;li&gt;åˆå§‹æ—¶ï¼Œå–&lt;code&gt;mxSafeFrame=mxFrame&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éå†å½“å‰æ‰€æœ‰è¿˜åœ¨è¿›è¡Œçš„è¯»æ“ä½œï¼Œå–&lt;code&gt;mxSafeFrame=min(mxSafeFrame, aReadMark)&lt;/code&gt;ï¼Œå³ä¸èƒ½è¶…è¿‡ä»»ä½•ä¸€ä¸ªåœ¨è¿›è¡Œçš„è¯»æ“ä½œçš„&lt;code&gt;readMark&lt;/code&gt;å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;è®¡ç®—å‡ºæ¥äº†æœ€å¤§å›å¡«å¸§æ•°ï¼Œå¯ä»¥å®é™…è¿›è¡Œå›å¡«æ“ä½œäº†ï¼šéå†å½“å‰çš„walæ–‡ä»¶ï¼Œå°†æ‰€æœ‰å¸§æ•°å°äºç­‰äº&lt;code&gt;mxSafeFrame&lt;/code&gt;çš„ä¿®æ”¹éƒ½å›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»¥ä¸Šæ˜¯&lt;code&gt;checkpoint&lt;/code&gt;æµç¨‹çš„æ€»ä½“æè¿°ï¼Œå…¶ä¸­æ¶‰åŠçš„ä¸»è¦å‡½æ•°æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;sqlite3WalCheckpoint&lt;/code&gt;ï¼š&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œçš„å…¥å£å‡½æ•°ï¼Œè´Ÿè´£åŠ &lt;code&gt;checkpoint&lt;/code&gt;æ’å®ƒé”ï¼Œç„¶åç»§ç»­è°ƒç”¨ä¸‹é¢çš„&lt;code&gt;walCheckpoint&lt;/code&gt;è¿›è¡Œå®é™…çš„å›å¡«æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;walCheckpoint&lt;/code&gt;ï¼šæ‰§è¡Œ&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æƒ³äº†è§£æ›´å¤šç»†èŠ‚çš„è¯»è€…å¯ä»¥è‡ªè¡Œé˜…è¯»ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ä¸åŒçš„checkpointæ¨¡å¼&#34;&gt;ä¸åŒçš„checkpointæ¨¡å¼&lt;/h3&gt;

&lt;p&gt;ä¸Šé¢åªæ˜¯äº†è§£äº†&lt;code&gt;checkpoint&lt;/code&gt;çš„å¤§ä½“æµç¨‹ï¼Œä½†æ˜¯ä¸åŒçš„checkpointæ¨¡å¼åˆæœ‰åŒºåˆ«ï¼Œæœ‰å¦‚ä¸‹çš„å®æ¥è¿›è¡ŒåŒºåˆ†ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define SQLITE_CHECKPOINT_PASSIVE  0  /* Do as much as possible w/o blocking */
#define SQLITE_CHECKPOINT_FULL     1  /* Wait for writers, then checkpoint */
#define SQLITE_CHECKPOINT_RESTART  2  /* Like FULL but wait for for readers */
#define SQLITE_CHECKPOINT_TRUNCATE 3  /* Like RESTART but also truncate WAL */
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;sqlite-checkpoint-passive&#34;&gt;SQLITE_CHECKPOINT_PASSIVE&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œä¸ä¼šç­‰å¾…è¯»å†™æ“ä½œå®Œæˆï¼Œè€Œæ˜¯åŸºäºç°æœ‰çš„æ•°æ®ï¼Œå°½å¯èƒ½å°†å®‰å…¨çš„å¸§å›å¡«åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§æ¨¡å¼æ›´æ¥è¿‘äºä¸€ç§â€æ­¥è¿›ï¼ˆstepï¼‰â€œçš„æ¨¡å¼ï¼šæ¯æ¬¡å›å¡«ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå›å¡«ä¸å®Œå°±ç›´æ¥è¿”å›ä¸å†è¿›è¡Œã€‚æ‰€ä»¥ï¼Œéœ€è¦æŸäº›å˜é‡æ¥ä¿å­˜å½“å‰çš„å›å¡«è¿›åº¦ï¼Œè¿™ä¸ªå€¼ä¿å­˜åœ¨&lt;code&gt;WalCkptInfo.nBackfill&lt;/code&gt;ï¼Œæ‰€ä»¥å›å¡«è¿˜æ²¡æœ‰ç»“æŸçš„æ¡ä»¶ä¹Ÿå°±æ˜¯ï¼š&lt;code&gt;pInfo-&amp;gt;nBackfill &amp;lt; pWal-&amp;gt;hdr.mxFrame&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&#34;sqlite-checkpoint-full&#34;&gt;SQLITE_CHECKPOINT_FULL&lt;/h4&gt;

&lt;p&gt;è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œ&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œä¼šç­‰å¾…å†™æ“ä½œå®Œæˆï¼Œæ‰ç»§ç»­è¿›è¡Œå›å¡«æ“ä½œï¼Œè€Œåœ¨å›å¡«è¿‡ç¨‹ä¸­ä¹Ÿä¸å†å…è®¸æœ‰æ–°çš„å†™æ“ä½œè¿›è¡Œã€‚&lt;/p&gt;

&lt;h4 id=&#34;sqlite-checkpoint-restart&#34;&gt;SQLITE_CHECKPOINT_RESTART&lt;/h4&gt;

&lt;p&gt;å¯¹æ¯”&lt;code&gt;SQLITE_CHECKPOINT_FULL&lt;/code&gt;æ¨¡å¼ï¼Œè¿™ä¸€ä¸ªæ¨¡å¼æ›´è¿›äº†ä¸€æ­¥ï¼šç­‰å¾…æ‰€æœ‰è¯»æ“ä½œå®Œæˆæ‰å¼€å§‹å›å¡«æ“ä½œï¼ŒåŒæ ·çš„ï¼Œåœ¨&lt;code&gt;checkpoint&lt;/code&gt;è¿‡ç¨‹ä¸­é™¤äº†ä¸èƒ½æœ‰å†™æ“ä½œè¿˜ä¸èƒ½æœ‰è¯»æ“ä½œã€‚&lt;/p&gt;

&lt;h4 id=&#34;sqlite-checkpoint-truncate&#34;&gt;SQLITE_CHECKPOINT_TRUNCATE&lt;/h4&gt;

&lt;p&gt;è¿™ä¸€ä¸ªæ¨¡å¼å¯¹æ¯”&lt;code&gt;SQLITE_CHECKPOINT_RESTART&lt;/code&gt;åˆæ›´è¿‘äº†ä¸€æ­¥ï¼Œåœ¨å›å¡«å®Œæ¯•ä¹‹åï¼Œå°†æˆªæ–­WALæ–‡ä»¶ï¼Œè¿™æ ·åé¢æ–°æ¥çš„walçš„å†™æ“ä½œï¼Œå°†ä»walæ–‡ä»¶çš„å¼€å§‹ä½ç½®å¼€å§‹å†™ã€‚æˆ‘ä»¬å‰é¢æåˆ°ï¼Œåœ¨walæ–‡ä»¶ä¸­æŸ¥æ‰¾ä¸€ä¸ªé¡µé¢æ—¶ï¼Œè·Ÿwalæ–‡ä»¶çš„å¤§å°æˆæ­£æ¯”ï¼Œæ‰€ä»¥å›å¡«å®Œæ¯•æˆªæ–­walæ–‡ä»¶é‡æ–°å¼€å§‹å†™ï¼Œä¼šåŠ é€Ÿåé¢çš„æŸ¥è¯¢æ“ä½œã€‚&lt;/p&gt;

&lt;h2 id=&#34;é”™è¯¯æ¢å¤&#34;&gt;é”™è¯¯æ¢å¤&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸Šå·²ç»æŠŠwalçš„è¯»ã€å†™ã€checkpointæµç¨‹éƒ½äº†è§£äº†ï¼Œæœ€åäº†è§£ä¸€ä¸‹walçš„é”™è¯¯æ¢å¤æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;

&lt;p&gt;åŒºåˆ†å‡ ç§æƒ…å†µä¸‹é¢çš„å‡ºé”™å´©æºƒï¼Œä»¥åŠè¿™äº›æƒ…å†µä¸‹éƒ½å¦‚ä½•æ¢å¤çš„ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å†™äº‹åŠ¡è¿›è¡Œæ—¶å‡ºé”™å´©æºƒï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¾ç„¶walä¸­å­˜å‚¨äº†ä¸€éƒ¨åˆ†è¿™ä¸ªå†™äº‹åŠ¡çš„ä¿®æ”¹ï¼Œå´©æºƒæ¢å¤æ—¶æ ¡éªŒåä¼šå‘ç°è¿™éƒ¨åˆ†çš„ä¿®æ”¹ä¸å®Œå…¨ï¼Œäºæ˜¯ä¼šå°†è¿™éƒ¨åˆ†ä¿®æ”¹æˆªæ–­ï¼Œè€Œæ•°æ®åº“æ–‡ä»¶ï¼Œæ ¹æ®å‰é¢&lt;code&gt;checkpoint&lt;/code&gt;æµç¨‹çš„è®²è§£ï¼Œå¹¶ä¸ä¼šå›å¡«è¿˜æœªæäº¤çš„å†™äº‹åŠ¡çš„ä¿®æ”¹ï¼Œæ‰€ä»¥æ•°æ®åº“æ–‡ä»¶å¹¶æœªæŸåã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ²¡æœ‰ä»»ä½•å†™äº‹åŠ¡ï¼Œåœ¨è¿›è¡Œ&lt;code&gt;checkpoint&lt;/code&gt;è¿‡ç¨‹ä¸­å´©æºƒï¼šåœ¨è¿›è¡Œ&lt;code&gt;checkpoint&lt;/code&gt;æ—¶ï¼Œä¸å…è®¸åŒæ—¶å¹¶å‘æœ‰å†™æ“ä½œã€‚äºæ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œwalæ–‡ä»¶ä¸­ä¿å­˜çš„æ•°æ®ï¼Œéƒ½æ˜¯å®Œæ•´çš„å†™äº‹åŠ¡ä¿®æ”¹æ•°æ®ã€‚å¯åŠ¨åæ ¡éªŒwalæ–‡ä»¶å‘ç°å†…å®¹éƒ½æ˜¯å¯¹çš„ï¼Œäºæ˜¯éå†walæ–‡ä»¶ï¼Œé¦–å…ˆå°†å½“å‰walæ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å›å¡«è‡³æ•°æ®åº“æ–‡ä»¶ä¸­å†å¯åŠ¨å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h1&gt;

&lt;p&gt;æœ€åå¯¹walæœºåˆ¶åšä¸€ä¸ªç®€çŸ­çš„æ€»ç»“ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¸journalå¤‡ä»½æœºåˆ¶ä¸åŒçš„æ˜¯ï¼šjournalå¤‡ä»½çš„æ˜¯ä¿®æ”¹ä¹‹å‰çš„é¡µé¢å†…å®¹ï¼Œè€Œwalå­˜å‚¨çš„æ˜¯ä¿®æ”¹åçš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;äºæ˜¯ï¼Œwalä¸­å¯èƒ½å­˜å‚¨äº†åŒä¸€ä¸ªé¡µé¢çš„å¤šæ¬¡ä¿®æ”¹ç»“æœï¼Œå› ä¸ºä¸åŒçš„äº‹åŠ¡ã€ç”šè‡³ç›¸åŒçš„äº‹åŠ¡ï¼Œéƒ½æœ‰å¯èƒ½ä¿®æ”¹äº†åŒä¸€ä¸ªé¡µé¢ï¼Œè€Œæ¯ä¸€æ¬¡ä¿®æ”¹éƒ½è¦å°†ä¿®æ”¹ç»“æœå­˜å‚¨walæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;walæ–‡ä»¶ä¸­ï¼Œå­˜å‚¨ä¸€ä¸ªé¡µé¢å†…å®¹çš„å•ä½æ˜¯â€å¸§ï¼ˆframeï¼‰â€œï¼Œä¸€å¸§å­˜å‚¨ä¸€ä¸ªé¡µé¢ï¼Œè€Œåè¿‡æ¥ä¸€ä¸ªé¡µé¢å¯èƒ½å…ˆåè¢«å­˜å‚¨åœ¨ä¸åŒå¸§çš„å†…å®¹ä¸­ã€‚äºæ˜¯å°±éœ€è¦walç´¢å¼•æ•°æ®ï¼š&lt;/li&gt;
&lt;li&gt;walç´¢å¼•éœ€è¦å­˜å‚¨ä¸¤ç±»æ•°æ®ï¼šä¸€ä¸ªå¸§å­˜å‚¨çš„æ˜¯å“ªä¸ªé¡µé¢çš„æ•°æ®ï¼Œä»¥åŠæŸä¸ªé¡µé¢æœ€æ–°çš„æ•°æ®å­˜å‚¨åœ¨å“ªä¸€å¸§ã€‚&lt;/li&gt;
&lt;li&gt;å®Œæˆä¸€æ¬¡å†™æ“ä½œï¼Œwalåªéœ€ä¸€æ¬¡syncæ“ä½œï¼ˆsync walæ–‡ä»¶ï¼‰ï¼Œjournaléœ€è¦ä¸¤æ¬¡ï¼ˆsync journalæ–‡ä»¶ä¸€æ¬¡ï¼Œå°†é¡µé¢ç¼“å­˜å†™å…¥æ•°æ®åº“æ–‡ä»¶ä¹‹åsyncæ•°æ®åº“æ–‡ä»¶ä¸€æ¬¡ï¼‰ï¼Œå› æ­¤walçš„å†™æ€§èƒ½æ›´é«˜ã€‚&lt;/li&gt;
&lt;li&gt;walæ”¯æŒä¸€å†™å¤šè¯»çš„å¹¶å‘ï¼Œä½†æ˜¯journalåœ¨å†™çš„æ—¶å€™ä¸æ”¯æŒåŒæ—¶è¯»æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰ä¸¤ä¸ªé‡è¦çš„å˜é‡æ¥ä¿è¯å¹¶å‘è¯»æ—¶ä¸ä¼šè¯»åˆ°è¯»æ“ä½œå¼€å§‹ä¹‹åçš„ä¿®æ”¹ï¼š&lt;code&gt;mxFrame&lt;/code&gt;ä¿å­˜çš„æ˜¯å½“å‰æœ€æäº¤çš„å†™äº‹åŠ¡å†™çš„æœ€å¤§å¸§æ•°ï¼›æ¯ä¸ªè¯»æ“ä½œè¿˜ä¿å­˜äº†ä¸€ä¸ª&lt;code&gt;readMark&lt;/code&gt;å€¼ï¼Œå­˜å‚¨çš„æ˜¯è¯»æ“ä½œå¼€å§‹æ—¶çš„&lt;code&gt;mxFrame&lt;/code&gt;å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;checkpoint&lt;/code&gt;æ“ä½œï¼Œåˆç§°ä¸º&lt;code&gt;å›å¡«ï¼ˆbackfillï¼‰&lt;/code&gt;æ“ä½œï¼Œç”¨äºå°†walæ–‡ä»¶çš„å†…å®¹åŒæ­¥åˆ°æ•°æ®åº“æ–‡ä»¶ä¸­ï¼Œå®ƒéœ€è¦å‰é¢çš„&lt;code&gt;mxFrame&lt;/code&gt;å’Œ&lt;code&gt;readMark&lt;/code&gt;æ¥ä¿è¯å›å¡«æ“ä½œçš„æ­£ç¡®æ€§ã€‚å›å¡«æ“ä½œä¼šå½±å“åŒæ—¶åœ¨è¿›è¡Œçš„è¯»ã€å†™æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sqlite.org/wal.html&#34;&gt;Write-Ahead Logging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sqlite.org/walformat.html&#34;&gt;WAL-mode File Format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;WALæ–‡ä»¶æ ¼å¼è§ï¼š&lt;a href=&#34;https://www.sqlite.org/fileformat2.html&#34;&gt;Database File Format&lt;/a&gt;ä¸­â€œ4. The Write-Ahead Logâ€è¿™ä¸€å°èŠ‚å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;checkpointä¸­å‡ ç§æ¨¡å¼çš„è§£é‡Šï¼š&lt;a href=&#34;https://sqlite.org/c3ref/wal_checkpoint_v2.html&#34;&gt;Checkpoint a database&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/zearot/article/details/51039593&#34;&gt;SQLiteåˆ†æä¹‹WALæœºåˆ¶_å²©ä¹‹ç—•-CSDNåšå®¢_sqlite wal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.csdn.net/pfysw/article/details/80531495&#34;&gt;SQLite3æºç å­¦ä¹ ï¼ˆ31ï¼‰ WALæ—¥å¿—çš„é”æœºåˆ¶_test-CSDNåšå®¢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>